(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[8359],{56049:(M,Xn,T)=>{var C={"./attribute-path.svg":79525,"./button-size-l-icon.svg":47425,"./button-size-m-icon.svg":97771,"./button-size-s-icon.svg":71802,"./button-size-xl-icon.svg":80141,"./color_picker_basic_mode.svg":68265,"./color_picker_extended_mode.svg":17740,"./conditional-icon.svg":80834,"./copy-icon.svg":59230,"./cross.svg":69362,"./delete-icon.svg":79410,"./dropdown-arrow.svg":49774,"./edit-lookup-entity-icon.svg":67526,"./expansion-panel-toggle-position-after.svg":73670,"./expansion-panel-toggle-position-before.svg":94898,"./expansion-panel-toggle-type-default.svg":90917,"./expansion-panel-toggle-type-material.svg":27282,"./eye-crossed.svg":94166,"./eye.svg":4477,"./flex-column.svg":95572,"./flex-row.svg":49122,"./icon-position-left.svg":50918,"./icon-position-only-icon.svg":92016,"./icon-position-right.svg":29797,"./info.svg":30595,"./label-align-center.svg":5789,"./label-align-full.svg":62606,"./label-align-left.svg":64388,"./label-align-right.svg":62448,"./lookup-icon.svg":48962,"./open-icon.svg":45385,"./open-source-code-button.svg":27519,"./pen-icon.svg":25058,"./plus-icon.svg":49206};function f(I){var tn=p(I);return T(tn)}function p(I){if(!T.o(C,I)){var tn=new Error("Cannot find module '"+I+"'");throw tn.code="MODULE_NOT_FOUND",tn}return C[I]}f.keys=function(){return Object.keys(C)},f.resolve=p,M.exports=f,f.id=56049},58359:(M,Xn,T)=>{T.r(Xn),T.d(Xn,{BaseRequestPropertiesPanel:()=>W,DataSourcesLookupValuesProvider:()=>H,EntitiesListLoaderService:()=>Se,FilteringRequestParamsBindingConfigCreator:()=>se,InterfaceDesignerPropertiesPanelModule:()=>Tt,PROCESS_LIST:()=>tc,RecordPageInfoService:()=>xt,RelatedPagesService:()=>Dt,SelectProcessService:()=>ln,SortingColumnsRequestParamsBindingConfigCreator:()=>Yn,filterLookupValuesByContainText:()=>ki,filterProcessList:()=>ec,getCompactAttributeValueConfigs:()=>yo,getPickerColorByTheme:()=>to,getProcessUidResponseMock:()=>$p,getSizeLookupOptions:()=>eo,getThemeColorByPicker:()=>Po,patchAttributeValueConfigs:()=>fo});var C=T(74742),f=T(31134),p=T(34560),I=T(72856),tn=T(14535),rn=T(75903),v=T(66868),K=T(30738),Gn=T(32820),qn=T(88733),X=T(7950),l=T(75378),P=T(77207),E=T(99293),z=T(18369),Un=T(59177),Io=T(17577),m=T(10801),Wn=T(28840),S=T(96923),s=T(34038),ie=T(81701),V=T(14537),g=T(49475),w=T(24709),e=T(94450),te=T(54514);class nn{constructor(){this._translateService=(0,e.inject)(P.TranslateService),this.lookupViewOptions=[{value:!1,caption:this.translate("SelectionWindow"),selected:!1},{value:!0,caption:this.translate("List"),selected:!1}]}getControl(r){return this.propertiesForm?.get(r)}translate(r){return this._translateService.instant(`CrtLookupViewPropertiesComponent.${r}`)}}nn.\u0275fac=function(r){return new(r||nn)},nn.\u0275cmp=e.\u0275\u0275defineComponent({type:nn,selectors:[["crt-lookup-view-properties"]],inputs:{propertiesForm:"propertiesForm"},decls:2,vars:3,consts:[[1,"crt-lookup-view-properties"],["direction","column",3,"label","control","items"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-icon-radio-button",1),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("label",t.translate("Label"))("control",t.getControl("isSimpleLookup"))("items",t.lookupViewOptions))},dependencies:[s.CrtIconRadioButtonComponent],encapsulation:2,changeDetection:0});function Eo(o,r){o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Validations.RequiredNameMessage")," "))}function Fo(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",3),e.\u0275\u0275element(1,"crt-combobox",8),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("items",t.getFormatLookupItems())("readonly",t.isReadonly)("useStaticFiltering",!0)("control",t.getControl("type"))("labelPosition","above")("label",t.translate("FormatCaption"))}}function Vo(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275element(1,"crt-combobox",10),e.\u0275\u0275elementStart(2,"crt-button",11),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.createOrEditLookupEntity())}),e.\u0275\u0275elementEnd()()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("items",t.getReferenceSchemaLookupItems())("useStaticFiltering",!0)("control",t.getControl("referenceSchema"))("labelPosition","above")("readonly",t.isReadonly)("label",t.translate("ReferenceSchemaCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",t.isReadonly)("icon",t.getLookupSvgIconName())}}function Ao(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",12),e.\u0275\u0275element(1,"crt-lookup-view-properties",13),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("propertiesForm",t.propertiesForm)}}function Oo(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",3),e.\u0275\u0275element(1,"crt-combobox",14),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("items",t.getRequirementTypeLookupItems())("useStaticFiltering",!0)("control",t.getControl("requirementType"))("labelPosition","above")("readonly",t.isReadonly)("label",t.translate("RequiredCaption"))}}class on{constructor(r){this._injector=r,this._matIconRegistry=(0,e.inject)(I.MatIconRegistry),this._domSanitizer=(0,e.inject)(te.DomSanitizer),this._translateService=(0,e.inject)(P.TranslateService),this._featureValues=(0,e.inject)(g.FEATURE_VALUES),this.showEditReferenceSchemaIcon=!1,this.canShowLookupView=!1,this.createOrEditButtonClick=new e.EventEmitter,this._requiredValidator=new w.RequiredValidator(this._injector),this._registerIcons()}set referenceSchemaLookupItems(r){this._referenceSchemaLookupItems=r}get canShowLookupViewPropertiesControl(){return this.canShowLookupView&&!this._featureValues.DisableShowLookupViewProperties}_registerIcons(){this._matIconRegistry.addSvgIconLiteral("edit-lookup-entity-icon",this._domSanitizer.bypassSecurityTrustHtml(T(67526)))}initProperties(r){this._editableProperties=r.editableProperties,this.dataValueType=r.dataValueType,this._requirementTypeLookupItems=r.lookupItems.requirementType,this._formatLookupItems=r.lookupItems.format,this._referenceSchemaLookupItems=r.lookupItems.referenceSchema}createOrEditLookupEntity(){this.createOrEditButtonClick.emit()}getLookupSvgIconName(){return this.showEditReferenceSchemaIcon?"edit-lookup-entity-icon":"add-button-icon"}getIsEditableProperty(r){return this._editableProperties?.includes(r)??!0}getStaticPropertiesConfig(){return{name:{path:"name",dataValueType:l.DataValueType.Text,controlInitialConfig:{value:"",validatorOrOpts:[this._requiredValidator.validateFn]}},caption:{path:"caption",dataValueType:l.DataValueType.LOCALIZABLE_STRING,controlInitialConfig:{validatorOrOpts:[this._requiredValidator.validateFn]}},type:{path:"type",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this._requiredValidator.validateFn]},options:{items:[]}},requirementType:{path:"requirementType",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this._requiredValidator.validateFn]},options:{items:[]}},referenceSchema:{path:"referenceSchema",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this._requiredValidator.validateFn]},options:{items:[]}},isSimpleLookup:{path:"isSimpleLookup",dataValueType:l.DataValueType.Boolean}}}translate(r){return this._translateService.instant(`InterfaceDesigner.Components.DataSourceAttributeCommonPropertiesComponent.${r}`)}getControl(r){return this.propertiesForm?.get(r)}getFormatLookupItems(){return this._formatLookupItems}getReferenceSchemaLookupItems(){return this._referenceSchemaLookupItems}getRequirementTypeLookupItems(){return this._requirementTypeLookupItems}}on.\u0275fac=function(r){return new(r||on)(e.\u0275\u0275directiveInject(e.Injector))},on.\u0275cmp=e.\u0275\u0275defineComponent({type:on,selectors:[["crt-data-source-attribute-common-properties"]],inputs:{propertiesForm:"propertiesForm",isReadonly:"isReadonly",showEditReferenceSchemaIcon:"showEditReferenceSchemaIcon",canShowLookupView:"canShowLookupView"},outputs:{createOrEditButtonClick:"createOrEditButtonClick"},decls:11,vars:14,consts:[[1,"form-field-wrapper","caption-control"],["iconLineType","bold",3,"formControl","required","label","showLockIcon"],[4,"ngIf"],[1,"crt-control-form-field-wrapper"],[3,"readonly","control","labelPosition","label"],["class","crt-control-form-field-wrapper",4,"ngIf"],["class","crt-control-form-field-wrapper reference-schema-control",4,"ngIf"],["class","crt-control-form-field-wrapper view-lookup",4,"ngIf"],[3,"items","readonly","useStaticFiltering","control","labelPosition","label"],[1,"crt-control-form-field-wrapper","reference-schema-control"],[1,"control",3,"items","useStaticFiltering","control","labelPosition","readonly","label"],["data-qa","create-or-edit-lookup-entity","ariaLabel","ariaLabel","iconPosition","only-icon","shape","rounded",1,"create-or-edit-lookup-entity-button",3,"disabled","icon","clicked"],[1,"crt-control-form-field-wrapper","view-lookup"],[3,"propertiesForm"],[3,"items","useStaticFiltering","control","labelPosition","readonly","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",0)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"ts-localizable-text-input",1),e.\u0275\u0275template(4,Eo,3,3,"mat-error",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",3),e.\u0275\u0275element(6,"crt-input",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Fo,2,6,"div",5),e.\u0275\u0275template(8,Vo,3,8,"div",6),e.\u0275\u0275template(9,Ao,2,1,"div",7),e.\u0275\u0275template(10,Oo,2,6,"div",5)),r&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.translate("TitleCaption")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControl",t.getControl("caption"))("required",!0)("label",t.translate("TitleCaption"))("showLockIcon",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getControl("caption").errors),e.\u0275\u0275advance(2),e.\u0275\u0275property("readonly",t.isReadonly)("control",t.getControl("name"))("labelPosition","above")("label",t.translate("NameCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getIsEditableProperty("type")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getIsEditableProperty("referenceSchema")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.canShowLookupViewPropertiesControl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getIsEditableProperty("requirementType")))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtComboBoxComponent,s.CrtInputComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.NgControlStatus,p.RequiredValidator,p.FormControlDirective,nn,P.TranslatePipe],styles:["[_nghost-%COMP%]   .caption-control[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .reference-schema-control[_ngcontent-%COMP%]{display:flex;padding-bottom:0}[_nghost-%COMP%]   .reference-schema-control[_ngcontent-%COMP%]   crt-combobox[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .reference-schema-control[_ngcontent-%COMP%]   .create-or-edit-lookup-entity-button[_ngcontent-%COMP%]{align-self:center}"],changeDetection:0});var k=T(8239),ko=T(84858),U=T(33177),le=T(36124),B=T(41307),Qn=T(23074),y=T(97600),d=T(21322),c=T(27049),wt=T(8785);function Lo(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",7),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openRelatedPagesDialog())}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("icon","related-page-addon-icon")("title",t.getTranslation("OpenPagesSetup"))}}function No(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",8),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.createEntity())}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("icon","add-button-icon")("title",t.getTranslation("AddNewEntity"))("ariaLabel",t.getTranslation("AddNewEntity"))}}const Ro=function(o,r){return{label:o,linkCaption:r,dataItemMarker:"createPageLink"}};function Bo(o,r){if(o&1&&e.\u0275\u0275elementContainer(0,12),o&2){const t=e.\u0275\u0275nextContext(2),n=e.\u0275\u0275reference(7);e.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(2,Ro,t.getTranslation("CreatePageLabel",t.getEntityCaption()),t.getTranslation("CreatePageLink")))}}const Go=function(o,r){return{label:o,linkCaption:r,dataItemMarker:"editPageLink"}};function jo(o,r){if(o&1&&e.\u0275\u0275elementContainer(0,12),o&2){const t=e.\u0275\u0275nextContext(2),n=e.\u0275\u0275reference(7);e.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(2,Go,t.getTranslation("EditPageLabel",t.getEntityCaption()),t.getTranslation("EditPageLink")))}}const zo=function(o,r){return{label:o,linkCaption:r,dataItemMarker:"openPagesSetupLink"}};function qo(o,r){if(o&1&&e.\u0275\u0275elementContainer(0,12),o&2){const t=e.\u0275\u0275nextContext(2),n=e.\u0275\u0275reference(7);e.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(2,zo,t.getTranslation("EditPagesLabel",t.getEntityCaption()),t.getTranslation("OpenPagesSetup")))}}function Uo(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275elementContainerStart(1,10),e.\u0275\u0275template(2,Bo,1,5,"ng-container",11),e.\u0275\u0275template(3,jo,1,5,"ng-container",11),e.\u0275\u0275template(4,qo,1,5,"ng-container",11),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",t.mode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.entitySchemaSelectMode.CreatePage),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.entitySchemaSelectMode.EditPage),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.entitySchemaSelectMode.EditPages)}}function Wo(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275element(0,"mat-icon",13),e.\u0275\u0275elementStart(1,"div",14)(2,"span",15),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"crt-link",16),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onLinkClick(a.mode))}),e.\u0275\u0275elementEnd()()}if(o&2){const t=r.label,n=r.linkCaption,a=r.dataItemMarker;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t,"\xA0"),e.\u0275\u0275advance(1),e.\u0275\u0275property("caption",n),e.\u0275\u0275attribute("data-item-marker",a)}}class de{constructor(r,t,n,a,i,u,h,b,O,q,ee,en,wn,lo,so){this._window=r,this._configurationDataService=t,this._translateService=n,this._changeDetector=a,this._broadcastChannelFactory=i,this._appInfoService=u,this._workspaceOpenCreateDialogService=h,this._dialogService=b,this._messageDialogProvider=O,this._dialog=q,this._designerEntityService=ee,this._entitySchemaDesignerService=en,this._maskService=wn,this._commandFactoryService=lo,this._featureValues=so,this._translationPrefix="EntitySchemaSelectComponent",this._destroyed$=new d.Subject,this._8xRelatedPages=[],this._7xRelatedPages=[],this.isControl=!0,this.control=new p.FormControl,this.items=[],this.hidePageInfo=!1,this.skeletonStyles={height:"43px"},this.entitySchemaSelectMode=ie.EntitySchemaSelectMode}get _entityLookupValue(){return this.control?.value}get canChangeRelatedPages(){return this.control.value&&this.mode!==this.entitySchemaSelectMode.Hidden&&!this.hidePageInfo}get isAddNewEntityBtnVisible(){return!this.control.value&&this.mode===this.entitySchemaSelectMode.Hidden&&!this.hidePageInfo}_getEntityUId(){return this._entityLookupValue?.entityUId}_getEntityName(){return this._entityLookupValue?.value}_getEntityRelatedPagesAddon(r){return r.addons.find(t=>t.addonName===g.AddonName.RelatedPage)}_getEntityRelatedPages(){const r=this._getEntityName();return this._designerEntityService.getByName(r).pipe((0,d.switchMap)(t=>(this._entitySchema=t,this._getEntityRelatedPagesAddon(t).addonConfig)),(0,c.map)(t=>t.Pages.map(n=>({cardSchemaUId:n?.PageSchemaUId,cardSchemaType:g.ClientUnitSchemaType.AngularSchema}))))}_getEntityStructurePages(){const r=this._getEntityName();return this._configurationDataService.getEntityData(r,!0).pipe((0,c.map)(t=>t.data.entityStructure?.pages||[]))}_initEntityPages(){if(!this._getEntityName()){this.mode=this.entitySchemaSelectMode.Hidden,this._7xRelatedPages=[],this._8xRelatedPages=[],this._changeDetector.detectChanges();return}this._getEntityStructurePages().pipe((0,c.map)(t=>t.filter(n=>n.cardSchemaType!==g.ClientUnitSchemaType.AngularSchema)),(0,d.combineLatestWith)(this._getEntityRelatedPages()),(0,c.takeUntil)(this._destroyed$)).subscribe(([t,n])=>{this._7xRelatedPages=t,this._8xRelatedPages=n,this._setEntitySelectMode()})}_setEntitySelectMode(){(0,y.isEmpty)(this._8xRelatedPages)&&(this.mode=this.entitySchemaSelectMode.CreatePage),this._8xRelatedPages.length===1&&(this.mode=this.entitySchemaSelectMode.EditPage),this._8xRelatedPages.length>1&&(this.mode=this.entitySchemaSelectMode.EditPages),!(0,y.isEmpty)(this._7xRelatedPages)&&(0,y.isEmpty)(this._8xRelatedPages)&&(this.mode=this.entitySchemaSelectMode.SetupPages),this._changeDetector.detectChanges()}_subscribeOnSavedSchema(){this._subscriptionSchemaSaved&&!this._subscriptionSchemaSaved.closed&&this._subscriptionSchemaSaved.unsubscribe();const r=this._broadcastChannelFactory.createInstance(g.CLIENT_SCHEMA_SAVED_CHANNEL_NAME);this._subscriptionSchemaSaved=r.messages$.pipe((0,c.filter)(t=>t.isNew&&this.canChangeRelatedPages),(0,c.take)(1),(0,c.takeUntil)(this._destroyed$)).subscribe({next:()=>{this._entitySchemaDesignerService.deleteDesignItem(this._getEntityName()),this._initEntityPages()}})}_getAngularAppInfo(){return(0,d.firstValueFrom)(this._appInfoService.getAppsInfo().pipe((0,c.take)(1),(0,c.filter)(r=>r.success),(0,c.map)(r=>r?.appsInfo.find(t=>t.name==="angular-schema"))))}_saveEntity(){var r=this;return(0,k.Z)(function*(){r._maskService.showBodyMask();const t=yield(0,m.executeCommand)(r._commandFactoryService,"crt.SaveEntityDataSourcesCommand");r._maskService.hideBodyMask(),t.success&&(yield r._createPage())})()}_saveEntityWithConfirmation(){var r=this;return(0,k.Z)(function*(){const t=r.getTranslation("SaveConfirmationDialog.Message"),n=[s.DEFAULT_DIALOG_ACTIONS.CANCEL,s.DEFAULT_DIALOG_ACTIONS.SAVE],a=yield(0,d.firstValueFrom)(r._messageDialogProvider.open({data:{message:t,actions:n}}));a===s.DEFAULT_DIALOG_ACTIONS.SAVE.key&&(yield r._saveEntity()),a===s.DEFAULT_DIALOG_ACTIONS.CANCEL.key&&r._dialogService.closeAll()})()}_checkIfNewEntity(){return(0,d.firstValueFrom)(this._entitySchemaDesignerService.getIsNewSchemaByUId(this._getEntityUId()))}_createNewEntity(){const r=this._dialogService.open(m.AddEntityComponent,{panelClass:["dialog-top-border"]});return(0,d.firstValueFrom)(r)}_createPage(r={}){var t=this;return(0,k.Z)(function*(){const n=[t.config.packageUId,"true"],a=t._getEntityName(),i=(0,ie.generateNewPageCaptionPrefix)(t.getEntityCaption(),r),u={entitySchemaName:a,entitySchemaCaption:i};if(t._featureValues.DisableEntityPagesDesigner){u.isRelatedPage="true";const O=r.role?.value,q=r.action;q&&(u.relatedPageAction=q),O&&(u.roleId=O)}const h=yield t._getAngularAppInfo(),b=yield t._workspaceOpenCreateDialogService.createSchema(h,n,u);return b&&t._subscribeOnSavedSchema(),b})()}_onCreatePageClicked(r=!1,t){var n=this;return(0,k.Z)(function*(){if(yield n._checkIfNewEntity())yield n._saveEntityWithConfirmation();else{const i=yield n._createPage(t);n._featureValues.DisableEntityPagesDesigner&&!i&&r&&(yield n.openRelatedPagesDialog())}})()}_openEntityPagesDesignerDialog(r){const t=this._dialog.open(ie.CrtEntityPagesDesignerDialogComponent,{data:r,panelClass:["dialog-top-border"],minWidth:500,maxWidth:952});t.componentInstance.createPage$.pipe((0,d.switchMap)(n=>this._onCreatePageClicked(!0,n)),(0,c.takeUntil)(this._destroyed$)).subscribe(),t.afterClosed().pipe((0,c.filter)(n=>n?.closeStatus===ie.RelatedPagesDialogCloseStatus.Saved),(0,c.takeUntil)(this._destroyed$)).subscribe(()=>{this._initEntityPages()})}getTranslation(r,t){const n=this._translateService.instant(`${this._translationPrefix}.${r}`);return t?wt.String.format(n,t):n}createEntity(){var r=this;return(0,k.Z)(function*(){const t=yield r._createNewEntity();if(!t.success)return;const n=yield(0,d.firstValueFrom)(r._designerEntityService.getReferenceSchemasLookupItems()),a=n.find(i=>i.value===t.entitySchemaName);r.items=n,r.control?.setValue(a)})()}onCreatePage(){var r=this;return(0,k.Z)(function*(){yield r._onCreatePageClicked()})()}onEditPage(){const r=this._8xRelatedPages[0].cardSchemaUId,t=(0,g.getWorkspaceBaseUrl)()+(0,g.getAppPath)()+"#/InterfaceDesigner/"+r;this._window.open(t).focus()}getEntityCaption(){return this._entityLookupValue?.displayValue}openRelatedPagesDialog(){var r=this;return(0,k.Z)(function*(){const n={dialogCaption:r.getTranslation("RelatedPagesCaptionWithEntityName",r.getEntityCaption()),entitySchema:r._entitySchema,entitySchemaName:r._getEntityName(),packageUId:r.config.packageUId};if(r._featureValues.DisableEntityPagesDesigner){const a=yield(0,d.firstValueFrom)(r._dialogService.open(ie.RelatedPagesDialogComponent,{data:n,panelClass:["dialog-top-border"],minWidth:500,maxWidth:900}));a?.closeStatus===ie.RelatedPagesDialogCloseStatus.CreatedPage&&(yield r._onCreatePageClicked(!0,a.data)),a?.closeStatus===ie.RelatedPagesDialogCloseStatus.Saved&&r._initEntityPages()}else r._openEntityPagesDesignerDialog(n)})()}ngOnInit(){this.control?.valueChanges.pipe((0,c.takeUntil)(this._destroyed$)).subscribe({next:()=>{this._initEntityPages()}})}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}onLinkClick(r){var t=this;return(0,k.Z)(function*(){switch(r){case ie.EntitySchemaSelectMode.CreatePage:return t.onCreatePage();case ie.EntitySchemaSelectMode.EditPage:return t.onEditPage();case ie.EntitySchemaSelectMode.EditPages:return yield t.openRelatedPagesDialog()}})()}}de.\u0275fac=function(r){return new(r||de)(e.\u0275\u0275directiveInject(U.WINDOW_TOKEN),e.\u0275\u0275directiveInject(B.ConfigurationDataService),e.\u0275\u0275directiveInject(P.TranslateService),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(U.BroadcastChannelFactory),e.\u0275\u0275directiveInject(B.AppInfoService),e.\u0275\u0275directiveInject(Qn.WorkspaceOpenCreateDialogService),e.\u0275\u0275directiveInject(E.DialogService),e.\u0275\u0275directiveInject(s.MessageDialogProvider),e.\u0275\u0275directiveInject(ko.MatDialog),e.\u0275\u0275directiveInject(m.DesignerEntityService),e.\u0275\u0275directiveInject(le.EntitySchemaDesignerService),e.\u0275\u0275directiveInject(E.MaskService),e.\u0275\u0275directiveInject(m.DesignerCommandFactoryService),e.\u0275\u0275directiveInject(g.FEATURE_VALUES))},de.\u0275cmp=e.\u0275\u0275defineComponent({type:de,selectors:[["crt-entity-schema-select"]],hostVars:2,hostBindings:function(r,t){r&2&&e.\u0275\u0275classProp("control",t.isControl)},inputs:{control:"control",items:"items",label:"label",config:"config",hidePageInfo:"hidePageInfo"},decls:8,vars:7,consts:[[1,"input-container"],["labelPosition","above",1,"entity-select",3,"items","control","label","useStaticFiltering"],[1,"button-wrapper"],["iconPosition","only-icon","data-item-marker","openPagesSetup","shape","rounded",3,"icon","title","clicked",4,"ngIf"],["iconPosition","only-icon","data-item-marker","addNewEntityBtn","shape","rounded",3,"icon","title","ariaLabel","clicked",4,"ngIf"],["class","page-info-container",4,"ngIf"],["pageInfoMsg",""],["iconPosition","only-icon","data-item-marker","openPagesSetup","shape","rounded",3,"icon","title","clicked"],["iconPosition","only-icon","data-item-marker","addNewEntityBtn","shape","rounded",3,"icon","title","ariaLabel","clicked"],[1,"page-info-container"],[3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["svgIcon","info-icon"],["data-item-marker","pagesInfoText",1,"info-text","crt-input-label"],["data-item-marker","pagesInfoLabel"],["href","#","mode","preventDefault",3,"caption","clicked"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-combobox",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275template(3,Lo,1,2,"crt-button",3),e.\u0275\u0275template(4,No,1,3,"crt-button",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(5,Uo,5,4,"div",5),e.\u0275\u0275template(6,Wo,5,3,"ng-template",null,6,e.\u0275\u0275templateRefExtractor)),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("items",t.items)("control",t.control)("label",t.label)("useStaticFiltering",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.canChangeRelatedPages),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAddNewEntityBtnVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.canChangeRelatedPages))},dependencies:[f.NgIf,f.NgTemplateOutlet,f.NgSwitch,f.NgSwitchCase,s.CrtButtonComponent,s.CrtComboBoxComponent,s.CrtLinkComponent,I.MatIcon],styles:[".input-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.input-container[_ngcontent-%COMP%]   .entity-select[_ngcontent-%COMP%]{width:100%}.input-container[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{min-width:32px}.input-container[_ngcontent-%COMP%]   .open-icon-wrapper[_ngcontent-%COMP%]   crt-button[_ngcontent-%COMP%]{padding:4px}.page-info-container[_ngcontent-%COMP%]{display:flex;gap:4px;padding:4px 25px 0 0}.page-info-container[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   crt-link[_ngcontent-%COMP%]{display:inline-flex}.page-info-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;min-width:16px;padding-top:1px}"],changeDetection:0});function Qo(o,r){o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.Validations.RequiredNameCaption")," "))}class an{constructor(r,t,n,a){this._createOrEditLookupEntityDialog=t,this._data=n,this._crtControlStateAdapter=a,this._requiredValidator=new w.RequiredValidator(r),this._maxLengthValidator=new w.MaxLengthValidator(r),this._translateService=r.get(P.TranslateService),this._commandFactoryService=r.get(m.DesignerCommandFactoryService)}_createErrorObject(r,t,...n){const a=this._translateService.instant(`InterfaceDesigner.LookupEntityDialog.Validations.${t}`),i=n.length>0?wt.String.format(a,...n):a;return{[r]:{message:i}}}_getCaptionValidator(r){const t=r.value;let n=!0;return typeof t=="string"?n=!1:n=t?.find(a=>a.value)!==void 0,n?null:this._createErrorObject("required","RequiredNameCaption")}_nameUniquenessValidator(r){const{value:t}=r;return t===this._lookupEntityName?null:this._data.referenceSchemas.has(`${t}`.toLowerCase())?this._createErrorObject("uniqueness","DuplicateNameCaption"):null}_namePrefixValidator(r){const{value:t}=r;return`${t}`.startsWith(this._data.schemaNamePrefix)?null:this._createErrorObject("prefix","PatternPrefixTemplate",this._data.schemaNamePrefix)}_namePatternValidator(r){const{value:t}=r;return`${t}`.match(/^[a-zA-Z]{1}[a-zA-Z0-9_]*$/)?null:this._createErrorObject("pattern","PatternNameCaption")}ngOnInit(){this._lookupEntityName=this._data?.createdLookupEntity?.name??null,this.createOrEditLookupForm=new p.FormGroup({caption:new p.FormControl(this._data?.createdLookupEntity?.caption??"",{validators:[this._getCaptionValidator.bind(this)]}),name:new p.FormControl(this._data?.createdLookupEntity?.name??this._data.schemaNamePrefix,{validators:[this._crtControlStateAdapter.transform({instance:this._requiredValidator}),this._crtControlStateAdapter.transform({instance:this._maxLengthValidator,params:{maxLength:this._data.entitySchemaNameLengthLimit}}),this._namePatternValidator.bind(this),this._namePrefixValidator.bind(this),this._nameUniquenessValidator.bind(this)]})},{updateOn:"change"})}onSelect(){if(this.createOrEditLookupForm.invalid){this.createOrEditLookupForm.markAllAsTouched();return}const r=this._lookupEntityName,t=this.createOrEditLookupForm.get("name").value,n=this.createOrEditLookupForm.get("caption").value,a={caption:n,name:t,oldName:r};this._commandFactoryService.create("crt.CreateOrEditLookupEntityCommand",a).pipe((0,c.mergeMap)(i=>i.execute())).subscribe(i=>{this._createOrEditLookupEntityDialog.close({status:r?"updated":"created",createdLookupEntity:{uId:i.lookupSchemaUId,name:t,caption:n}})})}onCancel(){this._createOrEditLookupEntityDialog.close({status:"cancelled",createdLookupEntity:void 0})}}an.\u0275fac=function(r){return new(r||an)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(rn.MatLegacyDialogRef),e.\u0275\u0275directiveInject(rn.MAT_LEGACY_DIALOG_DATA),e.\u0275\u0275directiveInject(w.CrtControlStateAdapter))},an.\u0275cmp=e.\u0275\u0275defineComponent({type:an,selectors:[["crt-create-or-edit-lookup-entity"]],decls:24,vars:22,consts:[["mat-dialog-title","",1,"create-or-edit-lookup-entity-dialog-title"],["mat-dialog-content",""],[3,"formGroup"],[1,"form-field-wrapper"],["floatLabel","always"],["formControlName","caption","iconLineType","bold","required","","data-qa","caption",3,"label"],[4,"ngIf"],["data-qa","name",3,"control","labelPosition","label"],["mat-dialog-actions","",1,"create-or-edit-lookup-entity-dialog-actions"],["shape","rounded","color","default","data-qa","cancel",3,"clicked"],["shape","rounded","color","primary","data-qa","select",3,"clicked"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div")(1,"div",0),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",1)(5,"form",2)(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"ts-localizable-text-input",5),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275template(13,Qo,3,3,"mat-error",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"div",3),e.\u0275\u0275element(15,"crt-input",7),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(17,"div",8)(18,"crt-button",9),e.\u0275\u0275listener("clicked",function(){return t.onCancel()}),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"crt-button",10),e.\u0275\u0275listener("clicked",function(){return t.onSelect()}),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275elementEnd()()()),r&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,10,"InterfaceDesigner.LookupEntityDialog.CreateOrEditLookupEntityTitle")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",t.createOrEditLookupForm),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,12,"InterfaceDesigner.LookupEntityDialog.TitleControl")),e.\u0275\u0275advance(2),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(12,14,"InterfaceDesigner.LookupEntityDialog.TitleControl")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.createOrEditLookupForm.get("caption").errors),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.createOrEditLookupForm.get("name"))("labelPosition","above")("label",e.\u0275\u0275pipeBind1(16,16,"InterfaceDesigner.LookupEntityDialog.NameControl")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(20,18,"InterfaceDesigner.LookupEntityDialog.CancelButtonDialog")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(23,20,"InterfaceDesigner.LookupEntityDialog.SelectButtonDialog")," "))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtInputComponent,rn.MatLegacyDialogTitle,rn.MatLegacyDialogContent,rn.MatLegacyDialogActions,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.FormGroupDirective,p.FormControlName,P.TranslatePipe],styles:["[_nghost-%COMP%]{width:360px;box-sizing:border-box}.create-or-edit-lookup-entity-dialog-title[mat-dialog-title][_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:5px}.form-field-wrapper[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block}.create-or-edit-lookup-entity-dialog-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;gap:8px}"]});var _=T(16710),co=T(6523);class ln{constructor(r,t,n,a){this._queryExecutor=r,this._processSchemaManagerService=t,this._resourceFinderService=n,this._systemSettings=a,this._defaultRowCount=50,this._rowCountLimitSysSettingKey="DropdownPageSize",this._findLocalizableValue=i=>this._resourceFinderService.findLocalizableValue(i)}_getProcessList(r,t){const n=new l.EntitySchemaQuery(r);return n.addSchemaColumn("UId","uId"),n.addSchemaColumn("Name","value"),n.addSchemaColumn("Caption","displayValue").withOrdering(l.OrderDirection.Asc,0),n.rowCount=this._defaultRowCount,n.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"IsActiveVersion",!0),t&&n.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Contain,"Caption",t),this._systemSettings.getByCodes([this._rowCountLimitSysSettingKey]).pipe((0,c.switchMap)(a=>{const i=a.values[this._rowCountLimitSysSettingKey];return i&&(n.rowCount=i.value),this._queryExecutor.executeSelectQuery(n)}),(0,c.map)(a=>a.map(({displayValue:i,value:u,uId:h})=>({displayValue:i,value:u,uId:h}))))}_getParameterCaption(r,t){return this._findLocalizableValue(r[`Parameters.${t}.Caption`])??t}getProcessUid(r){if(!r)return(0,d.of)(void 0);const t=new l.EntitySchemaQuery("VwProcessLib");return t.rowCount=1,t.addSchemaColumn("UId"),t.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"Name",r),this._queryExecutor.executeSelectQuery(t).pipe((0,c.map)(n=>n[0]?.UId))}getProcessName(r){const t=new l.EntitySchemaQuery("VwProcessLib");return t.rowCount=1,t.addSchemaColumn("Name"),t.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"UId",r),this._queryExecutor.executeSelectQuery(t).pipe((0,c.map)(n=>n[0]?.Name))}_getDataValueTypeByUId(r){return Object.values(g.DataValueTypeItems).find(n=>n.id&&n.id===r)?.type}_getProcessParameterLookupValues(r,t){const n=[];return r.forEach(a=>{const i=this._getDataValueTypeByUId(a.dataValueType),u=this._getParameterCaption(t,a.name);n.push({value:a.name,displayValue:u,dataValueType:i,referenceSchemaUId:a.referenceSchemaUId}),(a.itemProperties??[]).forEach(b=>{const O=a.name+"."+b.name,q=this._getDataValueTypeByUId(b.dataValueType),ee=this._getParameterCaption(t,O);n.push({value:O,displayValue:u+"."+ee,dataValueType:q,referenceSchemaUId:b.referenceSchemaUId})})}),n}getProcessParameters(r){return r?this.getProcessUid(r).pipe((0,c.distinctUntilChanged)(y.isEqual),(0,c.switchMap)(t=>this._processSchemaManagerService.getProcessSchemaData(t)),(0,c.map)(t=>{const n=t.schema.metaData.metaData.schema.parameters,a=t.schema.resources;return n?this._getProcessParameterLookupValues(n,a):[]})):(0,d.of)([])}getProcessList(r=null){return this._getProcessList("VwProcessLib",r)}getActiveVersionProcess(r){if(!r)return(0,d.of)(null);const t=new l.EntitySchemaQuery("VwProcessLib");return t.addSchemaColumn("Name","value"),t.addSchemaColumn("UId","uId"),t.addSchemaColumn("Caption","displayValue").withOrdering(l.OrderDirection.Asc,0),t.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"IsActiveVersion",!0),t.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"VersionParentUId",r),this._queryExecutor.executeSelectQuery(t).pipe((0,c.map)(n=>(0,y.first)(n.map(({displayValue:a,value:i,uId:u})=>({value:i,displayValue:a,uId:u,versionParentUId:r})))))}getProcessByName(r){if(!r)return(0,d.of)(null);const t=new l.EntitySchemaQuery("VwProcessLib");return t.addSchemaColumn("Name","value"),t.addSchemaColumn("UId","uId"),t.addSchemaColumn("Caption","displayValue").withOrdering(l.OrderDirection.Asc,0),t.addSchemaColumn("VersionParentUId","versionParentUId"),t.addSchemaColumn("IsActiveVersion","isActiveVersion"),t.rowCount=1,t.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"Name",r),this._queryExecutor.executeSelectQuery(t).pipe((0,c.map)(n=>(0,y.first)(n.map(({displayValue:a,value:i,uId:u,versionParentUId:h,isActiveVersion:b})=>({value:i,displayValue:a,uId:u,versionParentUId:h,isActiveVersion:b})))))}}ln.\u0275fac=function(r){return new(r||ln)(e.\u0275\u0275inject(co.QueryExecutor),e.\u0275\u0275inject(B.ProcessSchemaManagerService),e.\u0275\u0275inject(g.ResourceFinderService),e.\u0275\u0275inject(B.SysSettingsService))},ln.\u0275prov=e.\u0275\u0275defineInjectable({token:ln,factory:ln.\u0275fac,providedIn:"root"});var Ho=T(2876);class Dt{constructor(r,t){this._httpClient=r,this._featureValues=t,this._serviceUrl="/ServiceModel/RelatedPagesService.svc/"}getEntityRelatedPages(){return this._featureValues.DisableRelatedPages?(0,d.of)([]):this._httpClient.post(this._serviceUrl+"GetEntityRelatedPages",null).pipe((0,c.map)(r=>r.values))}}Dt.\u0275fac=function(r){return new(r||Dt)(e.\u0275\u0275inject(Ho.HttpClient),e.\u0275\u0275inject(g.FEATURE_VALUES))},Dt.\u0275prov=e.\u0275\u0275defineInjectable({token:Dt,factory:Dt.\u0275fac});class Se{constructor(r,t){this._queryExecutor=r,this._relatedPagesService=t}_executeSelectQuery(r){return this._queryExecutor.executeSelectQuery(r).pipe((0,c.map)(t=>t.map(n=>({caption:n.caption,name:n.name,uId:n.uId,cardSchemaUId:n.cardSchemaUId}))))}getListEntities(){const r=new l.EntitySchemaQuery("SysModule"),t="[SysModuleEdit:SysModuleEntity:SysModuleEntity].CardSchemaUId";r.addSchemaColumn("SysModuleEntity.[SysSchema:UId:SysEntitySchemaUId].[VwSysSchemaExtending:BaseSchemaId:Id].[SysSchema:Id:TopExtendingSchemaId].Caption","caption"),r.addSchemaColumn("SysModuleEntity.[SysSchema:UId:SysEntitySchemaUId].Name","name"),r.addSchemaColumn("SysModuleEntity.[SysSchema:UId:SysEntitySchemaUId].UId","uId"),r.addSchemaColumn(t,"cardSchemaUId");const n=new l.FilterGroup;return n.addSchemaColumnIsNotNullFilter(t),n.addSchemaColumnIsNotNullFilter("[SysModuleEntity:Id:SysModuleEntity].SysEntitySchemaUId"),n.addSchemaColumnFilterWithParameter(l.ComparisonType.Not_equal,"IsSystem",!0),r.filters.add(n),this._executeSelectQuery(r)}getDetailEntities(){const r=new l.EntitySchemaQuery("SysDetail");r.isDistinct=!0;const t="[SysModuleEntity:SysEntitySchemaUId:EntitySchemaUId].[SysModuleEdit:SysModuleEntity:Id].CardSchemaUId";r.addSchemaColumn("=[SysSchema:UId:EntitySchemaUId].Caption","caption"),r.addSchemaColumn("=[SysSchema:UId:EntitySchemaUId].Name","name"),r.addSchemaColumn("=[SysSchema:UId:EntitySchemaUId].UId","uId"),r.addSchemaColumn(t,"cardSchemaUId");const n=new l.FilterGroup;return n.addSchemaColumnIsNotNullFilter(t),r.filters.add(n),this._executeSelectQuery(r)}getEntityModuleInfo(r){return this.getEntityModuleInfoForCardSchema(r,null)}getEntityModuleInfoForCardSchema(r,t){const n=new l.EntitySchemaQuery("SysModule");n.addSchemaColumn("Id","id"),n.addSchemaColumn("Code","entitySchemaName");const a=new l.FilterGroup;return t?a.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"[SysSchema:UId:CardSchemaUId].Name",t):a.addSchemaColumnIsNotNullFilter("CardSchemaUId"),a.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"IsSystem",!1),a.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"Code",r),a.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"Type",0),n.filters.add(a),this._queryExecutor.executeSelectQuery(n).pipe((0,c.map)(i=>i.map(u=>({sysModuleId:u.id,entitySchemaName:u.entitySchemaName}))))}getEntitiesWithRelatedPages(){return this._relatedPagesService.getEntityRelatedPages().pipe((0,c.map)(r=>r.map(t=>{const n=t.relatedPages||[];return{caption:t.caption,name:t.name,uId:t.uId,cardSchemaUId:n[0]?.uId}})))}}Se.\u0275fac=function(r){return new(r||Se)(e.\u0275\u0275inject(co.QueryExecutor),e.\u0275\u0275inject(Dt))},Se.\u0275prov=e.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac});class xt{constructor(r){this._entitySchemaService=r}castToAttributeValueConfig(r){return{attributeName:r.name,dataValueType:r.dataValueType,caption:r.caption,value:null,referenceSchemaUId:r.referenceSchemaUId,referenceSchemaName:r.referenceSchemaName,uId:r.uId}}getAttributeValueConfigs(r){return this._entitySchemaService.getEntitySchemaByUId(r).pipe((0,c.map)(t=>t.entitySchema.columns.map(this.castToAttributeValueConfig)))}}xt.\u0275fac=function(r){return new(r||xt)(e.\u0275\u0275inject(g.EntitySchemaService))},xt.\u0275prov=e.\u0275\u0275defineInjectable({token:xt,factory:xt.\u0275fac});var R=T(52045);class se{constructor(r,t){this._designerSchemaService=r,this._selectionViewElementConfigProvider=t}_createManyRecordsFilteringParams(r,t){const n=this._designerSchemaService.findAttributeByDataSourceAttributePath(r);if(!n)return null;const a=this._getModelBoundedSelectionStateAttributeName(r,t);return{filters:(0,R.createCollectionFiltersBindingExpression)(n,a,t)}}_getModelBoundedSelectionStateAttributeName(r,t){let n=this._selectionViewElementConfigProvider.getModelBoundedSelectionViewElementsConfigs(r);if(t?.viewElementName&&(n=n.filter(i=>i.name===t.viewElementName)),n?.length>1)throw new Error(`There are some selection view elements configs that are bound to the '${r}' model.`);const a=n?.pop()?._selectionOptions;return this._selectionViewElementConfigProvider.getSelectionStateAttributeName(a)}createCollectionFilteringParams(r,t){return r?this._designerSchemaService.getModelConfig()?.dataSources?.[r]?.scope===l.DataSourceScope.Page?(console.log('Filtering request params for "page" scope model is not supported.'),{filters:null}):this._createManyRecordsFilteringParams(r,t):null}}se.\u0275fac=function(r){return new(r||se)(e.\u0275\u0275inject(_.DesignerSchemaService),e.\u0275\u0275inject(R.SelectionViewElementConfigProvider))},se.\u0275prov=e.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac});class Yn{constructor(){this._designerSchemaService=(0,e.inject)(_.DesignerSchemaService)}_getSortingAttributeBinding(r){const t=this._designerSchemaService.findAllAttributesByDataSourceAttributePath(r);return t&&t.length>0?`$${t[0]}Sorting`:null}createSortingConfigParams(r){return r?this._designerSchemaService.getModelConfig()?.dataSources?.[r]?.scope===l.DataSourceScope.Page?(console.log('Sorting request params for "page" scope model is not supported.'),{sorting:null}):{sorting:this._getSortingAttributeBinding(r)}:null}}class H{constructor(r,t,n,a){this._translateService=r,this._designerSchemaService=t,this._designerDataSourceManager=n,this._displayValueCreatorFactoryService=a}_getCollectionDataSourceInfos(r){const t=this._designerSchemaService.getViewModelConfig();return Array.from(w.DataSourceInfo.getFromViewModelConfig(t).values()).filter(a=>r.some(({dataSourceName:i})=>i===a.name))}_getMappedBindedViewElementConfigsByPropertyValues(r){const t=this._getBindedViewElementConfigsByAttributeNames(r),n=[];return t.forEach(a=>{n.push({propertyValue:this._getPropertyValueFromBindedViewElementConfig(a,r),viewConfig:a})}),n}_getBindedViewElementConfigsByAttributeNames(r){return this._designerSchemaService.getViewConfigInfoByPropertyValues(r.map(t=>`$${t}`)).map(t=>t.viewConfig)}_getPropertyValueFromBindedViewElementConfig(r,t){const n=Object.getOwnPropertyNames(r);for(const a of n)for(const i of t)if(r[a]===`$${i}`)return i;return null}_getBindedViewElementConfigsByPropertyValue(r,t){return r.filter(n=>n.propertyValue===t).map(n=>n.viewConfig)}_createAllowedTarget(r,t){var n=this;return(0,k.Z)(function*(){const a=t[0],i=yield n._getElementCaption(a),u=Array.from(t.map(b=>b?.name).filter(Boolean)),h=Array.from(t.map(b=>n._getElementTypeCaption(b?.type)));return{value:r,displayValue:n._getFullViewElementCaption(h,i,u)}})()}_createViewElementDataSourceInfo(r,t){var n=this;return(0,k.Z)(function*(){const a=yield n._getElementCaption(t),i=n._getElementTypeCaption(t?.type);return{value:t.name,displayValue:n._getFullViewElementCaption([i],a,[t.name]),dataSourceName:r}})()}_getElementCaption(r){const t=this._displayValueCreatorFactoryService.get(r?.type);return(0,d.firstValueFrom)(t.getDisplayValue(r))}_getElementTypeCaption(r){const n=l.InterfaceDesignerItemRegistry.interfaceDesignerItemRegistrationInfos.get(r)?.typeCaption;return n?this._translateService.instant(n):""}_getFullViewElementCaption(r,t,n){const a=[...new Set(r)];return`${a.length===1&&a.slice().pop()===t?t:`${a.join(", ")} ${t}`} | ${n.join(", ")}`}_getDataSourceLookupValuesBySchemaCaption$(r){return r.getSchema().pipe((0,c.take)(1),(0,c.map)(t=>({displayValue:t.caption.toString(),value:r.dataSourceName})))}_getPageDataSourcesLookups$(){return this._designerDataSourceManager.getDataSources$(l.DataSourceScope.Page).pipe((0,c.switchMap)(r=>r?.length?(0,d.forkJoin)(r.map(t=>this._getDataSourceLookupValuesBySchemaCaption$(t))):(0,d.of)([])),(0,c.take)(1))}_getViewElementsDataSourcesLookups$(r){return this._designerDataSourceManager.getDataSources$(l.DataSourceScope.ViewElement).pipe((0,c.switchMap)(t=>{const n=this._getCollectionDataSourceInfos(t),a=this._getMappedBindedViewElementConfigsByPropertyValues(n.map(i=>i.collectionViewModelAttributeName));return n?.length?(0,d.forkJoin)(n.map(({collectionViewModelAttributeName:i,name:u})=>{const h=this._getBindedViewElementConfigsByPropertyValue(a,i);return h.length===0?(0,d.of)(null):r?(0,d.from)(Promise.all(h.map(b=>this._createViewElementDataSourceInfo(u,b)))):(0,d.from)(this._createAllowedTarget(u,h))})):(0,d.of)([])}),(0,c.map)(t=>r?t.flat():t),(0,c.map)(t=>t.filter(Boolean)),(0,c.take)(1))}getViewElementsDataSourceInfo(){return this._getViewElementsDataSourcesLookups$(!0)}get(r){const t=!r?.scope||r?.scope===l.DataSourceScope.Page?this._getPageDataSourcesLookups$():(0,d.of)([]),n=!r?.scope||r?.scope===l.DataSourceScope.ViewElement?this._getViewElementsDataSourcesLookups$(!1):(0,d.of)([]);return(0,d.forkJoin)([t,n]).pipe((0,c.map)(([a,i])=>[...a,...i]))}}H.\u0275fac=function(r){return new(r||H)(e.\u0275\u0275inject(P.TranslateService),e.\u0275\u0275inject(_.DesignerSchemaService),e.\u0275\u0275inject(m.DesignerDataSourceManager),e.\u0275\u0275inject(m.DisplayValueCreatorFactoryService))},H.\u0275prov=e.\u0275\u0275defineInjectable({token:H,factory:H.\u0275fac});var Dn=T(59929);class Mt{constructor(){this._destroyed$=new d.Subject,this._structureExplorer=(0,e.inject)(z.StructureExplorerService),this._elementRef=(0,e.inject)(e.ElementRef),this.iconPositionEnum=S.IconPositionEnum,this.dataSourceAttributesLookupItems=[]}get _dataItemMarker(){return this._elementRef.nativeElement.getAttribute("data-item-marker")}set dataSource(r){this._dataSource$=r}set control(r){this.dataSourceAttributeControl=r}get comboboxDataItemMarker(){return`${this._dataItemMarker}-select`}get buttonDataItemMarker(){return`${this._dataItemMarker}-icon`}_getExtendedDependencyStructureExplorerConfig({attributeControl:r,dataSource$:t}){return t.pipe((0,c.take)(1),(0,c.filter)(Boolean),(0,c.map)(n=>{const a=r.value,i=a&&`${n.dataSourceName}.${a.value}`;return{name:S.DATA_SOURCE_STRUCTURE_EXPLORER_DATA_PROVIDER_NAME,options:{selectedMetaPaths:i?[i]:[]},navigateOnlyThroughDataSource:n.dataSourceName,itemsCustomFilterFunction:u=>this.structureExplorerItemsFilter?this.structureExplorerItemsFilter(u):!0}}))}_getAttributeValue(r,t){return r?.replace(new RegExp(`^${t}[.]`),"")}_getAttributeDisplayValue(r,t){return r?.replace(new RegExp(`^${t}[.]`),"")}_getSelectedExtendedDependencyLookupValue(r,t){return(0,d.combineLatest)([t,t.pipe((0,c.switchMap)(n=>n.getSchema()))]).pipe((0,c.map)(([n,a])=>r&&r.metaPath!==n.dataSourceName?{value:this._getAttributeValue(r?.metaPath,n.dataSourceName),displayValue:this._getAttributeDisplayValue(r?.metaPathCaption,a?.caption?.toString())}:null))}_selectExtendedDependencyAttribute({attributeControl:r,dataSource$:t}){this._getExtendedDependencyStructureExplorerConfig({attributeControl:r,dataSource$:t}).pipe((0,c.switchMap)(n=>this._structureExplorer.show({providers:[n],enableMultiSelection:!1,returnDialogResult:!0})),(0,c.filter)(n=>n?.dialogResult===Dn.StructureExplorerDialogResult.Selected),(0,c.map)(n=>n.selectedItems[0]),(0,c.switchMap)(n=>this._getSelectedExtendedDependencyLookupValue(n,t)),(0,c.tap)(n=>r.setValue(n)),(0,c.takeUntil)(this._destroyed$)).subscribe()}selectAttribute(){this._selectExtendedDependencyAttribute({attributeControl:this.dataSourceAttributeControl,dataSource$:this._dataSource$})}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}Mt.\u0275fac=function(r){return new(r||Mt)},Mt.\u0275cmp=e.\u0275\u0275defineComponent({type:Mt,selectors:[["crt-data-source-attribute-select"]],inputs:{dataSource:"dataSource",control:"control",dataSourceName:"dataSourceName",dataSourceAttributesLookupItems:"dataSourceAttributesLookupItems",structureExplorerItemsFilter:"structureExplorerItemsFilter"},decls:3,vars:7,consts:[["labelPosition","above",1,"crt-data-source-dependency-attribute-select",3,"control","label","useStaticFiltering","items"],["icon","search","shape","rounded",1,"crt-data-source-dependency-attribute-select-icon",3,"iconPosition","clicked"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"crt-combobox",0),e.\u0275\u0275elementStart(2,"crt-button",1),e.\u0275\u0275listener("clicked",function(){return t.selectAttribute()}),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.dataSourceAttributeControl)("label",t.dataSourceName)("useStaticFiltering",!0)("items",t.dataSourceAttributesLookupItems),e.\u0275\u0275attribute("data-item-marker",t.comboboxDataItemMarker),e.\u0275\u0275advance(1),e.\u0275\u0275property("iconPosition",t.iconPositionEnum.OnlyIcon),e.\u0275\u0275attribute("data-item-marker",t.buttonDataItemMarker))},dependencies:[s.CrtButtonComponent,s.CrtComboBoxComponent],styles:[`crt-data-source-attribute-select{flex-grow:1;padding:0 14px 8px;min-width:0}crt-data-source-attribute-select div{display:flex;flex-direction:row}crt-data-source-attribute-select div .crt-data-source-dependency-attribute-select{flex-grow:1;display:flex;min-width:0}crt-data-source-attribute-select div .crt-data-source-dependency-attribute-select-icon{margin-top:20px}
`],encapsulation:2,changeDetection:0});function Jo(o,r){if(o&1&&(e.\u0275\u0275element(0,"crt-checkbox",8),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275pipe(2,"translate")),o&2){const t=e.\u0275\u0275nextContext();let n;e.\u0275\u0275property("control",t.filterByActiveItemControl)("label",e.\u0275\u0275pipeBind1(1,4,"DataSourceDependency.FilterByActiveItemLabel"))("tooltip",e.\u0275\u0275pipeBind1(2,6,(n=t.filterByActiveItemTooltip)!==null&&n!==void 0?n:"DataSourceDependency.FilterByActiveItemTooltip")),e.\u0275\u0275attribute("data-item-marker","filterByActiveItemControl")}}class It{get filterByActiveItemControl(){return this.dependencySettingGroup.get("filterByActiveItem")}get dataSourceControl(){return this.dependencySettingGroup.get("dataSource")}get matchDataSourceAttributeControl(){return this.dependencySettingGroup.get("matchDataSourceAttribute")}get currentDataSourceAttributeControl(){return this.dependencySettingGroup.get("currentDataSourceAttribute")}get matchDataSource$(){return this._matchDataSource$}set currentDataSource(r){this._currentDataSource$.next(r)}get currentDataSource$(){return this._currentDataSource$}constructor(r,t,n){this._structureExplorer=r,this._designerDataSourceManager=t,this._designerSchemaService=n,this._destroyed$=new d.Subject,this._dataSourceSelectOptions$=new d.BehaviorSubject(null),this._availableDataSources$=new d.BehaviorSubject(null),this._currentDataSourceAttributesSelectItems$=new d.BehaviorSubject(null),this._matchDataSourceAttributesSelectItems$=new d.BehaviorSubject(null),this._matchDataSource$=new d.BehaviorSubject(null),this._currentDataSource$=new d.BehaviorSubject(null),this.currentDataSourceAttributesSelectItems=[],this.matchDataSourceAttributesSelectItems=[],this.filterByActiveItemAllowed=!1,this.dependencySettingGroup=new p.FormGroup({currentDataSourceAttribute:new p.FormControl(null),matchDataSourceAttribute:new p.FormControl(null),dataSource:new p.FormControl(null),filterByActiveItem:new p.FormControl(null)}),this.deleted=new e.EventEmitter,this.dependencySettingChange=new e.EventEmitter}_setControls(r){this._availableDataSources$.pipe((0,c.filter)(t=>!!t),(0,c.take)(1),(0,c.switchMap)(t=>(0,d.from)(t)),(0,c.find)(t=>t?.value===r.matchedDsName),(0,c.tap)(t=>this.dataSourceControl.setValue(t)),(0,c.takeUntil)(this._destroyed$)).subscribe(),this.filterByActiveItemControl.setValue(r.filterByActiveItem),this._setAttributeControl({dataSource$:this._currentDataSource$,dataSourceAttributeName:r.targetDsAttributeName,dataSourceAttributeControl:this.currentDataSourceAttributeControl,dataSourceAttributesSelectItems$:this._currentDataSourceAttributesSelectItems$}),this._setAttributeControl({dataSource$:this._matchDataSource$,dataSourceAttributeName:r.matchedDsAttributeName,dataSourceAttributeControl:this.matchDataSourceAttributeControl,dataSourceAttributesSelectItems$:this._matchDataSourceAttributesSelectItems$})}_setAttributeControl(r){const{dataSource$:t,dataSourceAttributeName:n,dataSourceAttributeControl:a,dataSourceAttributesSelectItems$:i}=r;!n||i.pipe((0,c.filter)(u=>!!u),(0,c.take)(1),(0,c.switchMap)(u=>(0,d.from)(u)),(0,c.find)(u=>u?.value===n),(0,c.switchMap)(u=>u?(0,d.of)(u):this._getExtendedDependencyLookupValue(t,n)),(0,c.tap)(u=>{a.setValue(u)}),(0,c.takeUntil)(this._destroyed$)).subscribe()}_getExtendedDependencyLookupValue(r,t){return r.pipe((0,c.switchMap)(n=>(0,d.forkJoin)([this._designerDataSourceManager.getDataSourceServiceByDataSourceName(`${n.dataSourceName}`),(0,d.of)(n)])),(0,c.switchMap)(([n,a])=>(0,d.forkJoin)([a.getSchema(),n.getForwardReferenceAttributeCaptionByPath$(`${a.dataSourceName}.${t}`)])),(0,c.map)(([n,a])=>({value:t,displayValue:this._getAttributeDisplayValue(a,n?.caption?.toString())})))}_setMatchDsAttributesSelectItems(){this.dataSourceControl.valueChanges.pipe((0,c.startWith)(this.dataSourceControl.value),(0,c.tap)(()=>this.matchDataSourceAttributeControl.patchValue(null)),(0,c.map)(r=>this.dataSourceSelectOptions.find(t=>t.dataSource.dataSourceName===r?.value)),(0,c.tap)(r=>this.filterByActiveItemAllowed=r?.filterByActiveItemAllowed),(0,c.map)(r=>r?.dataSource),(0,c.tap)(r=>this._matchDataSource$.next(r)),(0,c.switchMap)(r=>r?r.getSchema():(0,d.of)(null)),(0,c.tap)(r=>{this.matchDataSourceObjectName=r?.caption?.toString();const t=r?.attributes;this.matchDataSourceAttributesSelectItems=this._getDataSourceAttributesSelectItems(t),this._matchDataSourceAttributesSelectItems$.next(this.matchDataSourceAttributesSelectItems)}),(0,c.takeUntil)(this._destroyed$)).subscribe()}_tryAutoSetDataSource(){const r=this.availableDataSourcesSelectItems;if(this.dependencySetting?.matchedDsName)return;if(r?.length===1){this.dataSourceControl.setValue(r[0]);return}const n=this._designerSchemaService.getPrimaryDataSourceName(),a=r.find(i=>i.value===n);a&&this.dataSourceControl.setValue(a)}_setCurrentDsAttributesSelectItems(){this._currentDataSource$.pipe((0,c.switchMap)(r=>r.getSchema()),(0,c.filter)(r=>!!r),(0,c.tap)(r=>{const t=r.attributes??[];this.currentDataSourceObjectName=r?.caption?.toString(),this.currentDataSourceAttributesSelectItems=this._getDataSourceAttributesSelectItems(t),this._currentDataSourceAttributesSelectItems$.next(this.currentDataSourceAttributesSelectItems)}),(0,c.takeUntil)(this._destroyed$)).subscribe()}_setAvailableDataSourcesSelectItems(){(0,d.combineLatest)([this._dataSourceSelectOptions$,this._currentDataSource$]).pipe((0,c.filter)(([r,t])=>Array.isArray(r)&&Boolean(t)),(0,c.map)(([r,t])=>r.filter(n=>n.dataSource?.dataSourceName!==t?.dataSourceName).map(n=>n.lookup)),(0,c.tap)(r=>{this.availableDataSourcesSelectItems=r,this._availableDataSources$.next(this.availableDataSourcesSelectItems),this._tryAutoSetDataSource()}),(0,c.takeUntil)(this._destroyed$)).subscribe()}_subscribeToItemsChanges(){this.dependencySettingGroup.valueChanges.pipe((0,c.distinctUntilChanged)((r,t)=>(0,y.isEqual)(r,t)),(0,c.withLatestFrom)(this._currentDataSource$),(0,c.filter)(([r,t])=>Boolean(t)),(0,c.tap)(([r,t])=>{if(Object.values(r).some(a=>typeof a=="string"))return;const n={targetDsAttributeName:r.currentDataSourceAttribute?.value,matchedDsAttributeName:r.matchDataSourceAttribute?.value,matchedDsName:r.dataSource?.value,targetDsName:t.dataSourceName,filterByActiveItem:r.filterByActiveItem};this.dependencySettingChange.emit(n)}),(0,c.takeUntil)(this._destroyed$)).subscribe()}_getDataSourceAttributesSelectItems(r=[]){const t=[l.DataValueType.Guid,l.DataValueType.Lookup];return r.filter(n=>t.includes(n.dataValueType)).map(n=>({displayValue:n.caption,value:n.name}))}_findMatchedLookupValue(r,t){const n=r.attributes.filter(a=>a.referenceSchemaName&&a.referenceSchemaName===t&&!w.DATA_SCHEMA_SYSTEM_COLUMNS.includes(a.path));return n.length===0||n.length>1?null:{displayValue:n[0].caption,value:n[0].name}}_findMatchedPrimaryAttribute(r,t){const n=r.attributes.find(a=>a?.name===t);return n?{displayValue:n.caption,value:n.name}:null}_getMatchedLookupValue(r,t,n,a){if(a)return null;const i=r.attributes.find(O=>O.name===n.value);if(i?.referenceSchemaName===t.name)return this._findMatchedPrimaryAttribute(t,r.primaryAttributeName);const h=i?.dataValueType===l.DataValueType.Lookup;return i?.name===r.primaryAttributeName?this._findMatchedLookupValue(t,r.name):h?this._findMatchedLookupValue(t,i.referenceSchemaName):null}_subscribeToDependencyAttributesChanged(){const r={dataSource$:this._matchDataSource$,attributeControl:this.matchDataSourceAttributeControl},t={dataSource$:this._currentDataSource$,attributeControl:this.currentDataSourceAttributeControl};this._subscribeToDependencyAttributeChanged(r,t),this._subscribeToDependencyAttributeChanged(t,r)}_subscribeToDependencyAttributeChanged(r,t){const{dataSource$:n,attributeControl:a}=r,{dataSource$:i,attributeControl:u}=t;(0,d.combineLatest)([n,i,a.valueChanges]).pipe((0,c.filter)(([h,b,O])=>Boolean(h)&&Boolean(b)&&Boolean(O)),(0,c.switchMap)(([h,b,O])=>(0,d.forkJoin)([h.getSchema(),b.getSchema(),(0,d.of)(O)])),(0,c.map)(([h,b,O])=>this._getMatchedLookupValue(h,b,O,u.value)),(0,c.filter)(Boolean),(0,c.tap)(h=>u.setValue(h,{emitEvent:!1})),(0,c.takeUntil)(this._destroyed$)).subscribe()}_getAttributeDisplayValue(r,t){return r?.replace(new RegExp(`^${t}[.]`),"")}structureExplorerItemsFilter(r){const t=[l.DataValueType.Guid,l.DataValueType.Lookup],n=r.data.item.dataValueType;return t.includes(n)}onDeleteDependency(){this.deleted.emit()}ngOnInit(){this._setCurrentDsAttributesSelectItems(),this._setAvailableDataSourcesSelectItems(),this._setMatchDsAttributesSelectItems(),this._subscribeToItemsChanges(),this._subscribeToDependencyAttributesChanged()}ngOnChanges(r){if(("dataSourceSelectOptions"in r||"currentDataSource"in r)&&this._dataSourceSelectOptions$.next(this.dataSourceSelectOptions),"dependencySetting"in r){if(!Object.keys(this.dependencySetting).length)return;this._setControls(this.dependencySetting)}}ngDoCheck(){this.dependencySetting?.filterByActiveItem!==this.filterByActiveItemControl.value&&this.filterByActiveItemControl.setValue(this.dependencySetting?.filterByActiveItem)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}It.\u0275fac=function(r){return new(r||It)(e.\u0275\u0275directiveInject(z.StructureExplorerService),e.\u0275\u0275directiveInject(m.DesignerDataSourceManager),e.\u0275\u0275directiveInject(_.DesignerSchemaService))},It.\u0275cmp=e.\u0275\u0275defineComponent({type:It,selectors:[["crt-data-source-dependency"]],inputs:{dataSourceSelectOptions:"dataSourceSelectOptions",currentDataSource:"currentDataSource",dependencySetting:"dependencySetting",filterByActiveItemTooltip:"filterByActiveItemTooltip"},outputs:{deleted:"deleted",dependencySettingChange:"dependencySettingChange"},features:[e.\u0275\u0275NgOnChangesFeature],decls:11,vars:23,consts:[[1,"crt-data-source-dependency-wrapper"],[1,"crt-data-source-dependency"],["labelPosition","above",3,"control","label","useStaticFiltering","items"],[1,"crt-data-source-dependency-attributes"],[3,"control","dataSource","dataSourceName","dataSourceAttributesLookupItems","structureExplorerItemsFilter"],["caption","=","labelType","headline",1,"crt-data-source-dependency-equal-indicator"],["labelPosition","right",3,"control","label","tooltip",4,"ngIf"],["icon","message-composer-cross","shape","rounded",1,"crt-data-source-dependency-delete-btn",3,"iconPosition","clicked"],["labelPosition","right",3,"control","label","tooltip"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"crt-combobox",2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275element(5,"crt-data-source-attribute-select",4),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275element(7,"crt-label",5)(8,"crt-data-source-attribute-select",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,Jo,3,8,"crt-checkbox",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"crt-button",7),e.\u0275\u0275listener("clicked",function(){return t.onDeleteDependency()}),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.dataSourceControl)("label",e.\u0275\u0275pipeBind1(3,19,"DataSourceDependency.PageData"))("useStaticFiltering",!0)("items",t.availableDataSourcesSelectItems),e.\u0275\u0275attribute("data-item-marker","dataSourceControl"),e.\u0275\u0275advance(3),e.\u0275\u0275property("control",t.matchDataSourceAttributeControl)("dataSource",t.matchDataSource$)("dataSourceName",t.matchDataSourceObjectName||e.\u0275\u0275pipeBind1(6,21,"DataSourceDependency.MatchDataSourceAttributes"))("dataSourceAttributesLookupItems",t.matchDataSourceAttributesSelectItems)("structureExplorerItemsFilter",t.structureExplorerItemsFilter),e.\u0275\u0275attribute("data-item-marker","match-data-source-attribute-control"),e.\u0275\u0275advance(3),e.\u0275\u0275property("control",t.currentDataSourceAttributeControl)("dataSource",t.currentDataSource$)("dataSourceName",t.currentDataSourceObjectName)("dataSourceAttributesLookupItems",t.currentDataSourceAttributesSelectItems)("structureExplorerItemsFilter",t.structureExplorerItemsFilter),e.\u0275\u0275attribute("data-item-marker","current-data-source-attribute-control"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.filterByActiveItemAllowed),e.\u0275\u0275advance(1),e.\u0275\u0275property("iconPosition","only-icon"))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtComboBoxComponent,s.CrtCheckboxComponent,s.CrtLabelComponent,Mt,P.TranslatePipe],styles:[".crt-data-source-dependency-wrapper[_ngcontent-%COMP%]{display:flex;padding:20px 0 0 20px}.crt-data-source-dependency-wrapper[_ngcontent-%COMP%]   .crt-data-source-dependency[_ngcontent-%COMP%]{flex-grow:1;padding:0 14px 8px;min-width:0}.crt-data-source-dependency-wrapper[_ngcontent-%COMP%]   .crt-data-source-dependency[_ngcontent-%COMP%]   .crt-data-source-dependency-attributes[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.crt-data-source-dependency-wrapper[_ngcontent-%COMP%]   .crt-data-source-dependency[_ngcontent-%COMP%]   .crt-data-source-dependency-attributes[_ngcontent-%COMP%]   crt-data-source-attribute-select[_ngcontent-%COMP%]{padding:0}.crt-data-source-dependency-wrapper[_ngcontent-%COMP%]   .crt-data-source-dependency[_ngcontent-%COMP%]   .crt-data-source-dependency-attributes[_ngcontent-%COMP%]   .crt-data-source-dependency-equal-indicator[_ngcontent-%COMP%]{margin:0 8px}"],changeDetection:0});function Zo(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-data-source-dependency",6),e.\u0275\u0275listener("deleted",function(){const i=e.\u0275\u0275restoreView(t).index,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onDeleted(i))})("dependencySettingChange",function(a){const u=e.\u0275\u0275restoreView(t).index,h=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(h.onChanged(u,a))}),e.\u0275\u0275elementEnd()}if(o&2){const t=r.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentDataSource",n.currentDataSource)("dataSourceSelectOptions",n.dataSourceSelectOptions)("dependencySetting",t)("filterByActiveItemTooltip",n.filterByActiveItemTooltip)}}class me{constructor(){this.dependenciesSettingChange=new e.EventEmitter}set dependenciesSetting(r){this._dependenciesSetting=r??[]}get dependenciesSetting(){return this._dependenciesSetting}_handleDataSourceChanged(r,t){const n=t.matchedDsName,a=this.dependenciesSetting[r].matchedDsName;if(n===a)return;const i=this.dependenciesSetting.find((u,h)=>u.matchedDsName===t.matchedDsName&&h!==r);t.filterByActiveItem=i?.filterByActiveItem??!1}_handleFilterByActiveItemChanged(r,t){const n=t.filterByActiveItem,a=this.dependenciesSetting[r].filterByActiveItem;(0,y.isNil)(n)||n===a||this.dependenciesSetting.filter(i=>i.matchedDsName===t.matchedDsName).forEach(i=>i.filterByActiveItem=n)}addDataSourceComponents(){this.dependenciesSetting=[...this.dependenciesSetting,{}]}onDeleted(r){const t=this.dependenciesSetting.filter((n,a)=>r!==a);this.dependenciesSettingChange.emit(t)}onChanged(r,t){this._handleFilterByActiveItemChanged(r,t),this._handleDataSourceChanged(r,t),(0,y.assign)(this.dependenciesSetting[r],t),this.dependenciesSettingChange.emit(this.dependenciesSetting)}}me.\u0275fac=function(r){return new(r||me)},me.\u0275cmp=e.\u0275\u0275defineComponent({type:me,selectors:[["crt-data-source-dependencies-setting"]],inputs:{dataSourceSelectOptions:"dataSourceSelectOptions",currentDataSource:"currentDataSource",targetDataSourceName:"targetDataSourceName",filterByActiveItemTooltip:"filterByActiveItemTooltip",dependenciesSetting:"dependenciesSetting"},outputs:{dependenciesSettingChange:"dependenciesSettingChange"},decls:9,vars:9,consts:[[1,"crt-data-source-dependencies-setting-header"],[1,"crt-data-source-dependencies-setting-header-caption"],["labelType","body-1","labelFontSize","13px",1,"crt-data-source-dependencies-setting-header-caption-label"],["svgIcon","info","matTooltipPosition","below","matTooltipClass","crt-data-source-dependencies-setting-header-tooltip",1,"crt-data-source-dependencies-setting-header-icon",3,"matTooltip"],["shape","rounded","icon","add-button-icon",1,"crt-data-source-dependencies-add-btn",3,"disabled","iconPosition","clicked"],[3,"currentDataSource","dataSourceSelectOptions","dependencySetting","filterByActiveItemTooltip","deleted","dependencySettingChange",4,"ngFor","ngForOf"],[3,"currentDataSource","dataSourceSelectOptions","dependencySetting","filterByActiveItemTooltip","deleted","dependencySettingChange"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"crt-label",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"mat-icon",3),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"crt-button",4),e.\u0275\u0275listener("clicked",function(){return t.addDataSourceComponents()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(8,Zo,1,4,"crt-data-source-dependency",5)),r&2&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,5,"DataSourceDependenciesSetting.Title")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("matTooltip",e.\u0275\u0275pipeBind1(6,7,"DataSourceDependenciesSetting.Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.targetDataSourceName)("iconPosition","only-icon"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.dependenciesSetting))},dependencies:[f.NgForOf,X.MatLegacyTooltip,s.CrtButtonComponent,s.CrtLabelComponent,I.MatIcon,It,P.TranslatePipe],styles:["[_nghost-%COMP%]{display:block}.crt-data-source-dependencies-setting-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.crt-data-source-dependencies-setting-header-caption[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.crt-data-source-dependencies-setting-header-caption-label[_ngcontent-%COMP%]{flex:1}.crt-data-source-dependencies-setting-header-icon[_ngcontent-%COMP%]{margin:0 4px;width:16px;height:16px}"],changeDetection:0});function Ko(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-data-source-dependencies-setting",1),e.\u0275\u0275listener("dependenciesSettingChange",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onDependenciesSettingChange(a))}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("dataSourceSelectOptions",t.availableDataSourceSelectOptions)("targetDataSourceName",t.dataSource==null?null:t.dataSource.dataSourceName)("currentDataSource",t.dataSource)("dependenciesSetting",t.dataSourceDependencies)("filterByActiveItemTooltip",e.\u0275\u0275pipeBind1(1,5,"PropertiesPages.WidgetPropertiesPanel.FilterByActiveItemTooltip"))}}class Ie{constructor(r,t,n,a,i,u){this._dataSourceDependencySettingService=r,this._designerSchemaService=t,this._dataSourcesLookupValuesProvider=n,this._filterViewElementConfigFinders=a,this._designerDataSourceManager=i,this._changeDetectorRef=u,this._destroyed$=new d.Subject,this.dataSourceDependencies=[]}_getAvailableDataSourcesConfigs(r){return this._dataSourcesLookupValuesProvider.get().pipe((0,d.map)(t=>t.map(n=>({dataSource:r.find(a=>a.dataSourceName===n.value),filterByActiveItemAllowed:this._filterViewElementConfigFinders.some(a=>a.isBoundToFilterViewElement(n.value)),lookup:n}))))}_setDataSource(r){const t=this._designerSchemaService.getMappedDataSourceAttributePath(this.attributeName);this.dataSource=r.find(n=>n.dataSourceName===t)}_setDataSourcesSelectOptions(r){return this._getAvailableDataSourcesConfigs(r).pipe((0,d.tap)(t=>{this.availableDataSourceSelectOptions=t}),(0,d.map)(()=>{}))}_setDataSourceDependencies(){this.dataSourceDependencies=this._dataSourceDependencySettingService.getByCollectionAttributeName(this.attributeName)}onDependenciesSettingChange(r){this.dataSourceDependencies=r,this._dataSourceDependencySettingService.updateByCollectionAttributeName(this.attributeName,r)}ngOnChanges(r){"attributeName"in r&&(this._setDataSourceDependencies(),this._designerDataSourceManager.getDataSources$().pipe((0,d.tap)(t=>this._setDataSource(t)),(0,d.switchMap)(t=>this._setDataSourcesSelectOptions(t)),(0,d.tap)(()=>this._changeDetectorRef.detectChanges()),(0,d.take)(1),(0,d.takeUntil)(this._destroyed$)).subscribe())}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}Ie.\u0275fac=function(r){return new(r||Ie)(e.\u0275\u0275directiveInject(m.DataSourceDependencySettingService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(H),e.\u0275\u0275directiveInject(m.FILTER_VIEW_ELEMENT_CONFIG_FINDERS),e.\u0275\u0275directiveInject(m.DesignerDataSourceManager),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},Ie.\u0275cmp=e.\u0275\u0275defineComponent({type:Ie,selectors:[["crt-attribute-filters-setting"]],inputs:{attributeName:"attributeName"},features:[e.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[[3,"dataSourceSelectOptions","targetDataSourceName","currentDataSource","dependenciesSetting","filterByActiveItemTooltip","dependenciesSettingChange",4,"ngIf"],[3,"dataSourceSelectOptions","targetDataSourceName","currentDataSource","dependenciesSetting","filterByActiveItemTooltip","dependenciesSettingChange"]],template:function(r,t){r&1&&e.\u0275\u0275template(0,Ko,2,7,"crt-data-source-dependencies-setting",0),r&2&&e.\u0275\u0275property("ngIf",t.availableDataSourceSelectOptions)},dependencies:[f.NgIf,me,P.TranslatePipe],changeDetection:0});const Xo=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Adatforr\xE1s","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"Alap\xE9rtelmezett \xE9rt\xE9k","FilterColumnLabel":"Filter column","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Ellen\u0151rizve","UncheckedCaption":"Nem ellen\u0151rz\xF6tt"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Current user contact","CurrentUserAccountName":"Current user account","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"C\xEDmke"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Lap l\xE9trehoz\xE1sa","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Leg\xF6rd\xFCl\u0151 lista","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),Yo=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"\u6309\u9875\u9762\u6570\u636E\u5E94\u7528\u8FC7\u6EE4\u5668","Tooltip":"\u901A\u8FC7\u9875\u9762\u6570\u636E\u8FC7\u6EE4\uFF0C\u60A8\u53EF\u4EE5\u5728\u9644\u52A0\u5217\u8868\u4E2D\u663E\u793A\u5DF2\u8FDE\u63A5\u7684\u8BB0\u5F55\u6216\u8BE6\u7EC6\u6570\u636E\u3002"},"DataSourceDependency":{"PageData":"\u6570\u636E\u6E90","MatchDataSourceAttributes":"\u5339\u914D\u6570\u636E\u6E90\u5C5E\u6027","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"\u5E94\u7528\u9884\u914D\u7F6E\u8FC7\u6EE4\u5668","Tooltip":"\u8BE5\u8BBE\u7F6E\u5141\u8BB8\u60A8\u4F7F\u7528\u6587\u4EF6\u5939\u9884\u914D\u7F6E\u8FC7\u6EE4\u5668\u6216\u5176\u4ED6\u6570\u636E\u8FC7\u6EE4\u5143\u7D20\u7684\u4F5C\u4E3A\u9875\u9762\u8FC7\u6EE4\u5668\u3002"},"DataSourceFilterElement":{"Caption":"\u7B5B\u9009\u5143\u7D20"},"QuickFilterTargetsGroup":{"Label":"\u6DFB\u52A0\u7EC4\u4EF6","Tooltip":"\u8BF7\u6DFB\u52A0\u7EC4\u4EF6"},"QuickFilterTarget":{"DefaultValueCaption":"\u9ED8\u8BA4\u503C","FilterColumnLabel":"\u7B5B\u9009\u5217","ViewAttributeLabel":"\u8981\u8FC7\u6EE4\u7684\u7EC4\u4EF6"},"CustomQuickFilterTarget":{"EditFilterCaption":"\u7F16\u8F91\u8FC7\u6EE4\u5668","SetupFilterCaption":"\u8BBE\u7F6E\u8FC7\u6EE4\u5668","FiltersDialogCaption":"\u624B\u52A8\u5B9A\u4E49\u8FC7\u6EE4\u5668","DefaultCheckBoxState":{"Label":"\u590D\u9009\u6846\u7F3A\u7701\u72B6\u6001","CheckedCaption":"\u5DF2\u52FE\u9009","UncheckedCaption":"\u672A\u9009"},"FilteringApproachState":{"Label":"\u7B5B\u9009\u65B9\u6CD5","OnCheckedCaption":"\u9009\u4E2D\u590D\u9009\u6846\u4EE5\u5E94\u7528\u8FC7\u6EE4\u6761\u4EF6","OnUncheckedCaption":"\u53D6\u6D88\u590D\u9009\u6846\u4EE5\u5E94\u7528\u8FC7\u6EE4\u6761\u4EF6"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"\u9ED8\u8BA4\u5468\u671F","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"\u5F53\u524D\u7528\u6237\u8054\u7CFB","CurrentUserAccountName":"\u5F53\u524D\u7528\u6237\u8D26\u6237","EditFilterCaption":"\u7F16\u8F91\u8FC7\u6EE4\u5668","SetupFilterCaption":"\u8BBE\u7F6E\u8FC7\u6EE4\u5668","FiltersDialogCaption":"\u624B\u52A8\u5B9A\u4E49\u8FC7\u6EE4\u5668","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"\u6DFB\u52A0\u5BF9\u8C61","CreatePageLabel":"\u8BF7\u521B\u5EFA\u4E00\u4E2A\u9875\u9762\uFF0C\u56E0\u4E3A\u6CA1\u6709\u8981\u6267\u884C\u6B64\u64CD\u4F5C\u3002","CreatePageLink":"\u521B\u5EFA\u9875\u9762","EditPageLabel":"{0} \u67091\u4E2A\u8868\u5355\u9875\u9762\u3002","EditPagesLabel":"{0} \u6709\u51E0\u4E2A\u9875\u9762\u3002","EditPageLink":"\u7F16\u8F91\u9875\u9762","OpenPagesSetup":"\u6253\u5F00\u9875\u9762\u8BBE\u7F6E","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"\u521B\u5EFA\u9875\u9762\u524D\u4FDD\u5B58\u5BF9\u8C61\u3002\u662F\u5426\u7EE7\u7EED\uFF1F"},"RelatedPagesCaptionWithEntityName":"\u6253\u5F00\u9875\u9762\u8BBE\u7F6E"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),$o=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apliko filtrimin sipas t\xEB dh\xEBnave t\xEB faqes","Tooltip":"Filtrimi sipas t\xEB dh\xEBnave t\xEB faqes t\xEB lejon t\xEB shfaq\xEBsh t\xEB dh\xEBnat e nd\xEBrlidhura ose t\xEB detajuara n\xEB nj\xEB list\xEB shtes\xEB."},"DataSourceDependency":{"PageData":"Burimi i t\xEB dh\xEBnave","MatchDataSourceAttributes":"P\xEBrputh atributet e burimit t\xEB t\xEB dh\xEBnave","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apliko filtrimin e para-konfiguruar","Tooltip":"Cil\xEBsimi t\xEB lejon t\xEB p\xEBrdor\xEBsh filtrimet e para-konfiguruara nga dosjet ose element\xEB t\xEB tjer\xEB t\xEB filtrimit t\xEB t\xEB dh\xEBnave si ato t\xEB filtrimeve t\xEB faqeve."},"DataSourceFilterElement":{"Caption":"Elementi i filtrimit"},"QuickFilterTargetsGroup":{"Label":"Shto komponent\xEBt","Tooltip":"T\xEB lutem, shto komponent\xEBt"},"QuickFilterTarget":{"DefaultValueCaption":"Vler\xEB e paracaktuar","FilterColumnLabel":"Filtro kolon\xEBn","ViewAttributeLabel":"Kompenenti p\xEBr tu filtruar"},"CustomQuickFilterTarget":{"EditFilterCaption":"Modifiko filtrin","SetupFilterCaption":"Filtri i konfigurimit","FiltersDialogCaption":"Filt\xEBr i p\xEBrcaktuar manualisht","DefaultCheckBoxState":{"Label":"Gj\xEBndja e paracaktuar e kutiz\xEBs s\xEB kontrollit","CheckedCaption":"Kontrolluar","UncheckedCaption":"E pakontrolluar"},"FilteringApproachState":{"Label":"Qasja e filtrimit","OnCheckedCaption":"Apliko gj\xEBndjen e filtrit kur t\xEB p\xEBrzgjidhet kutiza e kontrollit","OnUncheckedCaption":"Apliko gj\xEBndjen e filtrit kur t\xEB zhb\xEBhet p\xEBrgjedhja e kutiz\xEBs s\xEB kontrollit"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Periudh\xEB e paracaktuar","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Kontakti aktual i p\xEBrdoruesit","CurrentUserAccountName":"Llogaria aktuale e p\xEBrdoruesit","EditFilterCaption":"Modifiko filtrin","SetupFilterCaption":"Vendosni filtrin","FiltersDialogCaption":"Filt\xEBr i p\xEBrcaktuar manualisht","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Shto objektin e ri","CreatePageLabel":"T\xEB lutem krijo nj\xEB faqe, sepse nuk ka asnj\xEB p\xEBr ta ekzekutuar k\xEBt\xEB veprim.","CreatePageLink":"Krijo faqen","EditPageLabel":"{0} ka 1 faqe formulari.","EditPagesLabel":"{0} ka disa faqe.","EditPageLink":"Modifiko faqen","OpenPagesSetup":"Shih strukturimin e faqeve","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Ruaj objektin p\xEBrpara se t\xEB krijosh nj\xEB faqe. A do t\xEB vazhdosh?"},"RelatedPagesCaptionWithEntityName":"{0} strukturimi i faqeve"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),ea=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Page data","MatchDataSourceAttributes":"Match data source attributes"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"}}'),ta=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Data source","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source","FilterBySelectedItemsLabel":"Filter by selected record","FilterBySelectedItemsTooltip":"Select to let users filter the list data by the record selected in the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"Default value","FilterColumnLabel":"Filter column","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Checked","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Current user contact","CurrentUserAccountName":"Current user account","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"}}'),ra=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"\u0645\u0635\u062F\u0631 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"\u0642\u064A\u0645\u0629 \u0627\u0641\u062A\u0631\u0627\u0636\u064A\u0629","FilterColumnLabel":"\u0639\u0645\u0648\u062F \u0627\u0644\u062A\u0631\u0634\u064A\u062D","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Checked","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"\u062C\u0647\u0629 \u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u062D\u0627\u0644\u064A","CurrentUserAccountName":"\u062D\u0633\u0627\u0628 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u062D\u0627\u0644\u064A","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),na=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Datov\xFD zdroj","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"V\xFDchoz\xED hodnota","FilterColumnLabel":"Filtrovat sloupec","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Ov\u011B\u0159eno","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Kontakt aktu\xE1ln\xEDho u\u017Eivatele","CurrentUserAccountName":"\xDA\u010Det aktu\xE1ln\xEDho u\u017Eivatele","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),oa=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Datenquelle","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"Standardwert","FilterColumnLabel":"Filterspalte","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"\xDCberpr\xFCft m","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Aktueller Nutzerkontakt","CurrentUserAccountName":"Aktuellen Nutzeraccount","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),aa=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Data source","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"Default value","FilterColumnLabel":"Filter column","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Checked","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Current user contact","CurrentUserAccountName":"Current user account","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"}}}'),ia=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Aplicar filtro por datos de p\xE1gina","Tooltip":"Filtrar por datos de la p\xE1gina le permite mostrar registros conectados o datos detallados en una lista adicional."},"DataSourceDependency":{"PageData":"Fuente de datos","MatchDataSourceAttributes":"Coincidir atributos de origen de datos","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Aplicar filtro preconfigurado","Tooltip":"La configuraci\xF3n le permite utilizar filtros preconfigurados de carpetas u otros elementos de filtrado de datos como filtros de p\xE1gina."},"DataSourceFilterElement":{"Caption":"Filtrar elemento"},"QuickFilterTargetsGroup":{"Label":"A\xF1adir componentes","Tooltip":"Por favor, a\xF1adir componentes"},"QuickFilterTarget":{"DefaultValueCaption":"Valor por defecto","FilterColumnLabel":"Columna de filtro","ViewAttributeLabel":"Componente para filtrar"},"CustomQuickFilterTarget":{"EditFilterCaption":"Editar filtro","SetupFilterCaption":"Configurar filtro","FiltersDialogCaption":"Filtro definido manualmente","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Revisado","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Contacto de usuario actual","CurrentUserAccountName":"Contacto de Cuenta actual","EditFilterCaption":"Editar filtro","SetupFilterCaption":"Configurar filtro","FiltersDialogCaption":"Filtro definido manualmente","TagVirtualColumnCaption":"Etiqueta"},"EntitySchemaSelectComponent":{"AddNewEntity":"A\xF1adir nuevo objeto","CreatePageLabel":"Por favor, crea una p\xE1gina, porque no hay nada para ejecutar esta acci\xF3n.","CreatePageLink":"Crear p\xE1gina","EditPageLabel":"{0} tiene 1 p\xE1gina de formulario.","EditPagesLabel":"{0} tiene varias p\xE1ginas.","EditPageLink":"Editar la p\xE1gina","OpenPagesSetup":"Ver configuraci\xF3n de p\xE1ginas","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Guardar el objeto antes de crear una p\xE1gina. \xBFContinuar?"},"RelatedPagesCaptionWithEntityName":"{0} p\xE1ginas configuradas"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Ventana de selecci\xF3n","List":"Lista desplegable","Label":"Vista de Diccionario"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Apariencia","BindToDataSourceCaption":"Fuente de datos","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editabilidad","EditabilityControls":{"Readonly":"Solo lectura","Disabled":"Desactivado"},"TitleOnPage":"T\xEDtulo en p\xE1gina","Multiline":"Texto de cadenas m\xFAltiples","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Autom\xE1tico","Left":"Izquierda","Right":"Derecha","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Apariencia","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Sugerencia","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Configuraci\xF3n de gr\xE1ficos","GeneralLabel":"General","TitleLabel":"T\xEDtulo","ColorLabel":"Color","StyleLabel":"Estilo","Styles":{"FullyColored":"Totalmente coloreado","PlainWhite":"Blanco liso","PartiallyColored":"Partially colored","Glassmorphism":"Efecto de cristal"},"ContextMenu":{"Edit":"Editar"},"ChartSeries":"Chart series","SeriesControlLabel":"T\xEDtulo","SetupBlockCaption":"Configurar gr\xE1fico","SetupButtonLabel":"Configuraci\xF3n de gr\xE1ficos","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Estilo","Colors":{"Accent":"Focus","Primary":"Primario","Warn":"Aviso","Default":"Defecto"},"ReadonlyLabel":"Solo lectura","StepLabel":"Step value","MinValueLabel":"Valor m\xEDnimo","MaxValueLabel":"Valor m\xE1ximo","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Apariencia","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"Ninguno","Small":"Small","Medium":"Medio","Large":"Grande"},"PaddingGroup":"Spacing","Padding":{"Top":"Arriba","Bottom":"Abajo","Left":"Izquierda","Right":"Derecha"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Inicio","Center":"Centro","End":"Fin"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"N\xFAmero de columnas","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direcci\xF3n","Row":"Fila","Column":"Columna","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Inicio","Center":"Centro","End":"Fin","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Limpiar valor"}}}'),la=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Page data","MatchDataSourceAttributes":"Match data source attributes"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"}}'),sa=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Page data","MatchDataSourceAttributes":"Match data source attributes"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"}}'),pa=JSON.parse(`{"DataSourceDependenciesSetting":{"Title":"Appliquer le filtre par donn\xE9es de page","Tooltip":"Filtrer les donn\xE9es par page vous permet d'afficher des enregistrements connect\xE9s ou des donn\xE9es d\xE9taill\xE9es dans une liste suppl\xE9mentaire."},"DataSourceDependency":{"PageData":"Source de donn\xE9es","MatchDataSourceAttributes":"Matcher les attributs de la source de donn\xE9es","FilterByActiveItemLabel":"Filtrer par ligne active","FilterByActiveItemTooltip":"S\xE9lectionner pour permettre aux utilisateurs de filtrer la liste des donn\xE9es par la ligne active de la source de donn\xE9es li\xE9e"},"DataSourceFilterElementsGroup":{"Title":"Appliquer le filtre pr\xE9configur\xE9","Tooltip":"Le param\xE8tre vous permet d'utiliser des filtres pr\xE9configur\xE9s \xE0 partir de dossiers ou d'autres \xE9l\xE9ments de filtrage de donn\xE9es comme filtres de page."},"DataSourceFilterElement":{"Caption":"Filtrer l'\xE9l\xE9ment"},"QuickFilterTargetsGroup":{"Label":"Ajouter des composants","Tooltip":"Merci d'ajouter des composants"},"QuickFilterTarget":{"DefaultValueCaption":"Valeur par d\xE9faut","FilterColumnLabel":"Filtrer la colonne","ViewAttributeLabel":"Composant \xE0 filtrer"},"CustomQuickFilterTarget":{"EditFilterCaption":"Modifier le filtre","SetupFilterCaption":"Configurer le filtre","FiltersDialogCaption":"Filtre d\xE9fini manuellement","DefaultCheckBoxState":{"Label":"\xC9tat de la case \xE0 cocher par d\xE9faut","CheckedCaption":"V\xE9rifi\xE9","UncheckedCaption":"Non coch\xE9"},"FilteringApproachState":{"Label":"Approche de filtrage","OnCheckedCaption":"Appliquer la condition de filtre lorsque la case est coch\xE9e","OnUncheckedCaption":"Appliquer la condition de filtre lorsque la case est d\xE9coch\xE9e"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"P\xE9riode par d\xE9faut","ChooseFilteringMethodCaption":"Choisir une m\xE9thode de filtrage","ChooseFilteringMethodTooltip":"Le filtre peut afficher les donn\xE9es relatives \xE0 la p\xE9riode sp\xE9cifi\xE9e.\\nUtilisez la condition \\"Configurer le filtre par une date\\" pour afficher les enregistrements qui ont \xE9t\xE9 cr\xE9\xE9s ou modifi\xE9s le jour sp\xE9cifi\xE9. Par exemple, vous pouvez configurer ce filtre pour qu'il affiche les prospects par date de cr\xE9ation, opportunit\xE9s par date de fermeture, ou cas par date de solution.\\n\\nUtilisez la condition \\"D\xE9finir le filtre par plage de dates\\" pour afficher les enregistrements pour lesquels une plage de dates est particuli\xE8rement pertinente. Par exemple, vous pouvez configurer ce filtre pour les contrats dont les dates de d\xE9but et de fin se situent dans la plage de dates sp\xE9cifi\xE9e.","SetUpByOneColumnTitle":"Configurer le filtre par une date","SetUpByTwoColumnsTitle":"Configurer le filtre par plage de dates","FilterColumnStartCaption":"Filtrer la colonne D\xE9but","FilterColumnEndCaption":"Filtrer la colonne Fin"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Utilisateur en cours","CurrentUserAccountName":"Compte de l'utilisateur actuel","EditFilterCaption":"Modifier le filtre","SetupFilterCaption":"Configurer le filtre","FiltersDialogCaption":"Filtre d\xE9fini manuellement","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Ajouter un nouvel objet","CreatePageLabel":"Veuillez cr\xE9er une page, car il n'y en a pas pour ex\xE9cuter cette action.","CreatePageLink":"Cr\xE9er une page","EditPageLabel":"{0} a 1\xA0page de formulaire.","EditPagesLabel":"{0} dispose de plusieurs pages.","EditPageLink":"Modifier la page","OpenPagesSetup":"Voir la configuration des pages","SaveConfirmationDialog":{"Save":"Enregistrer","Cancel":"Annuler","Message":"Enregistrez l'objet avant de cr\xE9er une page. Continuer?"},"RelatedPagesCaptionWithEntityName":"Param\xE9trage des pages {0}"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Fen\xEAtre de s\xE9lection","List":"Liste d\xE9roulante","Label":"Vue lookup"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Apparence","BindToDataSourceCaption":"Source de donn\xE9es","DataSourceAttributeNotFoundErrorMessage":"\xC9l\xE9ment avec le nom de chemin \\"{0}\\" introuvable","Editability":"Modifiable","EditabilityControls":{"Readonly":"Lecture seule","Disabled":"D\xE9sactiv\xE9"},"TitleOnPage":"Titre sur la page","Multiline":"Texte multi-lignes","LabelPosition":"Position du titre","LabelPositionVariants":{"Auto":"Auto","Left":"Gauche","Right":"Droit","Above":"Au-dessus","Hidden":"Cach\xE9"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Permettre l'ajout de nouvelles valeurs","ShowValueAsLink":"Afficher la valeur en tant que lien","IsGoToSourceAllowed":"Activer l'ouverture de la liste des enregistrements"},"ColorPicker":{"PageCaption":"S\xE9lecteur de couleurs","AppearanceGroup":"Apparence","PickerModeRadioButtonCaption":"Palette","PickerMode":{"Basic":"Palette de base","Extended":"Palette \xE9tendue"}},"Tooltip":"Info-bulle","DisplayPhoneMask":"Afficher le masque du t\xE9l\xE9phone"},"WidgetPropertiesPanel":{"HeaderLabel":"Param\xE8tres du graphique","GeneralLabel":"G\xE9n\xE9ral","TitleLabel":"Titre","ColorLabel":"Couleur","StyleLabel":"Style","Styles":{"FullyColored":"Color\xE9","PlainWhite":"Blanc","PartiallyColored":"Partiellement color\xE9","Glassmorphism":"Effet miroir"},"ContextMenu":{"Edit":"Modifier"},"ChartSeries":"S\xE9ries de graphiques","SeriesControlLabel":"Titre","SetupBlockCaption":"Configurer le graphique","SetupButtonLabel":"Param\xE8tres du graphique","FilterByActiveItemTooltip":"S\xE9lectionner pour permettre aux utilisateurs de filtrer les donn\xE9es du graphique par la ligne active de la source de donn\xE9es li\xE9e"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Principale","Warn":"Attention","Default":"Par d\xE9faut"},"ReadonlyLabel":"Lecture seule","StepLabel":"Valeur de l'\xE9tape","MinValueLabel":"Valeur minimum","MaxValueLabel":"Valeur maximum","Validations":{"GreaterThanZeroCaption":"La valeur doit \xEAtre sup\xE9rieure \xE0 0","MinValueLessThanMaxValueCaption":"La valeur minimale doit \xEAtre inf\xE9rieure \xE0 la valeur maximale","MaxValueGreaterMinValueCaption":"La valeur maximale doit \xEAtre sup\xE9rieure \xE0 la valeur minimale","StyleIsInvalidCaption":"Le style est incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"G\xE9n\xE9ral","AppearanceGroup":"Apparence","ColorLabel":"Couleur","BorderRadiusLabel":"Rayon de bordure","Sizes":{"None":"Aucun","Small":"Petit","Medium":"Moyen","Large":"Grand"},"PaddingGroup":"Espacement","Padding":{"Top":"Haut","Bottom":"Bas","Left":"Gauche","Right":"Droit"},"StretchLabel":"Etirer vers le conteneur parent","FitContentLabel":"Ajuster le contenu","AlignItemsLabel":"Aligner objets","AlignItems":{"Stretch":"Etirer","Start":"D\xE9marrer","Center":"Centrer","End":"Fin"},"Grid":{"PageCaption":"Param\xE8tres du conteneur de grille","ColumnsLabel":"Nombre de colonnes","ColumnGapFieldLabel":"Espacement des colonnes","RowGapFieldLabel":"Espacement des lignes"},"Flex":{"PageCaption":"Param\xE8tres du conteneur Flex","Direction":"Direction","Row":"Ligne","Column":"Colonne","Gap":"Ecart","WrapLabel":"R\xE9gler les \xE9l\xE9ments","JustifyContentLabel":"Justifier le contenu","JustifyContent":{"Start":"D\xE9marrer","Center":"Centrer","End":"Fin","SpaceBetween":"Espace entre"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Quelles donn\xE9es imprimer ?","PrintablesSettingsCaption":"Param\xE8tres d'impression","PrintOnRecord":"Imprimer le rapport pour l'enregistrement actuel","PrintOnList":"Imprimer le rapport pour la liste des enregistrements"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"L'\xE9l\xE9ment utilise des macros. Si vous devez impl\xE9menter une logique alternative, alors supprimez la valeur de l'\xE9l\xE9ment.","ClearAttributeBinding":"Effacer la valeur"}}}`),ca=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"\u05D4\u05D7\u05DC \u05E1\u05D9\u05E0\u05D5\u05DF \u05DC\u05E4\u05D9 \u05E0\u05EA\u05D5\u05E0\u05D9 \u05E2\u05DE\u05D5\u05D3","Tooltip":"\u05E1\u05D9\u05E0\u05D5\u05DF \u05DC\u05E4\u05D9 \u05E0\u05EA\u05D5\u05E0\u05D9 \u05E2\u05DE\u05D5\u05D3 \u05DE\u05D0\u05E4\u05E9\u05E8 \u05DC\u05DA \u05DC\u05D4\u05E6\u05D9\u05D2 \u05E8\u05E9\u05D5\u05DE\u05D5\u05EA \u05DE\u05D7\u05D5\u05D1\u05E8\u05D5\u05EA \u05D0\u05D5 \u05E0\u05EA\u05D5\u05E0\u05D9 \u05E4\u05D9\u05E8\u05D5\u05D8 \u05D1\u05E8\u05E9\u05D9\u05DE\u05D4 \u05E0\u05D5\u05E1\u05E4\u05EA."},"DataSourceDependency":{"PageData":"\u05DE\u05E7\u05D5\u05E8 \u05D4\u05E0\u05EA\u05D5\u05E0\u05D9\u05DD","MatchDataSourceAttributes":"\u05D4\u05EA\u05D0\u05DD \u05DE\u05D0\u05E4\u05D9\u05D9\u05E0\u05D9 \u05DE\u05E7\u05D5\u05E8 \u05E0\u05EA\u05D5\u05E0\u05D9\u05DD","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"\u05D4\u05D7\u05DC \u05DE\u05E1\u05E0\u05DF \u05DE\u05D5\u05D2\u05D3\u05E8 \u05DE\u05E8\u05D0\u05E9","Tooltip":"\u05D4\u05D4\u05D2\u05D3\u05E8\u05D4 \u05DE\u05D0\u05E4\u05E9\u05E8\u05EA \u05DC\u05DA \u05DC\u05D4\u05E9\u05EA\u05DE\u05E9 \u05D1\u05DE\u05E1\u05E0\u05E0\u05D9\u05DD \u05DE\u05D5\u05D2\u05D3\u05E8\u05D9\u05DD \u05DE\u05E8\u05D0\u05E9 \u05DE\u05EA\u05D9\u05E7\u05D9\u05D5\u05EA \u05D0\u05D5 \u05E8\u05DB\u05D9\u05D1\u05D9 \u05E1\u05D9\u05E0\u05D5\u05DF \u05E0\u05EA\u05D5\u05E0\u05D9\u05DD \u05D0\u05D7\u05E8\u05D9\u05DD \u05DB\u05DE\u05E1\u05E0\u05E0\u05D9 \u05D3\u05E4\u05D9\u05DD."},"DataSourceFilterElement":{"Caption":"\u05E8\u05DB\u05D9\u05D1 \u05DE\u05E1\u05E0\u05DF"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"\u05E2\u05E8\u05DA \u05D1\u05E8\u05D9\u05E8\u05EA \u05DE\u05D7\u05D3\u05DC","FilterColumnLabel":"\u05E2\u05DE\u05D5\u05D3\u05EA \u05DE\u05E1\u05E0\u05DF","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Checked","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"\u05D0\u05D9\u05E9 \u05E7\u05E9\u05E8 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D4\u05E0\u05D5\u05DB\u05D7\u05D9","CurrentUserAccountName":"\u05D7\u05D1\u05E8\u05EA \u05DE\u05E9\u05EA\u05DE\u05E9 \u05E0\u05D5\u05DB\u05D7\u05D9","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"\u05EA\u05D5\u05D5\u05D9\u05EA"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"\u05D7\u05DC\u05D5\u05DF \u05D1\u05D7\u05D9\u05E8\u05D4","List":"Dropdown list","Label":"\u05EA\u05E6\u05D5\u05D2\u05EA \u05D8\u05D1\u05DC\u05EA \u05D7\u05D9\u05E4\u05D5\u05E9"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),ua=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Sumber data","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"Nilai default","FilterColumnLabel":"Kolom filter","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Diverifikasi pada","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Kontak pengguna sekarang","CurrentUserAccountName":"Akun pengguna sekarang","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),da=JSON.parse(`{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Sorgente dati","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"Valore predefinito","FilterColumnLabel":"Filtra colonna","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Verificato","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Contatto dell'utente corrente","CurrentUserAccountName":"Account dell'utente corrente","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}`),ma=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"\u30DA\u30FC\u30B8\u30C7\u30FC\u30BF\u306B\u3088\u308B\u30D5\u30A3\u30EB\u30BF\u306E\u9069\u7528","Tooltip":"\u30DA\u30FC\u30B8\u30C7\u30FC\u30BF\u3067\u30D5\u30A3\u30EB\u30BF\u30EA\u30F3\u30B0\u3059\u308B\u3068\u3001\u63A5\u7D9A\u3055\u308C\u3066\u3044\u308B\u30EC\u30B3\u30FC\u30C9\u3084\u8A73\u7D30\u30C7\u30FC\u30BF\u3092\u8FFD\u52A0\u30EA\u30B9\u30C8\u306B\u8868\u793A\u3067\u304D\u307E\u3059\u3002"},"DataSourceDependency":{"PageData":"\u30C7\u30FC\u30BF\u5143","MatchDataSourceAttributes":"\u30C7\u30FC\u30BF\u30BD\u30FC\u30B9\u306E\u5C5E\u6027\u3068\u4E00\u81F4","FilterByActiveItemLabel":"\u6709\u52B9\u306A\u884C\u3067\u30D5\u30A3\u30EB\u30BF\u30FC","FilterByActiveItemTooltip":"\u9078\u629E\u3059\u308B\u3068\u3001\u30EA\u30F3\u30AF\u3055\u308C\u305F\u30C7\u30FC\u30BF\u30BD\u30FC\u30B9\u306E\u30A2\u30AF\u30C6\u30A3\u30D6\u306A\u884C\u3067\u30EA\u30B9\u30C8\u30C7\u30FC\u30BF\u3092\u30D5\u30A3\u30EB\u30BF\u30EA\u30F3\u30B0\u3067\u304D\u307E\u3059"},"DataSourceFilterElementsGroup":{"Title":"\u4E8B\u524D\u8A2D\u5B9A\u3055\u308C\u305F\u30D5\u30A3\u30EB\u30BF\u30FC\u3092\u9069\u7528","Tooltip":"\u3053\u306E\u8A2D\u5B9A\u3067\u306F\u3001\u30D5\u30A9\u30EB\u30C0\u30FC\u307E\u305F\u306F\u305D\u306E\u4ED6\u306E\u30C7\u30FC\u30BF\u30D5\u30A3\u30EB\u30BF\u30FC\u8981\u7D20\u304B\u3089\u4E8B\u524D\u8A2D\u5B9A\u3055\u308C\u305F\u30D5\u30A3\u30EB\u30BF\u30FC\u3092\u30DA\u30FC\u30B8\u30D5\u30A3\u30EB\u30BF\u30FC\u3068\u3057\u3066\u4F7F\u7528\u3067\u304D\u307E\u3059\u3002"},"DataSourceFilterElement":{"Caption":"\u8981\u7D20\u3092\u30D5\u30A3\u30EB\u30BF\u30EA\u30F3\u30B0"},"QuickFilterTargetsGroup":{"Label":"\u30B3\u30F3\u30DD\u30FC\u30CD\u30F3\u30C8\u306E\u8FFD\u52A0","Tooltip":"\u30B3\u30F3\u30DD\u30FC\u30CD\u30F3\u30C8\u3092\u8FFD\u52A0\u3057\u3066\u304F\u3060\u3055\u3044"},"QuickFilterTarget":{"DefaultValueCaption":"\u30C7\u30D5\u30A9\u30EB\u30C8\u5024","FilterColumnLabel":"\u5217\u3092\u30D5\u30A3\u30EB\u30BF\u30FC","ViewAttributeLabel":"\u30D5\u30A3\u30EB\u30BF\u30EA\u30F3\u30B0\u3059\u308B\u30B3\u30F3\u30DD\u30FC\u30CD\u30F3\u30C8"},"CustomQuickFilterTarget":{"EditFilterCaption":"\u30D5\u30A3\u30EB\u30BF\u30FC\u3092\u7DE8\u96C6","SetupFilterCaption":"\u30D5\u30A3\u30EB\u30BF\u30FC\u306E\u8A2D\u5B9A","FiltersDialogCaption":"\u624B\u52D5\u3067\u5B9A\u7FA9\u3057\u305F\u30D5\u30A3\u30EB\u30BF\u30FC","DefaultCheckBoxState":{"Label":"\u30C7\u30D5\u30A9\u30EB\u30C8\u306E\u30C1\u30A7\u30C3\u30AF\u30DC\u30C3\u30AF\u30B9\u306E\u72B6\u614B","CheckedCaption":"\u78BA\u8A8D\u5B8C\u4E86","UncheckedCaption":"\u672A\u30C1\u30A7\u30C3\u30AF"},"FilteringApproachState":{"Label":"\u30D5\u30A3\u30EB\u30BF\u30EA\u30F3\u30B0\u30A2\u30D7\u30ED\u30FC\u30C1","OnCheckedCaption":"\u30C1\u30A7\u30C3\u30AF\u30DC\u30C3\u30AF\u30B9\u3092\u30AA\u30F3\u306B\u3059\u308B\u3068\u30D5\u30A3\u30EB\u30BF\u30FC\u6761\u4EF6\u3092\u9069\u7528\u3057\u307E\u3059","OnUncheckedCaption":"\u30C1\u30A7\u30C3\u30AF\u30DC\u30C3\u30AF\u30B9\u3092\u30AA\u30D5\u306B\u3059\u308B\u3068\u30D5\u30A3\u30EB\u30BF\u30FC\u6761\u4EF6\u3092\u9069\u7528\u3057\u307E\u3059"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"\u30C7\u30D5\u30A9\u30EB\u30C8\u671F\u9593","ChooseFilteringMethodCaption":"\u30D5\u30A3\u30EB\u30BF\u30EA\u30F3\u30B0\u65B9\u6CD5\u3092\u9078\u629E","ChooseFilteringMethodTooltip":"\u30D5\u30A3\u30EB\u30BF\u30FC\u306F\u3001\u6307\u5B9A\u3057\u305F\u671F\u9593\u306B\u95A2\u9023\u3059\u308B\u30C7\u30FC\u30BF\u3092\u8868\u793A\u3067\u304D\u307E\u3059\u3002\\n\u6307\u5B9A\u3057\u305F\u65E5\u306B\u4F5C\u6210\u307E\u305F\u306F\u5909\u66F4\u3055\u308C\u305F\u30EC\u30B3\u30FC\u30C9\u3092\u8868\u793A\u3059\u308B\u306B\u306F\u3001\u300C1 \u3064\u306E\u65E5\u4ED8\u306B\u3088\u308B\u30D5\u30A3\u30EB\u30BF\u30FC\u3092\u8A2D\u5B9A\u300D\u6761\u4EF6\u3092\u4F7F\u7528\u3057\u307E\u3059\u3002 \u305F\u3068\u3048\u3070\u3001\u3053\u306E\u30D5\u30A3\u30EB\u30BF\u3092\u8A2D\u5B9A\u3057\u3066\u3001\u30EA\u30FC\u30C9\u3092\u4F5C\u6210\u65E5\u3054\u3068\u3001\u5546\u8AC7\u3092\u7D42\u4E86\u65E5\u3054\u3068\u3001\u307E\u305F\u306F\u30B1\u30FC\u30B9\u3092\u89E3\u6C7A\u65E5\u3054\u3068\u306B\u8868\u793A\u3059\u308B\u3088\u3046\u306B\u8A2D\u5B9A\u3067\u304D\u307E\u3059\u3002\\n\\n\u300C\u65E5\u4ED8\u7BC4\u56F2\u306B\u3088\u308B\u30D5\u30A3\u30EB\u30BF\u30FC\u306E\u8A2D\u5B9A\u300D\u6761\u4EF6\u3092\u4F7F\u7528\u3057\u3066\u3001\u65E5\u4ED8\u7BC4\u56F2\u304C\u7279\u306B\u95A2\u9023\u3059\u308B\u30EC\u30B3\u30FC\u30C9\u3092\u8868\u793A\u3057\u307E\u3059\u3002 \u305F\u3068\u3048\u3070\u3001\u958B\u59CB\u65E5\u3068\u7D42\u4E86\u65E5\u304C\u6307\u5B9A\u3055\u308C\u305F\u65E5\u4ED8\u7BC4\u56F2\u5185\u306B\u3042\u308B\u5951\u7D04\u306B\u5BFE\u3057\u3066\u3053\u306E\u30D5\u30A3\u30EB\u30BF\u30FC\u3092\u8A2D\u5B9A\u3067\u304D\u307E\u3059\u3002","SetUpByOneColumnTitle":"1\u3064\u306E\u65E5\u4ED8\u3067\u30D5\u30A3\u30EB\u30BF\u30FC\u3092\u8A2D\u5B9A","SetUpByTwoColumnsTitle":"\u65E5\u4ED8\u7BC4\u56F2\u3067\u30D5\u30A3\u30EB\u30BF\u30FC\u3092\u8A2D\u5B9A","FilterColumnStartCaption":"\u3053\u3053\u304B\u3089\u5217\u3092\u30D5\u30A3\u30EB\u30BF\u30FC","FilterColumnEndCaption":"\u5217\u306E\u3053\u3053\u307E\u3067\u3092\u30D5\u30A3\u30EB\u30BF\u30FC"},"LookupQuickFilterTarget":{"CurrentUserContactName":"\u73FE\u5728\u4F7F\u7528\u3057\u3066\u3044\u308B\u30E6\u30FC\u30B6\u30FC\u306E\u9023\u7D61\u5148","CurrentUserAccountName":"\u73FE\u5728\u4F7F\u7528\u3057\u3066\u3044\u308B\u30E6\u30FC\u30B6\u30FC\u30A2\u30AB\u30A6\u30F3\u30C8","EditFilterCaption":"\u30D5\u30A3\u30EB\u30BF\u30FC\u3092\u7DE8\u96C6","SetupFilterCaption":"\u30D5\u30A3\u30EB\u30BF\u30FC\u306E\u8A2D\u5B9A","FiltersDialogCaption":"\u624B\u52D5\u3067\u5B9A\u7FA9\u3057\u305F\u30D5\u30A3\u30EB\u30BF\u30FC","TagVirtualColumnCaption":"\u30BF\u30B0"},"EntitySchemaSelectComponent":{"AddNewEntity":"\u65B0\u3057\u3044\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3092\u8FFD\u52A0","CreatePageLabel":"\u3053\u306E\u30A2\u30AF\u30B7\u30E7\u30F3\u3092\u5B9F\u884C\u3059\u308B\u30DA\u30FC\u30B8\u304C\u5B58\u5728\u3057\u306A\u3044\u305F\u3081\u3001\u30DA\u30FC\u30B8\u3092\u4F5C\u6210\u3057\u3066\u304F\u3060\u3055\u3044\u3002","CreatePageLink":"\u30DA\u30FC\u30B8\u306E\u4F5C\u6210","EditPageLabel":"{0} \u306B\u306F\u30D5\u30A9\u30FC\u30E0 \u30DA\u30FC\u30B8\u304C1\u3064\u3042\u308A\u307E\u3059\u3002","EditPagesLabel":"{0} \u306B\u306F\u8907\u6570\u306E\u30DA\u30FC\u30B8\u304C\u3042\u308A\u307E\u3059\u3002","EditPageLink":"\u30DA\u30FC\u30B8\u306E\u7DE8\u96C6","OpenPagesSetup":"\u30DA\u30FC\u30B8\u306E\u8A2D\u5B9A\u3092\u8868\u793A","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"\u30DA\u30FC\u30B8\u3092\u4F5C\u6210\u3059\u308B\u524D\u306B\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3092\u4FDD\u5B58\u3057\u307E\u3059\u3002\u7D9A\u884C\u3057\u307E\u3059\u304B\uFF1F"},"RelatedPagesCaptionWithEntityName":"{0} \u30DA\u30FC\u30B8\u8A2D\u5B9A"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"\u9078\u629E\u753B\u9762","List":"\u30C9\u30ED\u30C3\u30D7\u30C0\u30A6\u30F3\u30EA\u30B9\u30C8","Label":"\u691C\u7D22\u30D3\u30E5\u30FC"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"\u8868\u793A","BindToDataSourceCaption":"\u30C7\u30FC\u30BF\u30BD\u30FC\u30B9","DataSourceAttributeNotFoundErrorMessage":"\u30D1\u30B9 \\"{0}\\" \u306E\u30A2\u30A4\u30C6\u30E0\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093","Editability":"\u7DE8\u96C6\u53EF\u5426","EditabilityControls":{"Readonly":"\u8AAD\u307F\u53D6\u308A\u5C02\u7528","Disabled":"\u7121\u52B9"},"TitleOnPage":"\u30DA\u30FC\u30B8\u306E\u30BF\u30A4\u30C8\u30EB","Multiline":"\u8907\u6570\u884C\u30C6\u30AD\u30B9\u30C8","LabelPosition":"\u30BF\u30A4\u30C8\u30EB\u306E\u4F4D\u7F6E","LabelPositionVariants":{"Auto":"\u81EA\u52D5","Left":"\u5DE6","Right":"\u53F3","Above":"\u4E0A","Hidden":"\u975E\u8868\u793A"},"Placeholder":"\u30D7\u30EC\u30FC\u30B9\u30DB\u30EB\u30C0\u30FC","Combobox":{"IsAddAllowed":"\u65B0\u3057\u3044\u5024\u306E\u8FFD\u52A0\u3092\u6709\u52B9\u5316","ShowValueAsLink":"\u5024\u3092\u30EA\u30F3\u30AF\u3068\u3057\u3066\u8868\u793A","IsGoToSourceAllowed":"\u30EC\u30B3\u30FC\u30C9\u30EA\u30B9\u30C8\u3092\u958B\u304F\u3053\u3068\u3092\u6709\u52B9\u306B\u3059\u308B"},"ColorPicker":{"PageCaption":"\u30AB\u30E9\u30FC\u9078\u629E","AppearanceGroup":"\u8868\u793A","PickerModeRadioButtonCaption":"\u30D1\u30EC\u30C3\u30C8","PickerMode":{"Basic":"\u57FA\u672C\u30D1\u30EC\u30C3\u30C8","Extended":"\u62E1\u5F35\u30D1\u30EC\u30C3\u30C8"}},"Tooltip":"Tooltip","DisplayPhoneMask":"\u96FB\u8A71\u30DE\u30B9\u30AF\u3092\u8868\u793A"},"WidgetPropertiesPanel":{"HeaderLabel":"\u30C1\u30E3\u30FC\u30C8\u306E\u8A2D\u5B9A","GeneralLabel":"\u4E00\u822C","TitleLabel":"\u30BF\u30A4\u30C8\u30EB","ColorLabel":"\u8272","StyleLabel":"\u30B9\u30BF\u30A4\u30EB","Styles":{"FullyColored":"\u5857\u308A\u3064\u3076\u3057","PlainWhite":"\u767D\u8272","PartiallyColored":"\u90E8\u5206\u7684\u306A\u5F69\u8272","Glassmorphism":"\u30AC\u30E9\u30B9\u52B9\u679C"},"ContextMenu":{"Edit":"\u7DE8\u96C6"},"ChartSeries":"\u30C1\u30E3\u30FC\u30C8\u306E\u7A2E\u985E","SeriesControlLabel":"\u30BF\u30A4\u30C8\u30EB","SetupBlockCaption":"\u30B0\u30E9\u30D5\u306E\u8A2D\u5B9A","SetupButtonLabel":"\u30B0\u30E9\u30D5\u306E\u8A2D\u5B9A","FilterByActiveItemTooltip":"\u30EA\u30F3\u30AF\u3055\u308C\u305F\u30C7\u30FC\u30BF\u30BD\u30FC\u30B9\u306E\u30A2\u30AF\u30C6\u30A3\u30D6\u306A\u884C\u3067\u30B0\u30E9\u30D5\u30C7\u30FC\u30BF\u3092\u30D5\u30A3\u30EB\u30BF\u3067\u304D\u308B\u3088\u3046\u306B\u3059\u308B\u5834\u5408\u306B\u9078\u629E\u3057\u307E\u3059"},"SliderPropertiesPage":{"ColorLabel":"\u30B9\u30BF\u30A4\u30EB","Colors":{"Accent":"\u30D5\u30A9\u30FC\u30AB\u30B9","Primary":"\u30D7\u30E9\u30A4\u30DE\u30EA","Warn":"\u8B66\u544A","Default":"\u30C7\u30D5\u30A9\u30EB\u30C8"},"ReadonlyLabel":"\u8AAD\u307F\u53D6\u308A\u5C02\u7528","StepLabel":"\u30B9\u30C6\u30C3\u30D7\u306E\u5024","MinValueLabel":"\u6700\u5C0F\u5024","MaxValueLabel":"\u6700\u5927\u5024","Validations":{"GreaterThanZeroCaption":"\u5024\u306F0\u3088\u308A\u5927\u304D\u304F\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093","MinValueLessThanMaxValueCaption":"\u6700\u5C0F\u5024\u306F\u6700\u5927\u5024\u3088\u308A\u5C0F\u3055\u304F\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093","MaxValueGreaterMinValueCaption":"\u6700\u5927\u5024\u306F\u6700\u5C0F\u5024\u3088\u308A\u5927\u304D\u304F\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093","StyleIsInvalidCaption":"\u30B9\u30BF\u30A4\u30EB\u304C\u6B63\u3057\u304F\u3042\u308A\u307E\u305B\u3093"}},"ContainerPropertiesPage":{"GeneralGroup":"\u4E00\u822C","AppearanceGroup":"\u8868\u793A","ColorLabel":"\u8272","BorderRadiusLabel":"\u67A0\u7DDA\u306E\u534A\u5F84","Sizes":{"None":"\u306A\u3057","Small":"\u5C0F","Medium":"\u4E2D","Large":"\u5927"},"PaddingGroup":"\u884C\u9593","Padding":{"Top":"\u4E0A","Bottom":"\u4E0B","Left":"\u5DE6","Right":"\u53F3"},"StretchLabel":"\u89AA\u30B3\u30F3\u30C6\u30CA\u306B\u62E1\u5F35","FitContentLabel":"\u30B3\u30F3\u30C6\u30F3\u30C4\u3092\u5408\u308F\u305B\u308B","AlignItemsLabel":"\u30A2\u30A4\u30C6\u30E0\u306E\u6574\u5217","AlignItems":{"Stretch":"\u30B9\u30C8\u30EC\u30C3\u30C1","Start":"\u958B\u59CB","Center":"\u4E2D\u592E","End":"\u7D42\u4E86"},"Grid":{"PageCaption":"\u30B0\u30EA\u30C3\u30C9\u30B3\u30F3\u30C6\u30CA\u306E\u8A2D\u5B9A","ColumnsLabel":"\u5217\u6570","ColumnGapFieldLabel":"\u5217\u306E\u9593\u9694","RowGapFieldLabel":"\u884C\u306E\u9593\u9694"},"Flex":{"PageCaption":"\u30D5\u30EC\u30C3\u30AF\u30B9\u30B3\u30F3\u30C6\u30CA\u306E\u8A2D\u5B9A","Direction":"\u5411\u304D","Row":"\u884C","Column":"\u5217","Gap":"\u30AE\u30E3\u30C3\u30D7","WrapLabel":"\u8981\u7D20\u3092\u30E9\u30C3\u30D7\u3059\u308B","JustifyContentLabel":"\u30B3\u30F3\u30C6\u30F3\u30C4\u3092\u6574\u7406\u3059\u308B","JustifyContent":{"Start":"\u958B\u59CB","Center":"\u4E2D\u592E","End":"\u7D42\u4E86","SpaceBetween":"\u9593\u9694"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"\u3069\u306E\u30C7\u30FC\u30BF\u3092\u5370\u5237\u3057\u307E\u3059\u304B\uFF1F","PrintablesSettingsCaption":"\u5370\u5237\u8A2D\u5B9A","PrintOnRecord":"\u73FE\u5728\u306E\u30EC\u30B3\u30FC\u30C9\u306E\u30EC\u30DD\u30FC\u30C8\u3092\u5370\u5237","PrintOnList":"\u30EC\u30B3\u30FC\u30C9\u4E00\u89A7\u306E\u30EC\u30DD\u30FC\u30C8\u3092\u5370\u5237"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"\u3053\u306E\u8981\u7D20\u306F\u30DE\u30AF\u30ED\u3092\u4F7F\u7528\u3057\u307E\u3059\u3002\u4EE3\u66FF\u30ED\u30B8\u30C3\u30AF\u3092\u5B9F\u88C5\u3059\u308B\u5FC5\u8981\u304C\u3042\u308B\u5834\u5408\u306F\u3001\u8981\u7D20\u306E\u5024\u3092\u524A\u9664\u3057\u307E\u3059\u3002","ClearAttributeBinding":"\u5024\u3092\u30AF\u30EA\u30A2"}}}'),ga=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Page data","MatchDataSourceAttributes":"Match data source attributes"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"}}'),ha=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Data source1","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"\uAE30\uBCF8\uAC12","FilterColumnLabel":"Filter column","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"\uCCB4\uD06C\uBB34\uB2AC","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"\uD604\uC7AC \uC0AC\uC6A9\uC790 \uC5F0\uB77D\uCC98","CurrentUserAccountName":"\uD604\uC7AC \uC0AC\uC6A9\uC790 \uACC4\uC815","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),Ca=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Data source","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"Default value","FilterColumnLabel":"Filter column","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Checked","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Current user contact","CurrentUserAccountName":"Current user account","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),fa=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Databron","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"Standaardwaarde","FilterColumnLabel":"Filterkolom","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Gecontroleerd","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Huidig \u200B\u200Bgebruikerscontact","CurrentUserAccountName":"Huidige gebruikersaccount","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),ya=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Bruk filter ved sidedata","Tooltip":"Filtrering etter sidedata lar deg vise tilkoblede oppf\xF8ringer eller detaljdata i en annen liste."},"DataSourceDependency":{"PageData":"Side data","MatchDataSourceAttributes":"Tilpass datakildeattributter"},"DataSourceFilterElementsGroup":{"Title":"Bruk forh\xE5ndskonfigurert filter","Tooltip":"Innstillingen lar deg bruke forh\xE5ndskonfigurerte filtre fra mapper eller andre datafiltrerende elementer som sidefiltre."},"DataSourceFilterElement":{"Caption":"Filtrer element"}}'),Sa=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Page data","MatchDataSourceAttributes":"Match data source attributes"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"}}'),ba=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"\u0179r\xF3d\u0142o danych","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"Warto\u015B\u0107 domy\u015Blna","FilterColumnLabel":"Filter column","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Zweryfikowano w","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Aktualny kontakt u\u017Cytkownika","CurrentUserAccountName":"Aktualne konto u\u017Cytkownika","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),Pa=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Aplicar um filtro pelos dados da p\xE1gina","Tooltip":"Filtrar a partir dos dados da p\xE1gina permite exibir os registros conectados ou os dados do detalhe em uma lista adicional."},"DataSourceDependency":{"PageData":"Fonte de dados","MatchDataSourceAttributes":"Equiparar atributos da fonte de dados","FilterByActiveItemLabel":"Filtrar pela linha ativa","FilterByActiveItemTooltip":"Selecionar permitindo aos usu\xE1rios filtrarem os dados do gr\xE1fico pela linha ativa da fonte de dados vinculada"},"DataSourceFilterElementsGroup":{"Title":"Aplicar filtros pr\xE9-configurados","Tooltip":"As configura\xE7\xF5es permitem usar filtros pr\xE9-configurados de pastas ou de outros elementos de filtragem dos dados como os filtros de p\xE1ginas."},"DataSourceFilterElement":{"Caption":"Elemento dos filtros"},"QuickFilterTargetsGroup":{"Label":"Adicionar componentes","Tooltip":"Favor, adicionar os componentes"},"QuickFilterTarget":{"DefaultValueCaption":"Valor padr\xE3o","FilterColumnLabel":"Coluna do filtro","ViewAttributeLabel":"Componente a ser filtrado"},"CustomQuickFilterTarget":{"EditFilterCaption":"Editar o filtro","SetupFilterCaption":"Configurar os filtros","FiltersDialogCaption":"Filtro definido manualmente","DefaultCheckBoxState":{"Label":"Estado padr\xE3o do checkbox","CheckedCaption":"Verificado","UncheckedCaption":"Desmarcado"},"FilteringApproachState":{"Label":"Abordagem dos filtros","OnCheckedCaption":"Aplicar a condi\xE7\xE3o de filtro quando o checkbox estiver marcado","OnUncheckedCaption":"Aplicar a condi\xE7\xE3o de filtro quando o checkbox n\xE3o estiver marcado"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Per\xEDodo padr\xE3o","ChooseFilteringMethodCaption":"Escolher um m\xE9todo de filtragem","ChooseFilteringMethodTooltip":"O filtro pode exibir os dados relevantes para o per\xEDodo especificado.\\nUsar a condi\xE7\xE3o \\"Configurar filtros por uma data\\" para exibir os registros que foram criados ou modificados no per\xEDodo especificado. Por exemplo, pode-se configurar este filtro para exibir os Leads pela data de cria\xE7\xE3o, oportunidades pela data de fechamento ou casos pela data de resolu\xE7\xE3o.\\n\\nUsar a condi\xE7\xE3o \\"Configurar filtros por intervalo de datas\\" para exibir os registros para os quais um intervalo de datas ser\xE1 particularmente relevante. Por exemplo, pode-se configurar este filtro para os contratos cujas datas de in\xEDcio e t\xE9rmino estejam dentro do intervalo de datas especificado.","SetUpByOneColumnTitle":"Configurar o filtro por uma \xFAnica data","SetUpByTwoColumnsTitle":"Configurar o filtro por intervalo de datas","FilterColumnStartCaption":"Filtrar a partir da coluna De","FilterColumnEndCaption":"Filtrar a partir da coluna Para"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Contato do usu\xE1rio atual","CurrentUserAccountName":"Conta do usu\xE1rio atual","EditFilterCaption":"Editar o filtro","SetupFilterCaption":"Configurar os filtros","FiltersDialogCaption":"Filtros definidos manualmente","TagVirtualColumnCaption":"Etiqueta"},"EntitySchemaSelectComponent":{"AddNewEntity":"Adicionar um novo objeto","CreatePageLabel":"Favor, criar uma p\xE1gina, pois n\xE3o h\xE1 nenhuma para executar esta a\xE7\xE3o.","CreatePageLink":"Criar uma p\xE1gina","EditPageLabel":"{0} possui 1 p\xE1gina do formul\xE1rio.","EditPagesLabel":"{0} possui v\xE1rias p\xE1ginas.","EditPageLink":"Editar a p\xE1gina","OpenPagesSetup":"Visualizar as configura\xE7\xF5es das p\xE1ginas","SaveConfirmationDialog":{"Save":"Salvar","Cancel":"Cancelar","Message":"Salvar o objeto antes de criar uma p\xE1gina. Continuar?"},"RelatedPagesCaptionWithEntityName":"Configura\xE7\xF5es das p\xE1ginas {0}"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Janela de sele\xE7\xE3o","List":"Lista suspensa","Label":"Visualiza\xE7\xE3o da pesquisa"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Apar\xEAncia","BindToDataSourceCaption":"Fonte de dados","DataSourceAttributeNotFoundErrorMessage":"Item com o caminho \\"{0}\\" n\xE3o encontrado","Editability":"Editabilidade","EditabilityControls":{"Readonly":"Somente leitura","Disabled":"Desabilitado"},"TitleOnPage":"T\xEDtulo na p\xE1gina","Multiline":"Texto em m\xFAltiplas-linhas","LabelPosition":"Posi\xE7\xE3o do t\xEDtulo","LabelPositionVariants":{"Auto":"Auto","Left":"Esquerda","Right":"Direita","Above":"Acima","Hidden":"Oculto"},"Placeholder":"Espa\xE7o reservado","Combobox":{"IsAddAllowed":"Permitir adicionar novos valores","ShowValueAsLink":"Mostrar o valor como um link","IsGoToSourceAllowed":"Permitir abrir a lista de registros"},"ColorPicker":{"PageCaption":"Seletor de cores","AppearanceGroup":"Apar\xEAncia","PickerModeRadioButtonCaption":"Paleta","PickerMode":{"Basic":"Paleta b\xE1sica","Extended":"Paleta estendida"}},"Tooltip":"Dicas das ferramentas","DisplayPhoneMask":"Exibir a m\xE1scara do telefone"},"WidgetPropertiesPanel":{"HeaderLabel":"Configura\xE7\xF5es do gr\xE1fico","GeneralLabel":"Geral","TitleLabel":"T\xEDtulo","ColorLabel":"Cor","StyleLabel":"Estilo","Styles":{"FullyColored":"Totalmente colorido","PlainWhite":"Branco puro","PartiallyColored":"Parcialmente colorido","Glassmorphism":"Efeito de vidro"},"ContextMenu":{"Edit":"Editar"},"ChartSeries":"S\xE9ries do gr\xE1fico","SeriesControlLabel":"T\xEDtulo","SetupBlockCaption":"Configurar o gr\xE1fico","SetupButtonLabel":"Configura\xE7\xF5es do gr\xE1fico","FilterByActiveItemTooltip":"Selecionar permitindo aos usu\xE1rios filtrarem os dados do gr\xE1fico pela linha ativa da fonte de dados vinculada"},"SliderPropertiesPage":{"ColorLabel":"Estilo","Colors":{"Accent":"Foco","Primary":"Prim\xE1rio","Warn":"Aviso","Default":"Padr\xE3o"},"ReadonlyLabel":"Somente leitura","StepLabel":"Valor do passo","MinValueLabel":"Valor m\xEDnimo","MaxValueLabel":"Valor m\xE1ximo","Validations":{"GreaterThanZeroCaption":"O valor deve ser maior do que 0","MinValueLessThanMaxValueCaption":"O valor m\xEDnimo deve ser menor do que o valor m\xE1ximo","MaxValueGreaterMinValueCaption":"O valor m\xE1ximo deve ser maior do que o valor m\xEDnimo","StyleIsInvalidCaption":"O estilo est\xE1 incorreto"}},"ContainerPropertiesPage":{"GeneralGroup":"Geral","AppearanceGroup":"Apar\xEAncia","ColorLabel":"Cor","BorderRadiusLabel":"Raio da borda","Sizes":{"None":"Nenhum","Small":"Pequeno","Medium":"M\xE9dio","Large":"Grande"},"PaddingGroup":"Espa\xE7amento","Padding":{"Top":"Topo","Bottom":"Inferior","Left":"Esquerda","Right":"Direita"},"StretchLabel":"Alongar ao container pai","FitContentLabel":"Ajustar o conte\xFAdo","AlignItemsLabel":"Alinhar os itens","AlignItems":{"Stretch":"Alongar","Start":"Iniciar","Center":"Centralizar","End":"Fim"},"Grid":{"PageCaption":"Configura\xE7\xF5es do container de grades","ColumnsLabel":"N\xFAmero de colunas","ColumnGapFieldLabel":"Espa\xE7amento entre colunas","RowGapFieldLabel":"Espa\xE7amento entre linhas"},"Flex":{"PageCaption":"Configura\xE7\xF5es do container flex\xEDvel","Direction":"Dire\xE7\xE3o","Row":"Linha","Column":"Coluna","Gap":"Lacuna","WrapLabel":"Encapsular os elementos","JustifyContentLabel":"Justificar o conte\xFAdo","JustifyContent":{"Start":"Iniciar","Center":"Centralizar","End":"Fim","SpaceBetween":"Espa\xE7os entre"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Quais os dados a imprimir?","PrintablesSettingsCaption":"Configura\xE7\xF5es de impress\xE3o","PrintOnRecord":"Imprimir o relat\xF3rio para o registro atual","PrintOnList":"Imprimir o relat\xF3rio para a lista de registros"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"O elemento utiliza-se de macros. Se for preciso implementar uma l\xF3gica alternativa, remover o valor do elemento.","ClearAttributeBinding":"Esvaziar o valor"}}}'),_a=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Aplicar filtro por dados de p\xE1gina","Tooltip":"Filtrar por dados de p\xE1gina permite exibir registros conectados ou dados detalhados numa lista adicional."},"DataSourceDependency":{"PageData":"DataSource","MatchDataSourceAttributes":"Corresponder aos atributos da fonte de dados","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Aplicar filtro pr\xE9-configurado","Tooltip":"A configura\xE7\xE3o permite usar filtros pr\xE9-configurados de pastas ou outros elementos de filtragem de dados como filtros de p\xE1gina."},"DataSourceFilterElement":{"Caption":"Elemento de filtro"},"QuickFilterTargetsGroup":{"Label":"Adicionar componentes","Tooltip":"Por favor, adicione componentes"},"QuickFilterTarget":{"DefaultValueCaption":"Valor por Defeito","FilterColumnLabel":"Coluna de filtro","ViewAttributeLabel":"Selecionar componente para filtrar"},"CustomQuickFilterTarget":{"EditFilterCaption":"Editar filtro","SetupFilterCaption":"Configurar fitro","FiltersDialogCaption":"Filtro definido manualmente","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Checked","UncheckedCaption":"Desmarcado"},"FilteringApproachState":{"Label":"Abordagem de filtro","OnCheckedCaption":"Aplicar condi\xE7\xE3o de filtro quando a caixa de sele\xE7\xE3o estiver marcada","OnUncheckedCaption":"Aplicar condi\xE7\xE3o de filtro quando a caixa de sele\xE7\xE3o estiver desmarcada"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Per\xEDodo Pr\xE9-definido","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Current user contact","CurrentUserAccountName":"Current user account","EditFilterCaption":"Editar filtro","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),va=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Aplic\u0103 filtrul dup\u0103 pagina de date","Tooltip":"Filtrare dup\u0103 pagina de date v\u0103 permite s\u0103 afi\u0219a\u021Bi \xEEnregistr\u0103rile conectate sau datele de detaliu \xEEntr-o list\u0103 suplimentar\u0103."},"DataSourceDependency":{"PageData":"Sursa de date","MatchDataSourceAttributes":"Potrive\u0219te atributele surselor de date","FilterByActiveItemLabel":"Filtreaz\u0103 dup\u0103 r\xE2ndul activ","FilterByActiveItemTooltip":"Selecta\u021Bi pentru a permite utilizatorilor s\u0103 filtreze lista datelor dup\u0103 r\xE2ndul activ al sursei de date conectate"},"DataSourceFilterElementsGroup":{"Title":"Aplic\u0103 filtru preconfigurat","Tooltip":"Setarea permite utilizarea filtrelor preconfigurate din dosare sau alte elemente de filtrare a datelor ca filtre de pagin\u0103."},"DataSourceFilterElement":{"Caption":"Filtreaz\u0103 elementul"},"QuickFilterTargetsGroup":{"Label":"Ad\u0103uga\u021Bi componente","Tooltip":"V\u0103 rug\u0103m, ad\u0103uga\u021Bi componente"},"QuickFilterTarget":{"DefaultValueCaption":"Valoare implicita","FilterColumnLabel":"Coloana de filtru","ViewAttributeLabel":"Component\u0103 de filtrat"},"CustomQuickFilterTarget":{"EditFilterCaption":"Editare filtru","SetupFilterCaption":"Setare filtru","FiltersDialogCaption":"Filtru definit manual","DefaultCheckBoxState":{"Label":"Starea implicit\u0103 a casetei de selectare","CheckedCaption":"Verificat la","UncheckedCaption":"Neverificat"},"FilteringApproachState":{"Label":"Abordarea filtr\u0103rii","OnCheckedCaption":"Aplic\u0103 condi\u021Bia filtrului atunci c\xE2nd caseta este bifat\u0103","OnUncheckedCaption":"Aplic\u0103 condi\u021Bia filtrului atunci c\xE2nd caseta de selectare nu este bifat\u0103"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Perioad\u0103 implicit\u0103","ChooseFilteringMethodCaption":"Alege\u021Bi o metod\u0103 de filtrare","ChooseFilteringMethodTooltip":"Filtrul poate afi\u0219a date relevante pentru perioada specificat\u0103.\\nUtiliza\u021Bi condi\u021Bia \\"Configura\u021Bi filtrul cu o dat\u0103\\" pentru a afi\u0219a \xEEnregistr\u0103rile create sau modificate \xEEn ziua specificat\u0103. De exemplu, pute\u0163i configura acest filtru pentru a afi\u015Fa lead-uri dup\u0103 data cre\u0103rii, oportunit\u0103\u0163i dup\u0103 data \xEEnchiderii, sau cazuri dup\u0103 data solu\u0163iei.\\n\\nUtiliza\u021Bi condi\u021Bia \\"Configura\u021Bi filtrul dup\u0103 intervalul de date\\" pentru a afi\u0219a \xEEnregistr\u0103rile pentru care un interval de date este deosebit de relevant. De exemplu, pute\u021Bi stabili acest filtru pentru contractele ale c\u0103ror date de \xEEnceput \u0219i de \xEEncheiere sunt \xEEn intervalul de date specificat.","SetUpByOneColumnTitle":"Configura\u021Bi filtrarea dup\u0103 o dat\u0103","SetUpByTwoColumnsTitle":"Configura\u021Bi filtrarea dup\u0103 intervalul de date","FilterColumnStartCaption":"Filtreaz\u0103 coloana de la","FilterColumnEndCaption":"Filtreaz\u0103 coloana c\u0103tre"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Contact de utilizator curent","CurrentUserAccountName":"Cont utilizator curent","EditFilterCaption":"Editare filtru","SetupFilterCaption":"Setare filtru","FiltersDialogCaption":"Filtru definit manual","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Adaug\u0103 un obiect nou","CreatePageLabel":"V\u0103 rug\u0103m s\u0103 crea\u021Bi o pagin\u0103, deoarece nu exist\u0103 nimic pentru a executa aceast\u0103 ac\u021Biune.","CreatePageLink":"Creaz\u0103 pagin\u0103","EditPageLabel":"{0} are 1 pagin\u0103 formular.","EditPagesLabel":"{0} are mai multe pagini.","EditPageLink":"Editeaz\u0103 pagina","OpenPagesSetup":"Vizualizare pagini configurate","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Salva\u021Bi obiectul \xEEnainte de a crea o pagin\u0103. Continua\u021Bi?"},"RelatedPagesCaptionWithEntityName":"Set\u0103ri {0} pagini"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Fereastra de selec\u0163ie","List":"List\u0103 dropdown","Label":"Vizualizare lookup"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Aspect","BindToDataSourceCaption":"Sursa de date","DataSourceAttributeNotFoundErrorMessage":"Elementul cu calea \\"{0}\\" nu a fost g\u0103sit","Editability":"Editabilitate","EditabilityControls":{"Readonly":"Se poate doar citi","Disabled":"Dezactivat"},"TitleOnPage":"Titlu pe pagin\u0103","Multiline":"Text multiline","LabelPosition":"Pozi\u021Bie titlu","LabelPositionVariants":{"Auto":"Automat","Left":"St\xE2nga","Right":"Dreapta","Above":"Deasupra","Hidden":"Ascuns"},"Placeholder":"Substituent","Combobox":{"IsAddAllowed":"Activeaz\u0103 ad\u0103ugarea de valori noi","ShowValueAsLink":"Arat\u0103 valoarea ca link","IsGoToSourceAllowed":"Activeaz\u0103 deschiderea listei de \xEEnregistr\u0103ri"},"ColorPicker":{"PageCaption":"Selector culoare","AppearanceGroup":"Aspect","PickerModeRadioButtonCaption":"Palet\u0103","PickerMode":{"Basic":"Palet\u0103 simpl\u0103","Extended":"Palet\u0103 extins\u0103"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Afi\u0219eaz\u0103 masca telefonului"},"WidgetPropertiesPanel":{"HeaderLabel":"Set\u0103ri diagram\u0103","GeneralLabel":"General","TitleLabel":"Titlu","ColorLabel":"Culoare","StyleLabel":"Stil","Styles":{"FullyColored":"Colorat total","PlainWhite":"Alb simplu","PartiallyColored":"Colorat par\u021Bial","Glassmorphism":"Efect de sticl\u0103"},"ContextMenu":{"Edit":"Editare"},"ChartSeries":"Serie diagram\u0103","SeriesControlLabel":"Titlu","SetupBlockCaption":"Configurare diagrama","SetupButtonLabel":"Set\u0103ri diagram\u0103","FilterByActiveItemTooltip":"Selecta\u021Bi pentru a permite utilizatorilor s\u0103 filtreze datele graficului dup\u0103 r\xE2ndul activ al sursei de date legate"},"SliderPropertiesPage":{"ColorLabel":"Stil","Colors":{"Accent":"Focalizare","Primary":"Primar","Warn":"Avertizare","Default":"Implicit"},"ReadonlyLabel":"Se poate doar citi","StepLabel":"Valoare pas","MinValueLabel":"Valoare minim\u0103","MaxValueLabel":"Valoare maxim\u0103","Validations":{"GreaterThanZeroCaption":"Valoarea trebuie s\u0103 fie mai mare dec\xE2t 0","MinValueLessThanMaxValueCaption":"Valoarea minim\u0103 trebuie s\u0103 fie mai mic\u0103 dec\xE2t valoarea maxim\u0103","MaxValueGreaterMinValueCaption":"Valoarea maxim\u0103 trebuie s\u0103 fie mai mare dec\xE2t valoarea minim\u0103","StyleIsInvalidCaption":"Stilul este incorect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Aspect","ColorLabel":"Culoare","BorderRadiusLabel":"Raza border-ului","Sizes":{"None":"Niciunul","Small":"Mic\u0103","Medium":"Mediu","Large":"Mare"},"PaddingGroup":"Spa\u021Biere","Padding":{"Top":"Sus","Bottom":"Jos","Left":"St\xE2nga","Right":"Dreapta"},"StretchLabel":"\xCEntinde la containerul p\u0103rinte","FitContentLabel":"Potrivire con\u021Binut","AlignItemsLabel":"Aliniaz\u0103 elementele","AlignItems":{"Stretch":"\xCEntinde","Start":"Start","Center":"Centru","End":"Sf\xE2r\u0219it"},"Grid":{"PageCaption":"Set\u0103ri container Grid","ColumnsLabel":"Num\u0103r de coloane","ColumnGapFieldLabel":"Spa\u021Bierea coloanelor","RowGapFieldLabel":"Spa\u021Bierea r\xE2ndurilor"},"Flex":{"PageCaption":"Set\u0103ri container Flex","Direction":"Direc\u0163ie","Row":"R\xE2nd","Column":"Coloan\u0103","Gap":"Spatiu","WrapLabel":"\xCEncadrare elemente","JustifyContentLabel":"Aliniaz\u0103 con\u0163inutul","JustifyContent":{"Start":"Start","Center":"Centrare","End":"Sf\xE2r\u0219it","SpaceBetween":"Spa\u021Biu \xEEntre"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Ce date trebuie tip\u0103rite?","PrintablesSettingsCaption":"Set\u0103ri de imprimare","PrintOnRecord":"Printeaz\u0103 raportul pentru \xEEnregistrarea curent\u0103","PrintOnList":"Printeaz\u0103 raportul pentru lista de \xEEnregistr\u0103ri"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"Elementul folose\u0219te macrouri. Dac\u0103 trebuie s\u0103 implementa\u021Bi o logic\u0103 alternativ\u0103, atunci elimina\u021Bi valoarea elementului.","ClearAttributeBinding":"\u0218terge valoarea"}}}'),Ta=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"\u041D\u0430\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440 \u043F\u043E \u0434\u0430\u043D\u043D\u044B\u043C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B","Tooltip":"\u0424\u0438\u043B\u044C\u0442\u0440 \u043D\u0430 \u043E\u0441\u043D\u043E\u0432\u0430\u043D\u0438\u0438 \u0434\u0430\u043D\u043D\u044B\u0445 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B \u043F\u043E\u0437\u0432\u043E\u043B\u044F\u0435\u0442 \u043E\u0442\u043E\u0431\u0440\u0430\u0437\u0438\u0442\u044C \u0432 \u0434\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u043C \u0440\u0435\u0435\u0441\u0442\u0440\u0435 \u0437\u0430\u043F\u0438\u0441\u0438, \u0441\u0432\u044F\u0437\u0430\u043D\u043D\u044B\u0435 \u0441 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0439, \u0438\u043B\u0438 \u0434\u0430\u043D\u043D\u044B\u0435 \u0434\u0435\u0442\u0430\u043B\u0438."},"DataSourceDependency":{"PageData":"\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u0434\u0430\u043D\u043D\u044B\u0445","MatchDataSourceAttributes":"\u0410\u0442\u0440\u0438\u0431\u0443\u0442 \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445","FilterByActiveItemLabel":"\u0424\u0438\u043B\u044C\u0442\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0439 \u0441\u0442\u0440\u043E\u043A\u0435","FilterByActiveItemTooltip":"\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u043F\u0440\u0438\u0437\u043D\u0430\u043A, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438 \u043C\u043E\u0433\u043B\u0438 \u0444\u0438\u043B\u044C\u0442\u0440\u043E\u0432\u0430\u0442\u044C \u0434\u0430\u043D\u043D\u044B\u0435 \u044D\u0442\u043E\u0433\u043E \u0441\u043F\u0438\u0441\u043A\u0430 \u043F\u043E \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0439 \u0441\u0442\u0440\u043E\u043A\u0435 \u0441\u0432\u044F\u0437\u0430\u043D\u043D\u043E\u0433\u043E \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445"},"DataSourceFilterElementsGroup":{"Title":"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u0440\u0435\u0434\u043D\u0430\u0441\u0442\u0440\u043E\u0435\u043D\u043D\u044B\u0439 \u0444\u0438\u043B\u044C\u0442\u0440","Tooltip":"\u0414\u0430\u043D\u043D\u0430\u044F \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0430 \u043F\u043E\u0437\u0432\u043E\u043B\u044F\u0435\u0442 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435 \u043F\u0440\u0435\u0434\u043D\u0430\u0441\u0442\u0440\u043E\u0435\u043D\u043D\u044B\u0435 \u0443\u0441\u043B\u043E\u0432\u0438\u044F \u0438\u0437 \u0433\u0440\u0443\u043F\u043F \u0438\u043B\u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u043E\u0432 \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u0446\u0438\u0438 \u0434\u0430\u043D\u043D\u044B\u0445."},"DataSourceFilterElement":{"Caption":"\u041A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442 \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u0446\u0438\u0438"},"QuickFilterTargetsGroup":{"Label":"\u0414\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442","Tooltip":"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0434\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442"},"QuickFilterTarget":{"DefaultValueCaption":"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E","FilterColumnLabel":"\u0424\u0438\u043B\u044C\u0442\u0440\u0443\u044E\u0449\u0430\u044F \u043A\u043E\u043B\u043E\u043D\u043A\u0430","ViewAttributeLabel":"\u041A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442 \u0434\u043B\u044F \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u0446\u0438\u0438"},"CustomQuickFilterTarget":{"EditFilterCaption":"\u041E\u0442\u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440","SetupFilterCaption":"\u041D\u0430\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440","FiltersDialogCaption":"\u0424\u0438\u043B\u044C\u0442\u0440\u044B","DefaultCheckBoxState":{"Label":"\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435 \u043F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0430\u0442\u0435\u043B\u044F \u043F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E","CheckedCaption":"\u0412\u043A\u043B\u044E\u0447\u0435\u043D","UncheckedCaption":"\u0412\u044B\u043A\u043B\u044E\u0447\u0435\u043D"},"FilteringApproachState":{"Label":"\u041F\u043E\u0434\u0445\u043E\u0434 \u043A \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u0446\u0438\u0438","OnCheckedCaption":"\u041F\u0440\u0438\u043C\u0435\u043D\u044F\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440 \u043A\u043E\u0433\u0434\u0430 \u043F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0430\u0442\u0435\u043B\u044C \u0432\u043A\u043B\u044E\u0447\u0435\u043D","OnUncheckedCaption":"\u041F\u0440\u0438\u043C\u0435\u043D\u044F\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440 \u043A\u043E\u0433\u0434\u0430 \u043F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0430\u0442\u0435\u043B\u044C \u0432\u044B\u043A\u043B\u044E\u0447\u0435\u043D"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"\u041F\u0435\u0440\u0438\u043E\u0434 \u043F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E","ChooseFilteringMethodCaption":"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043C\u0435\u0442\u043E\u0434 \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u0446\u0438\u0438","ChooseFilteringMethodTooltip":"\u0424\u0438\u043B\u044C\u0442\u0440 \u043F\u043E\u0437\u0432\u043E\u043B\u044F\u0435\u0442 \u043E\u0442\u043E\u0431\u0440\u0430\u0437\u0438\u0442\u044C \u0434\u0430\u043D\u043D\u044B\u0435, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0438\u043C\u0435\u044E\u0442 \u043E\u0442\u043D\u043E\u0448\u0435\u043D\u0438\u0435 \u043A \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u043E\u043C\u0443 \u043F\u0435\u0440\u0438\u043E\u0434\u0443. \\r\\n\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0443\u0441\u043B\u043E\u0432\u0438\u0435 \\"\u041D\u0430\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440 \u043F\u043E \u043E\u0434\u043D\u043E\u0439 \u0434\u0430\u0442\u0435\\", \u0447\u0442\u043E\u0431\u044B \u043E\u0442\u043E\u0431\u0440\u0430\u0437\u0438\u0442\u044C \u0437\u0430\u043F\u0438\u0441\u0438, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0431\u044B\u043B\u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u044B \u0438\u043B\u0438 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u044B \u0432 \u0437\u0430\u0434\u0430\u043D\u043D\u044B\u0439 \u0434\u0435\u043D\u044C. \u0422\u0430\u043A\u043E\u0439 \u0444\u0438\u043B\u044C\u0442\u0440 \u043C\u043E\u0436\u043D\u043E \u043D\u0430\u0441\u0442\u0440\u043E\u0438\u0442\u044C, \u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, \u0434\u043B\u044F \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043B\u0438\u0434\u043E\u0432 \u043F\u043E \u0434\u0430\u0442\u0435 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F, \u043F\u0440\u043E\u0434\u0430\u0436 \u043F\u043E \u0434\u0430\u0442\u0435 \u0437\u0430\u043A\u0440\u044B\u0442\u044F \u0438\u043B\u0438 \u043E\u0431\u0440\u0430\u0449\u0435\u043D\u0438\u0439 \u043F\u043E \u0434\u0430\u0442\u0435 \u0440\u0435\u0448\u0435\u043D\u0438\u044F.\\r\\n\\r\\n\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0443\u0441\u043B\u043E\u0432\u0438\u0435 \\"\u041D\u0430\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440 \u043F\u043E \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D\u0443 \u0434\u0430\u0442\\", \u0447\u0442\u043E\u0431\u044B \u043E\u0442\u043E\u0431\u0440\u0430\u0437\u0438\u0442\u044C \u0437\u0430\u043F\u0438\u0441\u0438, \u0434\u043B\u044F \u043A\u043E\u0442\u043E\u0440\u044B\u0445 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u043C \u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D \u0434\u0430\u0442. \u0422\u0430\u043A\u043E\u0439 \u0444\u0438\u043B\u044C\u0442\u0440 \u043C\u043E\u0436\u043D\u043E \u043D\u0430\u0441\u0442\u0440\u043E\u0438\u0442\u044C, \u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, \u0434\u043B\u044F \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u043E\u0432, \u0443 \u043A\u043E\u0442\u043E\u0440\u044B\u0445 \u0434\u0430\u0442\u0430 \u043D\u0430\u0447\u0430\u043B\u0430 \u0438 \u0434\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F \u043F\u043E\u043F\u0430\u0434\u0430\u044E\u0442 \u0432 \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u044B\u0439 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D \u0434\u0430\u0442.","SetUpByOneColumnTitle":"\u041D\u0430\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440 \u043F\u043E \u043E\u0434\u043D\u043E\u0439 \u0434\u0430\u0442\u0435","SetUpByTwoColumnsTitle":"\u041D\u0430\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440 \u043F\u043E \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D\u0443 \u0434\u0430\u0442","FilterColumnStartCaption":"\u041A\u043E\u043B\u043E\u043D\u043A\u0430 \u043D\u0430\u0447\u0430\u043B\u0430 \u043F\u0435\u0440\u0438\u043E\u0434\u0430","FilterColumnEndCaption":"\u041A\u043E\u043B\u043E\u043D\u043A\u0430 \u043A\u043E\u043D\u0446\u0430 \u043F\u0435\u0440\u0438\u043E\u0434\u0430"},"LookupQuickFilterTarget":{"CurrentUserContactName":"\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u043A\u043E\u043D\u0442\u0430\u043A\u0442 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F","CurrentUserAccountName":"\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u043A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F","EditFilterCaption":"\u041E\u0442\u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440","SetupFilterCaption":"\u041D\u0430\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440","FiltersDialogCaption":"\u0424\u0438\u043B\u044C\u0442\u0440\u044B","TagVirtualColumnCaption":"\u0422\u0435\u0433"},"EntitySchemaSelectComponent":{"AddNewEntity":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u043E\u0431\u044A\u0435\u043A\u0442","CreatePageLabel":"\u0423 {0} \u0435\u0449\u0435 \u043D\u0435\u0442 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B \u0437\u0430\u043F\u0438\u0441\u0438.","CreatePageLink":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443","EditPageLabel":"\u0423 {0} \u0435\u0441\u0442\u044C 1 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u0437\u0430\u043F\u0438\u0441\u0438.","EditPagesLabel":"\u0423 {0} \u0435\u0441\u0442\u044C \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0441\u0442\u0440\u0430\u043D\u0438\u0446.","EditPageLink":"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443","OpenPagesSetup":"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u0442\u0440\u0430\u043D\u0438\u0446","SaveConfirmationDialog":{"Message":"\u0427\u0442\u043E\u0431\u044B \u0441\u043E\u0437\u0434\u0430\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443, \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u043E\u0431\u044A\u0435\u043A\u0442. \u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C?"},"RelatedPagesCaptionWithEntityName":"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u0442\u0440\u0430\u043D\u0438\u0446 \u0434\u043B\u044F {0}"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"\u0412\u0441\u043F\u043B\u044B\u0432\u0430\u044E\u0449\u0435\u0435 \u043E\u043A\u043D\u043E","List":"\u0412\u044B\u043F\u0430\u0434\u0430\u044E\u0449\u0438\u0439 \u0441\u043F\u0438\u0441\u043E\u043A","Label":"\u0412\u0438\u0434 \u0441\u043F\u0440\u0430\u0432\u043E\u0447\u043D\u0438\u043A\u0430"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"\u0412\u0438\u0434 \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435","BindToDataSourceCaption":"\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u0434\u0430\u043D\u043D\u044B\u0445","DataSourceAttributeNotFoundErrorMessage":"\u042D\u043B\u0435\u043C\u0435\u043D\u0442 \u043F\u043E \u043F\u0443\u0442\u0438 \\"{0}\\" \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D","Editability":"\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u043E\u0441\u0442\u044C \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F","EditabilityControls":{"Readonly":"\u0422\u043E\u043B\u044C\u043A\u043E \u0447\u0442\u0435\u043D\u0438\u0435","Disabled":"\u041D\u0435 \u0430\u043A\u0442\u0438\u0432\u043D\u044B\u0439"},"TitleOnPage":"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435","Multiline":"\u041C\u043D\u043E\u0433\u043E\u0441\u0442\u0440\u043E\u0447\u043D\u044B\u0439 \u0442\u0435\u043A\u0441\u0442","LabelPosition":"\u041F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0430","LabelPositionVariants":{"Auto":"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438","Left":"\u0421\u043B\u0435\u0432\u0430","Right":"\u0421\u043F\u0440\u0430\u0432\u0430","Above":"\u0421\u0432\u0435\u0440\u0445\u0443","Hidden":"\u0421\u043A\u0440\u044B\u0442"},"Placeholder":"\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0435\u043C\u044B\u0439 \u0442\u0435\u043A\u0441\u0442 \u0432 \u043F\u043E\u043B\u0435","Combobox":{"IsAddAllowed":"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043D\u043E\u0432\u044B\u0445 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0439","ShowValueAsLink":"\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u044C \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043A\u0430\u043A \u0441\u0441\u044B\u043B\u043A\u0443","IsGoToSourceAllowed":"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u043F\u0435\u0440\u0435\u0445\u043E\u0434 \u043A \u0441\u043F\u0438\u0441\u043A\u0443 \u0437\u0430\u043F\u0438\u0441\u0435\u0439"},"ColorPicker":{"PageCaption":"\u041F\u0430\u043B\u0438\u0442\u0440\u0430 \u0446\u0432\u0435\u0442\u043E\u0432","AppearanceGroup":"\u0412\u0438\u0434 \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435","PickerModeRadioButtonCaption":"\u041F\u0430\u043B\u0438\u0442\u0440\u0430","PickerMode":{"Basic":"\u041F\u0440\u043E\u0441\u0442\u0430\u044F \u043F\u0430\u043B\u0438\u0442\u0440\u0430","Extended":"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u0430\u044F \u043F\u0430\u043B\u0438\u0442\u0440\u0430"}},"Tooltip":"\u041F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0430","DisplayPhoneMask":"\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u044C \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u043D\u0443\u044E \u043C\u0430\u0441\u043A\u0443"},"WidgetPropertiesPanel":{"HeaderLabel":"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0433\u0440\u0430\u0444\u0438\u043A\u0430","GeneralLabel":"\u041E\u0431\u0449\u0438\u0435","TitleLabel":"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A","ColorLabel":"\u0426\u0432\u0435\u0442","StyleLabel":"\u0421\u0442\u0438\u043B\u044C","Styles":{"FullyColored":"\u041F\u043E\u043B\u043D\u043E\u0446\u0432\u0435\u0442\u043D\u044B\u0439","PlainWhite":"\u041F\u0440\u043E\u0441\u0442\u043E\u0439 \u0431\u0435\u043B\u044B\u0439","PartiallyColored":"\u0427\u0430\u0441\u0442\u0438\u0447\u043D\u043E \u043E\u043A\u0440\u0430\u0448\u0435\u043D\u043D\u044B\u0439","Glassmorphism":"\u042D\u0444\u0444\u0435\u043A\u0442 \u0441\u0442\u0435\u043A\u043B\u0430"},"ContextMenu":{"Edit":"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C"},"ChartSeries":"\u0421\u0435\u0440\u0438\u0438 \u0433\u0440\u0430\u0444\u0438\u043A\u0430","SeriesControlLabel":"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A","SetupBlockCaption":"\u041D\u0430\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u0433\u0440\u0430\u0444\u0438\u043A","SetupButtonLabel":"\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B \u0433\u0440\u0430\u0444\u0438\u043A\u0430","FilterByActiveItemTooltip":"\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u043F\u0440\u0438\u0437\u043D\u0430\u043A, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438 \u043C\u043E\u0433\u043B\u0438 \u0444\u0438\u043B\u044C\u0442\u0440\u043E\u0432\u0430\u0442\u044C \u0434\u0430\u043D\u043D\u044B\u0435 \u044D\u0442\u043E\u0433\u043E \u0433\u0440\u0430\u0444\u0438\u043A\u0430 \u043F\u043E \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0439 \u0441\u0442\u0440\u043E\u043A\u0435 \u0441\u0432\u044F\u0437\u0430\u043D\u043D\u043E\u0433\u043E \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445"},"SliderPropertiesPage":{"ColorLabel":"\u0421\u0442\u0438\u043B\u044C","Colors":{"Accent":"\u0410\u043A\u0446\u0435\u043D\u0442","Primary":"\u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439","Warn":"\u041F\u0440\u0435\u0434\u0443\u043F\u0440\u0435\u0436\u0434\u0435\u043D\u0438\u0435","Default":"\u041F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E"},"ReadonlyLabel":"\u0422\u043E\u043B\u044C\u043A\u043E \u0447\u0442\u0435\u043D\u0438\u0435","StepLabel":"\u0420\u0430\u0437\u043C\u0435\u0440 \u0448\u0430\u0433\u0430","MinValueLabel":"\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435","MaxValueLabel":"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435","Validations":{"GreaterThanZeroCaption":"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0431\u043E\u043B\u044C\u0448\u0435 0","MinValueLessThanMaxValueCaption":"\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043D\u0435 \u0434\u043E\u043B\u0436\u043D\u043E \u043F\u0440\u0435\u0432\u044B\u0448\u0430\u0442\u044C \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435","MaxValueGreaterMinValueCaption":"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043D\u0435 \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043C\u0435\u043D\u044C\u0448\u0435 \u043C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0433\u043E","StyleIsInvalidCaption":"\u0421\u0442\u0438\u043B\u044C \u0443\u043A\u0430\u0437\u0430\u043D \u043D\u0435\u0432\u0435\u0440\u043D\u043E"}},"ContainerPropertiesPage":{"GeneralGroup":"\u041E\u0431\u0449\u0438\u0435","AppearanceGroup":"\u0412\u0438\u0434 \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435","ColorLabel":"\u0426\u0432\u0435\u0442","BorderRadiusLabel":"\u0420\u0430\u0434\u0438\u0443\u0441 \u0441\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u044F \u0443\u0433\u043B\u043E\u0432","Sizes":{"None":"\u041D\u0435\u0442","Small":"\u041C\u0430\u043B\u0435\u043D\u044C\u043A\u0438\u0439","Medium":"\u0421\u0440\u0435\u0434\u043D\u0438\u0439","Large":"\u0411\u043E\u043B\u044C\u0448\u043E\u0439"},"PaddingGroup":"\u041E\u0442\u0441\u0442\u0443\u043F\u044B","Padding":{"Top":"\u0412\u0435\u0440\u0445\u043D\u0438\u0439","Bottom":"\u041D\u0438\u0436\u043D\u0438\u0439","Left":"\u041B\u0435\u0432\u044B\u0439","Right":"\u041F\u0440\u0430\u0432\u044B\u0439"},"StretchLabel":"\u0420\u0430\u0441\u0442\u044F\u043D\u0443\u0442\u044C \u043F\u043E \u0440\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u0441\u043A\u043E\u043C\u0443 \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u0443","FitContentLabel":"\u0420\u0430\u0437\u043C\u0435\u0440 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043A\u043E\u043D\u0442\u0435\u043D\u0442\u0443","AlignItemsLabel":"\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432","AlignItems":{"Stretch":"\u0420\u0430\u0441\u0442\u044F\u0433\u0438\u0432\u0430\u0442\u044C","Start":"\u0412 \u043D\u0430\u0447\u0430\u043B\u0435","Center":"\u041F\u043E \u0446\u0435\u043D\u0442\u0440\u0443","End":"\u0412 \u043A\u043E\u043D\u0446\u0435"},"Grid":{"PageCaption":"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u0435\u0442\u043A\u0438","ColumnsLabel":"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043A\u043E\u043B\u043E\u043D\u043E\u043A","ColumnGapFieldLabel":"\u041E\u0442\u0441\u0442\u0443\u043F \u043C\u0435\u0436\u0434\u0443 \u043A\u043E\u043B\u043E\u043D\u043A\u0430\u043C\u0438","RowGapFieldLabel":"\u041E\u0442\u0441\u0442\u0443\u043F \u043C\u0435\u0436\u0434\u0443 \u0441\u0442\u0440\u043E\u043A\u0430\u043C\u0438"},"Flex":{"PageCaption":"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0433\u0438\u0431\u043A\u043E\u0433\u043E \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u0430","Direction":"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435","Row":"\u0421\u0442\u0440\u043E\u043A\u0430","Column":"\u041A\u043E\u043B\u043E\u043D\u043A\u0430","Gap":"\u041E\u0442\u0441\u0442\u0443\u043F \u043C\u0435\u0436\u0434\u0443 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u043C\u0438","WrapLabel":"\u041F\u0435\u0440\u0435\u043D\u043E\u0441\u0438\u0442\u044C \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B \u043F\u043E \u0441\u0442\u0440\u043E\u043A\u0430\u043C","JustifyContentLabel":"\u0420\u0430\u0441\u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432","JustifyContent":{"Start":"\u0412 \u043D\u0430\u0447\u0430\u043B\u0435","Center":"\u041F\u043E \u0446\u0435\u043D\u0442\u0440\u0443","End":"\u0412 \u043A\u043E\u043D\u0446\u0435","SpaceBetween":"\u0420\u0430\u0432\u043D\u043E\u043C\u0435\u0440\u043D\u043E"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"\u041A\u0430\u043A\u0438\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u043F\u0435\u0447\u0430\u0442\u0430\u0442\u044C?","PrintablesSettingsCaption":"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0430 \u043F\u0435\u0447\u0430\u0442\u0438","PrintOnRecord":"\u041F\u0435\u0447\u0430\u0442\u044C \u043E\u0442\u0447\u0435\u0442\u0430 \u043F\u043E \u0442\u0435\u043A\u0443\u0449\u0435\u0439 \u0437\u0430\u043F\u0438\u0441\u0438","PrintOnList":"\u041F\u0435\u0447\u0430\u0442\u044C \u043E\u0442\u0447\u0435\u0442\u0430 \u043F\u043E \u0441\u043F\u0438\u0441\u043A\u0443 \u0437\u0430\u043F\u0438\u0441\u0435\u0439"}}}'),wa=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Datak\xE4lla","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"Standardv\xE4rde","FilterColumnLabel":"Filterkolumn","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Kontrollerad","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Aktuell anv\xE4ndarkontakt","CurrentUserAccountName":"Aktuellt anv\xE4ndarkonto","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),Da=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"\u0E41\u0E2B\u0E25\u0E48\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"\u0E04\u0E48\u0E32\u0E40\u0E23\u0E34\u0E48\u0E21\u0E15\u0E49\u0E19","FilterColumnLabel":"\u0E04\u0E2D\u0E25\u0E31\u0E21\u0E19\u0E4C\u0E15\u0E31\u0E27\u0E01\u0E23\u0E2D\u0E07","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"\u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A\u0E40\u0E21\u0E37\u0E48\u0E2D","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"\u0E17\u0E35\u0E48\u0E15\u0E34\u0E14\u0E15\u0E48\u0E2D\u0E02\u0E2D\u0E07\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19","CurrentUserAccountName":"\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E02\u0E2D\u0E07\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),xa=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Veri kayna\u011F\u0131","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"Varsay\u0131lan de\u011Ferler","FilterColumnLabel":"Filter column","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"Tarihinde do\u011Fruland\u0131","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Current user contact","CurrentUserAccountName":"Current user account","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Kaydet","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),Ma=JSON.parse(`{"QuickFilterTargetsGroup":{"Label":"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u0438","Tooltip":"\u0411\u0443\u0434\u044C-\u043B\u0430\u0441\u043A\u0430, \u0434\u043E\u0434\u0430\u0439\u0442\u0435 \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u0438"},"QuickFilterTarget":{"DefaultValueCaption":"\u0417\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0437\u0430 \u0437\u0430\u043C\u043E\u0432\u0447\u0443\u0432\u0430\u043D\u043D\u044F\u043C","FilterColumnLabel":"\u041A\u043E\u043B\u043E\u043D\u043A\u0430, \u0449\u043E \u043C\u0456\u0441\u0442\u0438\u0442\u044C \u0444\u0456\u043B\u044C\u0442\u0440","ViewAttributeLabel":"\u041A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442 \u0434\u043B\u044F \u0444\u0456\u043B\u044C\u0442\u0440\u0430\u0446\u0456\u0457"},"CustomQuickFilterTarget":{"EditFilterCaption":"\u0412\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0444\u0456\u043B\u044C\u0442\u0440","SetupFilterCaption":"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0444\u0456\u043B\u044C\u0442\u0440","FiltersDialogCaption":"\u0412\u0440\u0443\u0447\u043D\u0443 \u0437\u0430\u0434\u0430\u043D\u0438\u0439 \u0444\u0456\u043B\u044C\u0442\u0440","DefaultCheckBoxState":{"Label":"\u0421\u0442\u0430\u043D \u0447\u0435\u043A\u0431\u043E\u043A\u0441\u0443 \u0437\u0430 \u0437\u0430\u043C\u043E\u0432\u0447\u0430\u043D\u043D\u044F\u043C","CheckedCaption":"\u041F\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043D\u043E","UncheckedCaption":"\u041D\u0435 \u0432\u0456\u0434\u043C\u0456\u0447\u0435\u043D\u043E"},"FilteringApproachState":{"Label":"\u0424\u0456\u043B\u044C\u0442\u0440\u0443\u0432\u0430\u043B\u044C\u043D\u0438\u0439 \u043F\u0456\u0434\u0445\u0456\u0434","OnCheckedCaption":"\u0417\u0430\u0441\u0442\u043E\u0441\u0443\u0432\u0430\u0442\u0438 \u0443\u043C\u043E\u0432\u0443 \u0444\u0456\u043B\u044C\u0442\u0440\u0443\u0432\u0430\u043D\u043D\u044F, \u043A\u043E\u043B\u0438 \u0432\u0456\u0434\u043C\u0456\u0447\u0435\u043D\u043E \u0447\u0435\u043A\u0431\u043E\u043A\u0441","OnUncheckedCaption":"\u0417\u0430\u0441\u0442\u043E\u0441\u0443\u0432\u0430\u0442\u0438 \u0443\u043C\u043E\u0432\u0443 \u0444\u0456\u043B\u044C\u0442\u0440\u0443\u0432\u0430\u043D\u043D\u044F, \u043A\u043E\u043B\u0438 \u0437\u043D\u044F\u0442\u043E \u0447\u0435\u043A\u0431\u043E\u043A\u0441"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"\u041F\u0435\u0440\u0456\u043E\u0434 \u0437\u0430 \u0437\u0430\u043C\u043E\u0432\u0447\u0430\u043D\u043D\u044F\u043C","ChooseFilteringMethodCaption":"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u0441\u043F\u043E\u0441\u0456\u0431 \u0444\u0456\u043B\u044C\u0442\u0440\u0430\u0446\u0456\u0457","ChooseFilteringMethodTooltip":"\u0424\u0456\u043B\u044C\u0442\u0440 \u043C\u043E\u0436\u0435 \u0432\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u0438 \u0434\u0430\u043D\u0456, \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u043D\u0456 \u0437\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u043E\u043C\u0443 \u043F\u0435\u0440\u0456\u043E\u0434\u0443.\\n\\n\u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0443\u043C\u043E\u0432\u0443 \\"\u0412\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0438 \u0444\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u043E\u0434\u043D\u0456\u0454\u044E \u0434\u0430\u0442\u043E\u044E\\", \u0449\u043E\u0431 \u0432\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u0438 \u0437\u0430\u043F\u0438\u0441\u0438, \u044F\u043A\u0456 \u0431\u0443\u043B\u0438 \u0441\u0442\u0432\u043E\u0440\u0435\u043D\u0456 \u0430\u0431\u043E \u0437\u043C\u0456\u043D\u0435\u043D\u0456 \u0432\u043A\u0430\u0437\u0430\u043D\u0438\u0439 \u0434\u0435\u043D\u044C. \u041D\u0430\u043F\u0440\u0438\u043A\u043B\u0430\u0434, \u0432\u0438 \u043C\u043E\u0436\u0435\u0442\u0435 \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0446\u0435\u0439 \u0444\u0456\u043B\u044C\u0442\u0440 \u0434\u043B\u044F \u0432\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u043B\u0456\u0434\u0456\u0432 \u0437\u0430 \u0434\u0430\u0442\u043E\u044E \u0441\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F, \u043C\u043E\u0436\u043B\u0438\u0432\u043E\u0441\u0442\u0435\u0439 \u0437\u0430 \u0434\u0430\u0442\u043E\u044E \u0437\u0430\u043A\u0440\u0438\u0442\u0442\u044F \u0430\u0431\u043E \u0437\u0432\u0435\u0440\u043D\u0435\u043D\u044C \u0437\u0430 \u0434\u0430\u0442\u043E\u044E \u0432\u0438\u0440\u0456\u0448\u0435\u043D\u043D\u044F.\\n\\n\u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0443\u043C\u043E\u0432\u0443 \\"\u0412\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0438 \u0444\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D\u043E\u043C \u0434\u0430\u0442\\" \u0434\u043B\u044F \u0432\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u043F\u0438\u0441\u0456\u0432, \u0434\u043B\u044F \u044F\u043A\u0438\u0445 \u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D \u0434\u0430\u0442 \u043E\u0441\u043E\u0431\u043B\u0438\u0432\u043E \u0432\u0430\u0436\u043B\u0438\u0432\u0438\u0439. \u041D\u0430\u043F\u0440\u0438\u043A\u043B\u0430\u0434, \u0432\u0438 \u043C\u043E\u0436\u0435\u0442\u0435 \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0446\u0435\u0439 \u0444\u0456\u043B\u044C\u0442\u0440 \u0434\u043B\u044F \u0432\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u043A\u043E\u043D\u0442\u0440\u0430\u043A\u0442\u0456\u0432, \u0434\u0430\u0442\u0430 \u043F\u043E\u0447\u0430\u0442\u043A\u0443 \u0442\u0430 \u0437\u0430\u043A\u0456\u043D\u0447\u0435\u043D\u043D\u044F \u044F\u043A\u0438\u0445 \u043F\u043E\u0442\u0440\u0430\u043F\u043B\u044F\u0454 \u0432 \u0437\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0439 \u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D \u0434\u0430\u0442.","SetUpByOneColumnTitle":"\u0412\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0438 \u0444\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u043E\u0434\u043D\u0456\u0454\u044E \u0434\u0430\u0442\u043E\u044E","SetUpByTwoColumnsTitle":"\u0412\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0438 \u0444\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D\u043E\u043C \u0434\u0430\u0442","FilterColumnStartCaption":"\u0424\u0456\u043B\u044C\u0442\u0440 \u043A\u043E\u043B\u043E\u043D\u043A\u0438 \u0437","FilterColumnEndCaption":"\u0424\u0456\u043B\u044C\u0442\u0440 \u043A\u043E\u043B\u043E\u043D\u043A\u0438 \u0434\u043E"},"LookupQuickFilterTarget":{"CurrentUserContactName":"\u041A\u043E\u043D\u0442\u0430\u043A\u0442 \u043F\u043E\u0442\u043E\u0447\u043D\u043E\u0433\u043E \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430","CurrentUserAccountName":"\u041A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442 \u043F\u043E\u0442\u043E\u0447\u043D\u043E\u0433\u043E \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430","EditFilterCaption":"\u0412\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0444\u0456\u043B\u044C\u0442\u0440","SetupFilterCaption":"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0444\u0456\u043B\u044C\u0442\u0440","FiltersDialogCaption":"\u0412\u0440\u0443\u0447\u043D\u0443 \u0437\u0430\u0434\u0430\u043D\u0438\u0439 \u0444\u0456\u043B\u044C\u0442\u0440","TagVirtualColumnCaption":"\u0422\u0435\u0433"},"DataSourceDependenciesSetting":{"Title":"\u0417\u0430\u0441\u0442\u043E\u0441\u0443\u0432\u0430\u0442\u0438 \u0444\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u0434\u0430\u043D\u0438\u043C\u0438 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0438","Tooltip":"\u0424\u0456\u043B\u044C\u0442\u0440 \u043F\u043E \u0434\u0430\u043D\u0438\u0445 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0438 \u0434\u043E\u0437\u0432\u043E\u043B\u044F\u0454 \u0432\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u0438 \u043F\u0456\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u0456 \u0437\u0430\u043F\u0438\u0441\u0438 \u0430\u0431\u043E \u0434\u0430\u043D\u0456 \u0434\u0435\u0442\u0430\u043B\u0456 \u0432 \u0434\u043E\u0434\u0430\u0442\u043A\u043E\u0432\u043E\u043C\u0443 \u0440\u0435\u0454\u0441\u0442\u0440\u0456."},"DataSourceDependency":{"PageData":"\u0414\u0436\u0435\u0440\u0435\u043B\u043E \u0434\u0430\u043D\u0438\u0445","MatchDataSourceAttributes":"\u041F\u043E\u0440\u0456\u0432\u043D\u044F\u0442\u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0438 \u0434\u0436\u0435\u0440\u0435\u043B\u0430 \u0434\u0430\u043D\u0438\u0445","FilterByActiveItemLabel":"\u0424\u0456\u043B\u044C\u0442\u0440\u0443\u0432\u0430\u0442\u0438 \u0437\u0430 \u0430\u043A\u0442\u0438\u0432\u043D\u0438\u043C \u0440\u044F\u0434\u043A\u043E\u043C","FilterByActiveItemTooltip":"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C, \u0449\u043E\u0431 \u0434\u043E\u0437\u0432\u043E\u043B\u0438\u0442\u0438 \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430\u043C \u0444\u0456\u043B\u044C\u0442\u0440\u0443\u0432\u0430\u0442\u0438 \u0441\u043F\u0438\u0441\u043E\u043A \u0434\u0430\u043D\u0438\u0445 \u0437\u0430 \u0430\u043A\u0442\u0438\u0432\u043D\u0438\u043C \u0440\u044F\u0434\u043A\u043E\u043C \u0434\u0436\u0435\u0440\u0435\u043B\u0430 \u043F\u043E\u0432'\u044F\u0437\u0430\u043D\u0438\u0445 \u0434\u0430\u043D\u0438\u0445"},"DataSourceFilterElementsGroup":{"Title":"\u0417\u0430\u0441\u0442\u043E\u0441\u0443\u0432\u0430\u0442\u0438 \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044C\u043E \u043D\u0430\u043B\u0430\u0448\u0442\u043E\u0432\u0430\u043D\u0438\u0439 \u0444\u0456\u043B\u044C\u0442\u0440","Tooltip":"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u0434\u043E\u0437\u0432\u043E\u043B\u044F\u0454 \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0432\u0430\u0442\u0438 \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044C\u043E \u043D\u0430\u043B\u0430\u0448\u0442\u043E\u0432\u0430\u043D\u0456 \u0444\u0456\u043B\u044C\u0442\u0440\u0438 \u0437 \u043F\u0430\u043F\u043E\u043A \u0430\u0431\u043E \u0456\u043D\u0448\u0438\u0445 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432 \u0444\u0456\u043B\u044C\u0442\u0440\u0430\u0446\u0456\u0457 \u0434\u0430\u043D\u0438\u0445, \u044F\u043A \u0444\u0456\u043B\u044C\u0442\u0440\u0438 \u0441\u0442\u043E\u0440\u0456\u043D\u043E\u043A."},"DataSourceFilterElement":{"Caption":"\u0424\u0456\u043B\u044C\u0442\u0440\u0443\u0432\u0430\u0442\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442"},"EntitySchemaSelectComponent":{"AddNewEntity":"\u0414\u043E\u0434\u0430\u0442\u0438 \u043D\u043E\u0432\u0438\u0439 \u043E\u0431'\u0454\u043A\u0442","CreatePageLabel":"\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0441\u0442\u0432\u043E\u0440\u0456\u0442\u044C \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443, \u0442\u043E\u043C\u0443 \u0449\u043E \u043D\u0435\u043C\u0430\u0454 \u0442\u0430\u043A\u043E\u0457, \u0434\u043B\u044F \u044F\u043A\u043E\u0457 \u043C\u043E\u0436\u043D\u0430 \u0432\u0438\u043A\u043E\u043D\u0430\u0442\u0438 \u0446\u044E \u0434\u0456\u044E.","CreatePageLink":"\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443","EditPageLabel":"{0} \u043C\u0430\u0454 1 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443 \u0444\u043E\u0440\u043C\u0438.","EditPagesLabel":"{0} \u043C\u0430\u0454 \u043A\u0456\u043B\u044C\u043A\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043E\u043A.","EditPageLink":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443","OpenPagesSetup":"\u041F\u0435\u0440\u0435\u0433\u043B\u044F\u043D\u0443\u0442\u0438 \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D\u043E\u043A","SaveConfirmationDialog":{"Message":"\u0429\u043E\u0431 \u0441\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443 \u043D\u0435\u043E\u0431\u0445\u0456\u0434\u043D\u043E \u0437\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043C\u0456\u043D\u0438 \u0432 \u043E\u0431'\u0454\u043A\u0442\u0456. \u041F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438?"},"RelatedPagesCaptionWithEntityName":"{0} \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D\u043E\u043A"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"\u0412\u0456\u043A\u043D\u043E \u0432\u0438\u0431\u043E\u0440\u0443","List":"\u0412\u0438\u043F\u0430\u0434\u0430\u044E\u0447\u0438\u0439 \u0441\u043F\u0438\u0441\u043E\u043A","Label":"\u0412\u0438\u0434 \u0434\u043E\u0432\u0456\u0434\u043D\u0438\u043A\u0430"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"\u0417\u043E\u0432\u043D\u0456\u0448\u043D\u0456\u0439 \u0432\u0438\u0433\u043B\u044F\u0434","BindToDataSourceCaption":"\u0414\u0436\u0435\u0440\u0435\u043B\u043E \u0434\u0430\u043D\u0438\u0445","DataSourceAttributeNotFoundErrorMessage":"\u0415\u043B\u0435\u043C\u0435\u043D\u0442 \u0437 \u0448\u043B\u044F\u0445\u043E\u043C \\"{0}\\" \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E","Editability":"\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u0456\u0441\u0442\u044C \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F","EditabilityControls":{"Readonly":"\u0422\u0456\u043B\u044C\u043A\u0438 \u0434\u043B\u044F \u0447\u0438\u0442\u0430\u043D\u043D\u044F","Disabled":"\u0412\u0456\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u043E"},"TitleOnPage":"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A \u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u0446\u0456","Multiline":"\u0411\u0430\u0433\u0430\u0442\u043E\u0440\u044F\u0434\u043A\u043E\u0432\u0438\u0439 \u0442\u0435\u043A\u0441\u0442","LabelPosition":"\u041F\u043E\u043B\u043E\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0443","LabelPositionVariants":{"Auto":"\u0410\u0432\u0442\u043E","Left":"\u041B\u0456\u0432\u043E\u0440\u0443\u0447","Right":"\u041F\u0440\u0430\u0432\u043E\u0440\u0443\u0447","Above":"\u0417\u0432\u0435\u0440\u0445\u0443","Hidden":"\u041F\u0440\u0438\u0445\u043E\u0432\u0430\u043D\u043E"},"Placeholder":"\u0417\u0430\u043F\u043E\u0432\u043D\u044E\u0432\u0430\u0447","Combobox":{"IsAddAllowed":"\u0414\u043E\u0437\u0432\u043E\u043B\u0438\u0442\u0438 \u0434\u043E\u0434\u0430\u0432\u0430\u043D\u043D\u044F \u043D\u043E\u0432\u0438\u0445 \u0437\u043D\u0430\u0447\u0435\u043D\u044C","ShowValueAsLink":"\u041F\u043E\u043A\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u044F\u043A \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F","IsGoToSourceAllowed":"\u0423\u0432\u0456\u043C\u043A\u043D\u0443\u0442\u0438 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0442\u044F \u0440\u0435\u0454\u0441\u0442\u0440\u0443 \u0437\u0430\u043F\u0438\u0441\u0456\u0432"},"ColorPicker":{"PageCaption":"\u041F\u0456\u043F\u0435\u0442\u043A\u0430","AppearanceGroup":"\u0417\u043E\u0432\u043D\u0456\u0448\u043D\u0456\u0439 \u0432\u0438\u0433\u043B\u044F\u0434","PickerModeRadioButtonCaption":"\u041F\u0430\u043B\u0456\u0442\u0440\u0430","PickerMode":{"Basic":"\u0411\u0430\u0437\u043E\u0432\u0430 \u043F\u0430\u043B\u0456\u0442\u0440\u0430","Extended":"\u0420\u043E\u0437\u0448\u0438\u0440\u0435\u043D\u0430 \u043F\u0430\u043B\u0456\u0442\u0440\u0430"}},"Tooltip":"\u041F\u0456\u0434\u043A\u0430\u0437\u043A\u0430","DisplayPhoneMask":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u043C\u0430\u0441\u043A\u0443 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443"},"WidgetPropertiesPanel":{"HeaderLabel":"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u0433\u0440\u0430\u0444\u0456\u043A\u0430","GeneralLabel":"\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0456","TitleLabel":"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A","ColorLabel":"\u041A\u043E\u043B\u0456\u0440","StyleLabel":"\u0421\u0442\u0438\u043B\u044C","Styles":{"FullyColored":"\u041F\u043E\u0432\u043D\u043E\u043A\u043E\u043B\u044C\u043E\u0440\u043E\u0432\u0438\u0439","PlainWhite":"\u041F\u0440\u043E\u0441\u0442\u0438\u0439 \u0431\u0456\u043B\u0438\u0439","PartiallyColored":"\u0427\u0430\u0441\u0442\u043A\u043E\u0432\u043E \u0437\u0430\u0431\u0430\u0440\u0432\u043B\u0435\u043D\u0438\u0439","Glassmorphism":"\u0415\u0444\u0435\u043A\u0442 \u0441\u043A\u043B\u0430"},"ContextMenu":{"Edit":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"},"ChartSeries":"\u0421\u0435\u0440\u0456\u044F \u0433\u0440\u0430\u0444\u0456\u043A\u0456\u0432","SeriesControlLabel":"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A","SetupBlockCaption":"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0433\u0440\u0430\u0444\u0456\u043A","SetupButtonLabel":"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u0433\u0440\u0430\u0444\u0456\u043A\u0430","FilterByActiveItemTooltip":"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C, \u0449\u043E\u0431 \u0434\u043E\u0437\u0432\u043E\u043B\u0438\u0442\u0438 \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430\u043C \u0444\u0456\u043B\u044C\u0442\u0440\u0443\u0432\u0430\u0442\u0438 \u0433\u0440\u0430\u0444\u0456\u043A \u0434\u0430\u043D\u0438\u0445 \u0437\u0430 \u0430\u043A\u0442\u0438\u0432\u043D\u0438\u043C \u0440\u044F\u0434\u043A\u043E\u043C \u0434\u0436\u0435\u0440\u0435\u043B\u0430 \u043F\u043E\u0432'\u044F\u0437\u0430\u043D\u0438\u0445 \u0434\u0430\u043D\u0438\u0445"},"SliderPropertiesPage":{"ColorLabel":"\u0421\u0442\u0438\u043B\u044C","Colors":{"Accent":"\u0424\u043E\u043A\u0443\u0441","Primary":"\u041E\u0441\u043D\u043E\u0432\u043D\u0438\u0439","Warn":"\u041F\u043E\u043F\u0435\u0440\u0435\u0434\u0436\u0435\u043D\u043D\u044F","Default":"\u0417\u0430 \u0437\u0430\u043C\u043E\u0432\u0447\u0443\u0432\u0430\u043D\u043D\u044F\u043C"},"ReadonlyLabel":"\u0422\u0456\u043B\u044C\u043A\u0438 \u0434\u043B\u044F \u0447\u0438\u0442\u0430\u043D\u043D\u044F","StepLabel":"\u0417\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u043A\u0440\u043E\u043A\u0443","MinValueLabel":"\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F","MaxValueLabel":"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F","Validations":{"GreaterThanZeroCaption":"\u0417\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u043C\u0430\u0454 \u0431\u0443\u0442\u0438 \u0431\u0456\u043B\u044C\u0448\u0435 0","MinValueLessThanMaxValueCaption":"\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043C\u0435\u043D\u0448\u0435 \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0433\u043E","MaxValueGreaterMinValueCaption":"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u043C\u0430\u0454 \u0431\u0443\u0442\u0438 \u0431\u0456\u043B\u044C\u0448\u0438\u043C \u0437\u0430 \u043C\u0456\u043D\u0456\u043C\u0430\u043B\u044C\u043D\u0435","StyleIsInvalidCaption":"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0441\u0442\u0438\u043B\u044C"}},"ContainerPropertiesPage":{"GeneralGroup":"\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0435","AppearanceGroup":"\u0417\u043E\u0432\u043D\u0456\u0448\u043D\u0456\u0439 \u0432\u0438\u0433\u043B\u044F\u0434","ColorLabel":"\u041A\u043E\u043B\u0456\u0440","BorderRadiusLabel":"\u0420\u0430\u0434\u0456\u0443\u0441 \u0440\u0430\u043C\u043A\u0438","Sizes":{"None":"\u041D\u0435\u043C\u0430\u0454","Small":"\u041C\u0430\u043B\u0435\u043D\u044C\u043A\u0438\u0439","Medium":"\u0421\u0435\u0440\u0435\u0434\u043D\u0456\u0439","Large":"\u0412\u0435\u043B\u0438\u043A\u0438\u0439"},"PaddingGroup":"\u0406\u043D\u0442\u0435\u0440\u0432\u0430\u043B","Padding":{"Top":"\u0412\u0435\u0440\u0445\u043D\u0456\u0439","Bottom":"\u041D\u0438\u0436\u043D\u0456\u0439","Left":"\u041B\u0456\u0432\u043E\u0440\u0443\u0447","Right":"\u041F\u0440\u0430\u0432\u043E\u0440\u0443\u0447"},"StretchLabel":"\u0420\u043E\u0437\u0442\u044F\u0433\u043D\u0443\u0442\u0438 \u0443 \u0431\u0430\u0442\u044C\u043A\u0456\u0432\u0441\u044C\u043A\u0438\u0439 \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440","FitContentLabel":"\u0417\u0430 \u0432\u043C\u0456\u0441\u0442\u043E\u043C","AlignItemsLabel":"\u0412\u0438\u0440\u0456\u0432\u043D\u044F\u0442\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438","AlignItems":{"Stretch":"\u0420\u043E\u0437\u0442\u044F\u0433\u043D\u0443\u0442\u0438","Start":"\u0421\u0442\u0430\u0440\u0442","Center":"\u041F\u043E \u0446\u0435\u043D\u0442\u0440\u0443","End":"\u041A\u0456\u043D\u0435\u0446\u044C"},"Grid":{"PageCaption":"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u0430 \u0441\u0456\u0442\u043A\u0438","ColumnsLabel":"\u041A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u043A\u043E\u043B\u043E\u043D\u043E\u043A","ColumnGapFieldLabel":"\u0406\u043D\u0442\u0435\u0440\u0432\u0430\u043B \u043A\u043E\u043B\u043E\u043D\u043E\u043A","RowGapFieldLabel":"\u0412\u0456\u0434\u0441\u0442\u0430\u043D\u044C \u043C\u0456\u0436 \u0440\u044F\u0434\u043A\u0430\u043C\u0438"},"Flex":{"PageCaption":"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u0433\u043D\u0443\u0447\u043A\u043E\u0433\u043E \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u0430","Direction":"\u041D\u0430\u043F\u0440\u044F\u043C\u043E\u043A","Row":"\u0420\u044F\u0434\u043E\u043A","Column":"\u041A\u043E\u043B\u043E\u043D\u043A\u0430","Gap":"\u0412\u0456\u0434\u0441\u0442\u0443\u043F \u043C\u0456\u0436 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u043C\u0438","WrapLabel":"\u041F\u0435\u0440\u0435\u043D\u043E\u0441\u0438\u0442\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438","JustifyContentLabel":"\u0412\u0438\u0440\u0456\u0432\u043D\u044F\u0442\u0438 \u0432\u043C\u0456\u0441\u0442","JustifyContent":{"Start":"\u0421\u0442\u0430\u0440\u0442","Center":"\u041F\u043E \u0446\u0435\u043D\u0442\u0440\u0443","End":"\u041A\u0456\u043D\u0435\u0446\u044C","SpaceBetween":"\u041F\u0440\u043E\u0431\u0456\u043B \u043C\u0456\u0436"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"\u042F\u043A\u0456 \u0434\u0430\u043D\u0456 \u043D\u0430\u0434\u0440\u0443\u043A\u0443\u0432\u0430\u0442\u0438?","PrintablesSettingsCaption":"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u0434\u0440\u0443\u043A\u0443","PrintOnRecord":"\u0420\u043E\u0437\u0434\u0440\u0443\u043A\u0443\u0432\u0430\u0442\u0438 \u0437\u0432\u0456\u0442 \u0434\u043B\u044F \u043F\u043E\u0442\u043E\u0447\u043D\u043E\u0433\u043E \u0437\u0430\u043F\u0438\u0441\u0443","PrintOnList":"\u0420\u043E\u0437\u0434\u0440\u0443\u043A\u0443\u0432\u0430\u0442\u0438 \u0437\u0432\u0456\u0442 \u0434\u043B\u044F \u0441\u043F\u0438\u0441\u043A\u0443 \u0437\u0430\u043F\u0438\u0441\u0456\u0432"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"\u0415\u043B\u0435\u043C\u0435\u043D\u0442 \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0454 \u043C\u0430\u043A\u0440\u043E\u0441\u0438. \u042F\u043A\u0449\u043E \u0432\u0430\u043C \u043F\u043E\u0442\u0440\u0456\u0431\u043D\u043E \u0440\u0435\u0430\u043B\u0456\u0437\u0443\u0432\u0430\u0442\u0438 \u0430\u043B\u044C\u0442\u0435\u0440\u043D\u0430\u0442\u0438\u0432\u043D\u0443 \u043B\u043E\u0433\u0456\u043A\u0443, \u0442\u043E\u0434\u0456 \u0432\u0438\u0434\u0430\u043B\u0456\u0442\u044C \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430.","ClearAttributeBinding":"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"}}}`),Ia=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Ngu\u1ED3n d\u1EEF li\u1EC7u","MatchDataSourceAttributes":"Match data source attributes","FilterByActiveItemLabel":"Filter by active row","FilterByActiveItemTooltip":"Select to let users filter the list data by the active row of the linked data source"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"},"QuickFilterTargetsGroup":{"Label":"Add components","Tooltip":"Please, add components"},"QuickFilterTarget":{"DefaultValueCaption":"Gi\xE1 tr\u1ECB m\u1EB7c \u0111\u1ECBnh","FilterColumnLabel":"L\u1ECDc c\u1ED9t","ViewAttributeLabel":"Component to filter"},"CustomQuickFilterTarget":{"EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","DefaultCheckBoxState":{"Label":"Default checkbox state","CheckedCaption":"\u0110\xE3 ki\u1EC3m tra","UncheckedCaption":"Unchecked"},"FilteringApproachState":{"Label":"Filtering approach","OnCheckedCaption":"Apply filter condition when checkbox is checked","OnUncheckedCaption":"Apply filter condition when checkbox is unchecked"}},"DateRangeQuickFilterTarget":{"DefaultPeriodCaption":"Default period","ChooseFilteringMethodCaption":"Choose a filtering method","ChooseFilteringMethodTooltip":"The filter can display data relevant to the specified period.\\r\\nUse the \\"Set up filter by one date\\" condition to display records that were created or modified on the specified day. For example, you can set up this filter to display leads by creation date, opportunities by closure date, or cases by solution date.\\r\\n\\r\\nUse the \\"Set up filter by date range\\" condition to display records for which a date range is particularly relevant. For example, you can set up this filter for contracts whose start and end dates are within the specified date range.","SetUpByOneColumnTitle":"Set up filter by one date","SetUpByTwoColumnsTitle":"Set up filter by date range","FilterColumnStartCaption":"Filter column From","FilterColumnEndCaption":"Filter column To"},"LookupQuickFilterTarget":{"CurrentUserContactName":"Danh b\u1EA1 ng\u01B0\u1EDDi d\xF9ng hi\u1EC7n t\u1EA1i","CurrentUserAccountName":"T\xE0i kho\u1EA3n ng\u01B0\u1EDDi d\xF9ng hi\u1EC7n t\u1EA1i","EditFilterCaption":"Edit filter","SetupFilterCaption":"Setup filter","FiltersDialogCaption":"Manually defined filter","TagVirtualColumnCaption":"Tag"},"EntitySchemaSelectComponent":{"AddNewEntity":"Add new object","CreatePageLabel":"Please create a page, because there is none to execute this action.","CreatePageLink":"Create page","EditPageLabel":"{0} has 1 form page.","EditPagesLabel":"{0} has several pages.","EditPageLink":"Edit the page","OpenPagesSetup":"View pages setup","SaveConfirmationDialog":{"Save":"Save","Cancel":"Cancel","Message":"Save the object before creating a page. Continue?"},"RelatedPagesCaptionWithEntityName":"{0} pages setup"},"CrtLookupViewPropertiesComponent":{"SelectionWindow":"Selection window","List":"Dropdown list","Label":"Lookup view"},"PropertiesPages":{"BaseInputPropertiesPanel":{"AppearanceGroup":"Appearance","BindToDataSourceCaption":"Data source","DataSourceAttributeNotFoundErrorMessage":"Item with the path \\"{0}\\" not found","Editability":"Editability","EditabilityControls":{"Readonly":"Read-only","Disabled":"Disabled"},"TitleOnPage":"Title on page","Multiline":"Multiline text","LabelPosition":"Title position","LabelPositionVariants":{"Auto":"Auto","Left":"Left","Right":"Right","Above":"Above","Hidden":"Hidden"},"Placeholder":"Placeholder","Combobox":{"IsAddAllowed":"Enable adding new values","ShowValueAsLink":"Show value as link","IsGoToSourceAllowed":"Enable opening the record list"},"ColorPicker":{"PageCaption":"Color picker","AppearanceGroup":"Appearance","PickerModeRadioButtonCaption":"Pallet","PickerMode":{"Basic":"Basic pallet","Extended":"Extended pallet"}},"Tooltip":"Tooltip","DisplayPhoneMask":"Display phone mask"},"WidgetPropertiesPanel":{"HeaderLabel":"Chart settings","GeneralLabel":"General","TitleLabel":"Title","ColorLabel":"Color","StyleLabel":"Style","Styles":{"FullyColored":"Fully colored","PlainWhite":"Plain white","PartiallyColored":"Partially colored","Glassmorphism":"Glass effect"},"ContextMenu":{"Edit":"Edit"},"ChartSeries":"Chart series","SeriesControlLabel":"Title","SetupBlockCaption":"Set up chart","SetupButtonLabel":"Chart settings","FilterByActiveItemTooltip":"Select to let users filter the chart data by the active row of the linked data source"},"SliderPropertiesPage":{"ColorLabel":"Style","Colors":{"Accent":"Focus","Primary":"Primary","Warn":"Warning","Default":"Default"},"ReadonlyLabel":"Read-only","StepLabel":"Step value","MinValueLabel":"Minimum value","MaxValueLabel":"Maximum value","Validations":{"GreaterThanZeroCaption":"Value must be greater than 0","MinValueLessThanMaxValueCaption":"Minimal value must be less than maximum value","MaxValueGreaterMinValueCaption":"Maximum value must be greater than minimal value","StyleIsInvalidCaption":"Style is incorrect"}},"ContainerPropertiesPage":{"GeneralGroup":"General","AppearanceGroup":"Appearance","ColorLabel":"Color","BorderRadiusLabel":"Border radius","Sizes":{"None":"None","Small":"Small","Medium":"Medium","Large":"Large"},"PaddingGroup":"Spacing","Padding":{"Top":"Top","Bottom":"Bottom","Left":"Left","Right":"Right"},"StretchLabel":"Stretch to parent container","FitContentLabel":"Fit content","AlignItemsLabel":"Align items","AlignItems":{"Stretch":"Stretch","Start":"Start","Center":"Center","End":"End"},"Grid":{"PageCaption":"Grid container settings","ColumnsLabel":"Number of columns","ColumnGapFieldLabel":"Column spacing","RowGapFieldLabel":"Row spacing"},"Flex":{"PageCaption":"Flex container settings","Direction":"Direction","Row":"Row","Column":"Column","Gap":"Gap","WrapLabel":"Wrap elements","JustifyContentLabel":"Justify content","JustifyContent":{"Start":"Start","Center":"Center","End":"End","SpaceBetween":"Space between"}}},"PrintablesRequestPropertiesPanel":{"ViewSelectCaption":"Which data to print?","PrintablesSettingsCaption":"Print settings","PrintOnRecord":"Print report for the current record","PrintOnList":"Print report for the records list"},"ValueAdapterWrapperComponent":{"PropertyBindingCaption":"The element uses macros. If you need to implement alternative logic, then remove the element value.","ClearAttributeBinding":"Clear value"}}}'),Ea=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Page data","MatchDataSourceAttributes":"Match data source attributes"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"}}'),Fa=JSON.parse('{"DataSourceDependenciesSetting":{"Title":"Apply filter by page data","Tooltip":"Filter by page data lets you display connected records or detail data in an additional list."},"DataSourceDependency":{"PageData":"Page data","MatchDataSourceAttributes":"Match data source attributes"},"DataSourceFilterElementsGroup":{"Title":"Apply pre-configured filter","Tooltip":"The setting lets you use pre-configured filters from folders or other data filtering elements as page filters."},"DataSourceFilterElement":{"Caption":"Filter element"}}'),Hn={"hu-HU":Xo,"zh-CN":Yo,"sq-AL":$o,"en-GB":ea,"bg-BG":ta,"zh-TW":Ea,"no-NO":ya,"ko-KR":ha,"ja-JP":ma,"fr-CA":sa,zh:Fa,"vi-VN":Ia,"tr-TR":xa,"th-TH":Da,"sv-SE":wa,"ro-RO":va,"pt-PT":_a,"pt-BR":Pa,"pl-PL":ba,no:Sa,"nl-NL":fa,"lv-LV":Ca,"kk-KZ":ga,"it-IT":da,"id-ID":ua,"he-IL":ca,"fr-FR":pa,"fa-IR":la,"es-ES":ia,"de-DE":oa,"cs-CZ":na,"ar-SA":ra,"en-US":aa,"ru-RU":Ta,"uk-UA":Ma},rc=[Mt,It,me];class pe{constructor(r){this._materialIconsRegistrator=r,this._materialIconsRegistrator.addIcons([{name:"cross",icon:T(69362)},{name:"info",icon:T(30595)}])}}pe.\u0275fac=function(r){return new(r||pe)(e.\u0275\u0275inject(E.MaterialIconsRegistrator))},pe.\u0275mod=e.\u0275\u0275defineNgModule({type:pe}),pe.\u0275inj=e.\u0275\u0275defineInjector({providers:[m.DesignerDataGridStateHandler,H,m.DataSourceDependencySettingService,m.FilterViewElementConfigProvider],imports:[f.CommonModule,X.MatLegacyTooltipModule,v.MatLegacyFormFieldModule,s.CrtButtonModule,s.CrtComboBoxModule,s.CrtCheckboxModule,s.CrtLabelModule,I.MatIconModule,U.CrtLibTranslateModule.forRoot({i18n:Hn})]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(pe,{declarations:[Mt,It,me],imports:[f.CommonModule,X.MatLegacyTooltipModule,v.MatLegacyFormFieldModule,s.CrtButtonModule,s.CrtComboBoxModule,s.CrtCheckboxModule,s.CrtLabelModule,I.MatIconModule,U.CrtLibTranslateModule],exports:[Mt,It,me]})}();class Et{}Et.\u0275fac=function(r){return new(r||Et)},Et.\u0275mod=e.\u0275\u0275defineNgModule({type:Et}),Et.\u0275inj=e.\u0275\u0275defineInjector({providers:[H,m.DataSourceDependencySettingService,m.FilterViewElementConfigProvider],imports:[f.CommonModule,pe,U.CrtLibTranslateModule.forRoot({i18n:Hn})]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Et,{declarations:[Ie],imports:[f.CommonModule,pe,U.CrtLibTranslateModule],exports:[Ie]})}();function $n(o){return!(0,y.isObject)(o)||(0,y.isArray)(o)?!1:"path"in o&&"dataValueType"in o}const Va=300;class L{constructor(r){this.injector=r,this._properties=new Map,this._dataLoaded=!1,this.changeDetector=this.injector.get(e.ChangeDetectorRef),this.translateService=this.injector.get(P.TranslateService),this.resourceFinderService=this.injector.get(g.ResourceFinderService),this.openPanelAnimationService=this.injector.get(m.OpenPanelAnimationService,{}),this.requiredValidator=new w.RequiredValidator(this.injector),this.elementRef=this.injector.get(e.ElementRef),this.translatePrefix="",this.destroyed$=new d.Subject,this.emitEventsOnlyWhenDataLoaded=!1,this.shouldFocusCaption=!1,this.changed$=new e.EventEmitter,this.action$=new e.EventEmitter,this.dataLoaded$=new d.ReplaySubject(1)}get dataLoaded(){return this._dataLoaded}set dataLoaded(r){this._dataLoaded=r,r&&this.dataLoaded$.next(r)}get itemName(){return this._itemName}get config(){return this._config}set config(r){(0,y.isEqual)(this._config,r)||(this.dataLoaded=!1,this._config=r,this._itemName=this.getItemName(r),this._loadDataSubscription?.unsubscribe(),this._loadDataSubscription=this.loadData(r).pipe((0,c.take)(1)).subscribe(t=>{const n=(0,y.cloneDeep)(t);if(this.itemMetadata=(0,y.cloneDeep)(t),this.propertiesForm){this.setFormValue(n);const a=this._findTitleControlPath();a&&(this.title=this.getControl(a).value,this.changeDetector.detectChanges()),this.dataLoaded=!0}}))}_findTitleControlPath(){return[...this._properties.entries()].find(([,t])=>t.isTitle)?.[0]}_updateItemMetadata(r){(0,y.cloneDeep)(r).forEach(n=>{(0,y.set)(this.itemMetadata,n.path,n.value)})}_getFormMetadata(r){const t={};return this._properties.forEach((n,a)=>{const i=(0,y.get)(r,a),u=n.path;if(u){const h=this.afterGetControlValue(i,a,n);(0,y.set)(t,u,h)}}),t}_getChangedMetadata(r,t){return Array.from(this._properties.values()).map(n=>({path:n.path,type:n.dataValueType,prevValue:(0,y.get)(r,n.path),newValue:(0,y.get)(t,n.path),strategy:n.applyPropertyStrategy})).filter(({newValue:n,prevValue:a,type:i})=>!this.getIsValuesEquals(n,a,i)).map(({path:n,newValue:a,strategy:i})=>this.convertMetadata(n,a,i))}_buildFromGroup(r,t,n=!1,a=""){Object.entries(t).forEach(([i,u])=>{const h=(0,y.isEmpty)(a)?i:a+"."+i;if($n(u)){const b=u.controlInitialConfig,O=new p.FormControl(b?.value,b?.validatorOrOpts);r.addControl(i,O,{emitEvent:!n}),this._properties.set(h,u)}else{const b=new p.FormGroup({});this._buildFromGroup(b,u,n,h),r.addControl(i,b,{emitEvent:!n})}})}_findProperty(r,t,n=""){const a=Object.keys(r);for(const i of a){let u=null;const h=r[i];if($n(h))$n(h)&&h.path===t&&(u=n+i);else{const b=n+i+".";u=this._findProperty(r[i],t,b)}if(u)return u}return null}_setShouldFocusCaption(r){this.shouldFocusCaption=!1,r.mode===m.MetaItemDesignerOpeningState.Add&&this.openPanelAnimationService?.animationEnd$.pipe((0,c.take)(1)).subscribe(()=>{this.shouldFocusCaption=!0,this.changeDetector.detectChanges()})}_subscribePropertiesPanelScrollService(){const r=this.getScrollableContainer();if(!r){console.warn("Didn't find scrollable container");return}const t=this.injector.get(m.PropertiesPanelScrollService,null);!t||(t.queryScrollPosition$.pipe((0,c.takeUntil)(this.destroyed$)).subscribe({next:()=>{const n=r.scrollTop;t.receiveScrollPosition$.next(n)}}),t.restoreScrollPosition$.pipe((0,c.takeUntil)(this.destroyed$)).subscribe({next:n=>{r.scrollTop=n}}))}_updateItemName(r){const n=r.find(a=>a.path==="itemConfig.name")?.value?.toString();n&&this._itemName!==n&&(this._itemName=n)}_splitValidators(r){const t=[],n=[];return r.forEach(a=>{a.isAsync?n.push(a.validatorFn):t.push(a.validatorFn)}),{validators:t,asyncValidators:n}}getScrollableContainer(){return this.elementRef?.nativeElement?.querySelector(".properties-panel-wrap")}shouldEmitChanges(r){return r.length!==0}convertMetadata(r,t,n){return{path:r,value:t,applyPropertyStrategy:n}}emitChanges(r){const t={name:this._itemName,type:this.itemMetadata?.type,changes:r,elementProperties:this.config};this.changed$.next(t)}afterGetLookupControlValue(r,t){return t?.value||null}beforeSetLookupControlValue(r,t,n){return n.find(a=>a.value===t)||null}afterGetControlValue(r,t,n){switch(n.dataValueType){case l.DataValueType.Lookup:if(!n?.options.items)throw new Error(`Property 'items' can not be empty for element '${t}' of properties config`);return this.afterGetLookupControlValue(t,(0,y.isEmpty)(r)?null:r);case l.DataValueType.LOCALIZABLE_STRING:return(0,y.isEmpty)(r)?r:r.map(i=>({cultureName:i.cultureName,value:i.value}));default:return r}}beforeSetControlValue(r,t,n){switch(n.dataValueType){case l.DataValueType.Lookup:const a=n?.options.items;if(!a)throw new Error(`Property 'items' can not be empty for element '${t}' of properties config`);return this.beforeSetLookupControlValue(t,r,a);case l.DataValueType.LOCALIZABLE_STRING:return typeof r=="string"?this.resourceFinderService.findLocalizationFromResourceString(r,this._config.resources):new g.LocalizableStringArray(r);case l.DataValueType.Boolean:return t.includes("visible")?typeof r=="string"||typeof r=="boolean"?r:!0:r;default:return r}}setFormValue(r,t=!1){const n={};Array.from(this._properties.entries()).forEach(([a,i])=>{const u=(0,y.get)(r,i.path),h=this.beforeSetControlValue(u,a,i);(0,y.set)(n,a,h)}),this.propertiesForm.patchValue(n,{emitEvent:t}),this.changeDetector.detectChanges()}getIsValuesEquals(r,t,n){switch(n){case l.DataValueType.LOCALIZABLE_STRING:return(0,y.isEqual)(r,t);default:return r===t}}getPropertiesConfig(){return{name:{path:"itemConfig.name",dataValueType:l.DataValueType.Text},visible:{path:"itemConfig.visible",dataValueType:l.DataValueType.Boolean,applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override}}}getCurrentMetadata(){return{...this.itemMetadata}}validateChange(r){const t=this._findProperty(this._propertiesConfig,r.path),n=this.getControl(t);return n&&!n.errors}waitForStatusChanges(){return this.propertiesForm.status!=="PENDING"?(0,d.of)(!0):this.propertiesForm.statusChanges.pipe((0,c.tap)(()=>{this.changeDetector.detectChanges()}),(0,c.map)(r=>r==="VALID"))}getItemName(r){return r.name||r.itemConfig?.name}loadData(r){return this._setShouldFocusCaption(r),(0,d.of)(r)}getLookupItems(r){const t=this._properties.get(r)?.options?.items;if(!t)throw new Error(`Property 'items' can not be empty for form control with name '${r}'`);return t}setLookupItems(r,t){const n=this._properties.get(r);(0,y.set)(n,"options.items",t),this._properties.set(r,n)}setValidators(r){Object.entries(r).forEach(([t,n])=>{const a=this._properties.get(t),i=this.getControl(t);i.clearValidators();const u=this._splitValidators(n),h=a?.controlInitialConfig?.validatorOrOpts??[];i.setValidators([...h,...u.validators]),i.setAsyncValidators(u.asyncValidators),i.updateValueAndValidity({onlySelf:!0})})}getControl(r){return this.propertiesForm?.get(r)}ngOnInit(){this._propertiesConfig=this.getPropertiesConfig();const r=new p.FormGroup({});this._buildFromGroup(r,this._propertiesConfig),this.propertiesForm=r,this.propertiesForm.valueChanges.pipe((0,c.filter)(n=>!this.emitEventsOnlyWhenDataLoaded||this.dataLoaded),(0,c.debounceTime)(Va),(0,c.distinctUntilChanged)(),(0,c.map)(n=>{const a=this._getFormMetadata(n);return this._getChangedMetadata(this.getCurrentMetadata(),a)}),(0,c.map)(n=>n.filter(a=>this.validateChange(a))),(0,c.mergeMap)(n=>this.waitForStatusChanges().pipe((0,c.map)(a=>a?n:[]))),(0,c.filter)(n=>this.shouldEmitChanges(n)),(0,c.takeUntil)(this.destroyed$)).subscribe(n=>{this.emitChanges(n),this._updateItemName(n),this._updateItemMetadata(n),this.changeDetector.detectChanges()});const t=this._findTitleControlPath();t&&this.getControl(t).valueChanges.pipe((0,c.takeUntil)(this.destroyed$)).subscribe(n=>{this.title=n,this.changeDetector.detectChanges()}),this._subscribePropertiesPanelScrollService()}ngOnDestroy(){this.destroyed$.next()}getControlGroupStyles(){return{label:{},header:{"min-height":"48px"}}}translate(r){return this.translateService.instant(`${this.translatePrefix}.${r}`)}getConfig(){return this.itemMetadata}}L.\u0275fac=function(r){return new(r||L)(e.\u0275\u0275directiveInject(e.Injector))},L.\u0275dir=e.\u0275\u0275defineDirective({type:L});function Aa(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",3,4),e.\u0275\u0275listener("mouseover",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275reference(2),i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.getIsTooltipDisabled(a))}),e.\u0275\u0275element(3,"crt-label",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275reference(2),n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("matTooltip",n.simpleTitle)("matTooltipDisabled",n.getIsTooltipDisabled(t)||!n.canShowTooltip),e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",n.simpleTitle)("labelEllipsis",!0)}}function Oa(o,r){o&1&&e.\u0275\u0275projection(0)}const ka=["*"];class D{constructor(){this.canShowTooltip=!0}getIsTooltipDisabled(r){return r.offsetWidth>=r.scrollWidth}}D.\u0275fac=function(r){return new(r||D)},D.\u0275cmp=e.\u0275\u0275defineComponent({type:D,selectors:[["crt-properties-panel-header"]],inputs:{simpleTitle:"simpleTitle",canShowTooltip:"canShowTooltip"},ngContentSelectors:ka,decls:4,vars:2,consts:[[1,"properties-panel-header"],[4,"ngIf","ngIfElse"],["content",""],[1,"properties-panel-header-tooltip-wrapper",3,"matTooltip","matTooltipDisabled","mouseover"],["titleElement",""],[3,"caption","labelEllipsis"]],template:function(r,t){if(r&1&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Aa,4,4,"ng-container",1),e.\u0275\u0275template(2,Oa,1,0,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),r&2){const n=e.\u0275\u0275reference(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.simpleTitle)("ngIfElse",n)}},dependencies:[f.NgIf,s.CrtLabelComponent,X.MatLegacyTooltip],styles:["[_nghost-%COMP%]{width:100%;position:absolute;left:0;top:0}[_nghost-%COMP%]   .properties-panel-header-tooltip-wrapper[_ngcontent-%COMP%]{display:flex}"]});function La(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-label",4),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("caption",t.label)}}function Na(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"crt-checkbox",6),e.\u0275\u0275listener("valueChange",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onValueChanged())}),e.\u0275\u0275elementEnd()()}if(o&2){const t=r.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("control",n.getControl(t.name))("value",n.getItemState(t))("label",t.caption)}}class sn{constructor(){this.control=new p.FormControl,this.label="",this.items=[]}get selectedItems(){return this.items.filter(r=>this.control?.value?.indexOf(r.name)>-1)}_buildForm(){const r={};this.items.forEach(t=>{r[t.name]=new p.FormControl(t.state)}),this._form=new p.FormGroup(r)}ngOnInit(){this._buildForm()}getControl(r){return this._form.get(r)}getItemState(r){return Boolean(this.selectedItems.find(t=>t===r))}onValueChanged(){const r=this._form.value,t=[];for(const n in r)r[n]&&t.push(n);this.control.setValue(t)}}sn.\u0275fac=function(r){return new(r||sn)},sn.\u0275cmp=e.\u0275\u0275defineComponent({type:sn,selectors:[["crt-properties-panel-multi-select"]],inputs:{control:"control",label:"label",items:"items"},decls:4,vars:2,consts:[[1,"crt-properties-panel-multi-select"],["class","multi-select-label",3,"caption",4,"ngIf"],[1,"crt-properties-panel-multi-select-options"],["class","crt-control-form-field-wrapper",4,"ngFor","ngForOf"],[1,"multi-select-label",3,"caption"],[1,"crt-control-form-field-wrapper"],["labelPosition","right",3,"control","value","label","valueChange"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,La,1,1,"crt-label",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275template(3,Na,2,3,"div",3),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.label),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.items))},dependencies:[f.NgForOf,f.NgIf,s.CrtCheckboxComponent,s.CrtLabelComponent],styles:[".crt-properties-panel-multi-select[_ngcontent-%COMP%]   .crt-properties-panel-multi-select-options[_ngcontent-%COMP%]{width:100%}.crt-properties-panel-multi-select[_ngcontent-%COMP%]   .crt-properties-panel-multi-select-options[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]});var uo=T(62365);class pn{constructor(r,t,n,a,i,u,h,b,O){this.translateService=r,this.propertiesPanelScrollService=t,this.designerSchemaService=n,this.notifyService=a,this.maskService=i,this.featureValues=u,this.injector=h,this._clientUnitSchemaDesignerService=b,this._dialogService=O,this.destroyed$=new d.Subject,this.iconPositionEnum=S.IconPositionEnum,this.translatePrefix="",this.crtControlStateAdapter=this.injector.get(w.CrtControlStateAdapter)}translate(r){return this.translateService.instant(`${this.translatePrefix}.${r}`)}getControl(r){return this.formGroup?.get(r)}openBusinessRuleDialog(){const r=this._clientUnitSchemaDesignerService.getCurrentClientUnitSchema();if(!r){console.warn("Could not found current client unit schema from ClientUnitSchemaDesignerService.","Make sure you have injected appropriate provider");return}this._dialogService.open(Wn.BusinessRulesDialogComponent,{data:[{schema:r,applicabilityType:uo.ApplicabilityType.Page}],panelClass:["business-rules-dialog"],hasBackdrop:!1,width:"100vw",height:"100vh",disableClose:!0,maxWidth:"100vw"}).pipe((0,d.takeUntil)(this.destroyed$)).subscribe()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}pn.\u0275fac=function(r){return new(r||pn)(e.\u0275\u0275directiveInject(P.TranslateService),e.\u0275\u0275directiveInject(m.PropertiesPanelScrollService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(E.NotifyService),e.\u0275\u0275directiveInject(E.MaskService),e.\u0275\u0275directiveInject(g.FEATURE_VALUES),e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(le.ClientUnitSchemaDesignerService),e.\u0275\u0275directiveInject(E.DialogService))},pn.\u0275dir=e.\u0275\u0275defineDirective({type:pn,inputs:{formGroup:"formGroup"}});var Y=T(72310),mo=T(14340);function Ra(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",7),e.\u0275\u0275listener("mousedown",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onSave())}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("iconPosition",t.iconPositionEnum.OnlyIcon)("title",e.\u0275\u0275pipeBind1(1,3,t.translatePrefix+".SaveButtonTitle")),e.\u0275\u0275attribute("data-item-marker","SaveButton")}}function Ba(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275element(1,"mat-icon",9),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("matTooltip",t.infoIconText)}}function Ga(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",3),e.\u0275\u0275template(1,Ra,2,5,"crt-button",4),e.\u0275\u0275elementStart(2,"crt-button",5),e.\u0275\u0275listener("mousedown",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onCancel())}),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Ba,2,1,"div",6),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("@inOutAnimation",!!t.infoIconText),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getIsFormControlValid()),e.\u0275\u0275advance(1),e.\u0275\u0275property("iconPosition",t.iconPositionEnum.OnlyIcon)("title",e.\u0275\u0275pipeBind1(3,6,t.translatePrefix+".CancelButtonTitle")),e.\u0275\u0275attribute("data-item-marker","CancelButton"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.infoIconText)}}class ${set validators(r){this.displayedControl.setValidators(r),this.displayedControl.updateValueAndValidity()}constructor(r){this.injector=r,this._editControlsVisible=!1,this.readonly=!1,this.confirmValidators=[],this.confirmInputValueChanged=new e.EventEmitter,this.displayedControl=new p.FormControl(null),this.translatePrefix="InterfaceDesigner.PropertiesPages.PropertiesPanelAdvancedSettings",this.iconPositionEnum=S.IconPositionEnum,this.getIsEditControlVisible=()=>this._editControlsVisible&&!this.readonly,this.getIsFormControlValid=()=>this.displayedControl.valid,this._propertiesPanelScrollService=this.injector.get(m.PropertiesPanelScrollService)}_startTextInputEditing(){this._editControlsVisible=!0}_finishTextInputEditing(){var r=this;return(0,k.Z)(function*(){const t=r.displayedControl.value,n=r.control.value;if(t===n){r._cancelTextInputEditing();return}const a=yield r._isValidConfirmedName(t);!(r.getIsFormControlValid()&&a)||(r._editControlsVisible=!1,r._propertiesPanelScrollService.saveScrollPosition(),r.control.setValue(t))})()}_isValidConfirmedName(r){var t=this;return(0,k.Z)(function*(){if(t.confirmValidators.length===0)return Promise.resolve(!0);for(const n of t.confirmValidators)if(!(yield n(r)))return Promise.resolve(!1);return Promise.resolve(!0)})()}_cancelTextInputEditing(){this.displayedControl.setValue(this.control.value)}onTextInputKeyDown(r){var t=this;return(0,k.Z)(function*(){switch(r.stopPropagation(),r.key){case mo.Key.Enter:yield t._finishTextInputEditing();break;case mo.Key.Escape:t._cancelTextInputEditing();break}})()}ngOnInit(){this.displayedControl.valueChanges.subscribe(r=>{this.confirmInputValueChanged.next(r)})}onTextInputFocused(){this._startTextInputEditing()}onSave(){var r=this;return(0,k.Z)(function*(){yield r._finishTextInputEditing()})()}onCancel(){this._cancelTextInputEditing(),this._editControlsVisible=!1}}$.\u0275fac=function(r){return new(r||$)(e.\u0275\u0275directiveInject(e.Injector))},$.\u0275cmp=e.\u0275\u0275defineComponent({type:$,selectors:[["crt-confirming-input"]],inputs:{control:"control",readonly:"readonly",infoIconText:"infoIconText",labelText:"labelText",validators:"validators",confirmValidators:"confirmValidators"},outputs:{confirmInputValueChanged:"confirmInputValueChanged"},decls:3,vars:6,consts:[[1,"text-input-edit-container"],["labelPosition","above",1,"control","text-edit-input",3,"control","value","label","readonly","keyDown","focused"],["class","edit-controls",4,"ngIf"],[1,"edit-controls"],["icon","message-composer-checkmark","shape","rounded",3,"iconPosition","title","mousedown",4,"ngIf"],["icon","message-composer-cross","shape","rounded",3,"iconPosition","title","mousedown"],["class","info-icon-block",4,"ngIf"],["icon","message-composer-checkmark","shape","rounded",3,"iconPosition","title","mousedown"],[1,"info-icon-block"],["matSuffix","","svgIcon","info-icon","matTooltipClass","crt-input-error-tooltip","matTooltipPosition","above",1,"info-icon",3,"matTooltip"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"crt-input",1),e.\u0275\u0275listener("keyDown",function(a){return t.onTextInputKeyDown(a)})("focused",function(){return t.onTextInputFocused()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,Ga,5,8,"div",2),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.displayedControl)("value",t.control.value)("label",t.labelText)("readonly",t.readonly),e.\u0275\u0275attribute("data-item-marker","EditTextInputWithConfirmation"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getIsEditControlVisible()))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtInputComponent,v.MatLegacySuffix,I.MatIcon,X.MatLegacyTooltip,P.TranslatePipe],styles:["[_nghost-%COMP%]   .text-input-edit-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]   .text-input-edit-container[_ngcontent-%COMP%]   .text-edit-input[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .text-input-edit-container[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow:hidden}[_nghost-%COMP%]   .text-input-edit-container[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .info-icon-block[_ngcontent-%COMP%]{width:32px;height:32px;position:relative}[_nghost-%COMP%]   .text-input-edit-container[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .info-icon-block[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{width:20px;height:20px;position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}"],data:{animation:[(0,Y.trigger)("inOutAnimation",[(0,Y.transition)(":enter",[(0,Y.style)({width:0,opacity:0}),(0,Y.state)("true",(0,Y.style)({width:96,opacity:1})),(0,Y.state)("false",(0,Y.style)({width:64,opacity:1})),(0,Y.animate)("250ms ease-out")]),(0,Y.transition)(":leave",[(0,Y.state)("true",(0,Y.style)({width:96,opacity:1})),(0,Y.state)("false",(0,Y.style)({width:64,opacity:1})),(0,Y.style)({}),(0,Y.animate)("250ms ease-in",(0,Y.style)({width:0,opacity:0}))])])]}});const ja=["*"];class F extends pn{constructor(){super(...arguments),this.translatePrefix="InterfaceDesigner.PropertiesPages.PropertiesPanelAdvancedSettings",this.validators=[this.crtControlStateAdapter.transform({instance:new w.RegExpValidator(this.injector),params:{regex:new RegExp(g.NAME_PATTERN),message:this.translate("NameValidationMsg"),errorCode:"nameError"}})],this.confirmValidators=[this._checkNameDuplicatesValidator.bind(this)]}_setIsNameReadonly(r){const t=this.designerSchemaService.getViewConfigInfoByName(r);if(!t?.viewConfig)return;const n=t.viewConfig.type,a=l.InterfaceDesignerItemRegistry.interfaceDesignerItemRegistrationInfos.get(n);this.readonly=a?.disableElementRename}_checkNameDuplicatesValidator(r){if(this.designerSchemaService.getViewConfigInfoByName(r)?.viewConfig){const n=this.translate("DuplicateNameMessage");return this.notifyService.warn({message:n,translate:!1}).then(),Promise.resolve(!1)}return Promise.resolve(!0)}onNameValueChanged(){const r=this.getControl("name").value;this._setIsNameReadonly(r)}}F.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(F)))(t||F)}}(),F.\u0275cmp=e.\u0275\u0275defineComponent({type:F,selectors:[["crt-properties-panel-advanced-settings"]],features:[e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:ja,decls:3,vars:6,consts:[["expanded","true","togglePosition","after","toggleType","material",3,"title"],[3,"control","readonly","labelText","validators","confirmValidators","confirmInputValueChanged"]],template:function(r,t){r&1&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"crt-expansion-panel",0),e.\u0275\u0275projection(1),e.\u0275\u0275elementStart(2,"crt-confirming-input",1),e.\u0275\u0275listener("confirmInputValueChanged",function(){return t.onNameValueChanged()}),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275property("title",t.translate("AdvancedGroup")),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("name"))("readonly",t.readonly)("labelText",t.translate("CodeLabel"))("validators",t.validators)("confirmValidators",t.confirmValidators))},dependencies:[s.CrtExpansionPanelComponent,$],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}"]});class A extends pn{constructor(){super(...arguments),this.translatePrefix="InterfaceDesigner.PropertiesPages.PropertiesPanelVisibilitySettings",this.buttonVisibilityOptions=[{icon:"icon-eye",value:!0,caption:this.translate("Visible")},{icon:"icon-eye-crossed",value:!1,caption:this.translate("NotVisible")}]}get disableEditing(){return typeof this.getControl("visible")?.value=="string"}get tooltipText(){return this.disableEditing?this.translate("DefaultValueNotSupported"):""}}A.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(A)))(t||A)}}(),A.\u0275cmp=e.\u0275\u0275defineComponent({type:A,selectors:[["crt-properties-panel-visibility-settings"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:8,consts:[["expanded","true","togglePosition","after","toggleType","material",3,"title"],[1,"controls"],[1,"control"],[1,"button-visibility-control",3,"items","control","disabled","disabledStateTooltip"],["iconPosition","left-icon","icon","icon-conditional","shape","rounded",3,"disabled","title","clicked"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",0)(1,"div",1)(2,"div",2),e.\u0275\u0275element(3,"crt-icon-radio-button",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",2)(5,"crt-button",4),e.\u0275\u0275listener("clicked",function(){return t.openBusinessRuleDialog()}),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275property("title",t.translate("VisibilityGroup")),e.\u0275\u0275advance(3),e.\u0275\u0275property("items",t.buttonVisibilityOptions)("control",t.getControl("visible"))("disabled",t.disableEditing)("disabledStateTooltip",t.tooltipText),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.disableEditing)("title",t.tooltipText),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.translate("SetupConditions")," "))},dependencies:[s.CrtButtonComponent,s.CrtExpansionPanelComponent,s.CrtIconRadioButtonComponent],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .control.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.7}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]:last-child{align-self:flex-end}"]});function za(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-input",8),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("label",t.translate("DataSource")),e.\u0275\u0275property("value",t.dataSourceCaption)}}function qa(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-label"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.translate("EmptyDataSourceHint"))}}function Ua(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",3),e.\u0275\u0275element(1,"crt-properties-panel-multi-select",9),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("title",t.translate("ChannelsCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("allowedActions"))("items",t.actions)}}function Wa(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",10),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onGoToCasesClick())}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("caption",t.translate("GoToCasesButtonCaption")),e.\u0275\u0275property("disabled",t.isCasesDisabled)("title",t.casesDisabledTitle)}}let Ft=class extends L{constructor(r,t,n,a,i,u){super(r),this._designerEntityDataSourceService=t,this._entitiesListLoaderService=n,this._designerSchemaService=a,this._environment=i,this._window=u,this._rejectedCasesSchemaNames=["Activity"],this.translatePrefix="InterfaceDesigner.PropertiesPages.ActionDashboardPropertiesPage",this.dataSourceCaption="",this._actions=[{caption:this.translate("CallAction"),name:s.DashboardAction.Call},{caption:this.translate("EmailAction"),name:s.DashboardAction.Email},{caption:this.translate("FeedAction"),name:s.DashboardAction.Feed},{caption:this.translate("ActivityAction"),name:s.DashboardAction.Task}]}get actions(){return this._actions}get isCasesDisabled(){return!this._sysModuleId}get casesDisabledTitle(){return this._casesDisabledTitle}_preprocessViewConfig(r){r.allowedActions||(r.allowedActions=(0,s.getDefaultDashboardActions)())}_isCasesAvailableForSchema(){return this._entitySchemaName&&!this._rejectedCasesSchemaNames.find(r=>r===this._entitySchemaName)}_getPrimaryDataSource(r){if(!r||r.length===0)return null;const t=this._designerSchemaService.getPrimaryDataSourceName(),n=r.find(i=>i.dataSourceName===t);if(n)return n;const a=this._designerSchemaService.getDataSources().filter(i=>i.scope!==l.DataSourceScope.ViewElement).map(i=>r.find(u=>u.dataSourceName===i.name));return a.length>0?a[0]:null}_initCardSchemaName(r){const t=r.schemaUId;if(!t)return;const n=r.parentSchemas.find(a=>a.uId===t);this._cardSchemaName=n?.name}loadData(r){const t=r.itemConfig;return this._packageUId=r.packageUId,this._initCardSchemaName(r),this._preprocessViewConfig(t),this._casesDisabledTitle=this.translate("CasesDisabledTitle"),this._designerEntityDataSourceService.getDataSources$().pipe((0,c.switchMap)(n=>{const a=this._getPrimaryDataSource(n);return a?a.getSchema().pipe((0,c.map)(i=>(this.dataSourceCaption=i.caption.toString(),this._entitySchemaName=i.name,r))):(this.dataSourceCaption=t.dataSourceName,(0,d.of)(r))}),(0,c.switchMap)(n=>this._isCasesAvailableForSchema()?this._entitiesListLoaderService.getEntityModuleInfoForCardSchema(this._entitySchemaName,this._cardSchemaName):(0,d.of)(n)),(0,c.switchMap)(n=>n?.length===0?this._entitiesListLoaderService.getEntityModuleInfo(this._entitySchemaName):(0,d.of)(n)),(0,c.switchMap)(n=>(!n?.length||n.length===0||(this._sysModuleId=n[0].sysModuleId,this._casesDisabledTitle=""),(0,d.of)(r))))}getPropertiesConfig(){return{...super.getPropertiesConfig(),allowedActions:{path:"itemConfig.allowedActions",dataValueType:l.DataValueType.COLLECTION,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override}}}onGoToCasesClick(){const r=this._environment.defaultApplicationUrl+"?vm=SectionCasesWizard#Cases/",t=(0,g.getWorkspaceBaseUrl)()+r+this._sysModuleId+`/${this._packageUId}`;this._window.open(t).focus()}};Ft.\u0275fac=function(r){return new(r||Ft)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(m.DesignerEntityDataSourceService),e.\u0275\u0275directiveInject(Se),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject("environment"),e.\u0275\u0275directiveInject(U.WINDOW_TOKEN))},Ft.\u0275cmp=e.\u0275\u0275defineComponent({type:Ft,selectors:[["crt-action-dashboard-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:10,consts:[[1,"properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],["class","control","labelPosition","above","readonly","true",3,"label","value",4,"ngIf"],[4,"ngIf"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles",4,"ngIf"],["shape","rounded","color","primary","data-item-marker","goToCases",3,"caption","disabled","title","clicked",4,"ngIf"],["labelPosition","above","readonly","true",1,"control",3,"label","value"],[3,"control","items"],["shape","rounded","color","primary","data-item-marker","goToCases",3,"caption","disabled","title","clicked"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3),e.\u0275\u0275template(4,za,1,2,"crt-input",4),e.\u0275\u0275template(5,qa,2,1,"crt-label",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,Ua,2,4,"crt-expansion-panel",6),e.\u0275\u0275element(7,"crt-properties-panel-visibility-settings",1)(8,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,Wa,1,3,"crt-button",7),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.dataSourceCaption),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.dataSourceCaption),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.dataSourceCaption),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.dataSourceCaption))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtExpansionPanelComponent,s.CrtInputComponent,s.CrtLabelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,D,sn,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]   crt-label[_ngcontent-%COMP%]{margin-top:8px}"]}),Ft=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ActionDashboardPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,m.DesignerEntityDataSourceService,Se,_.DesignerSchemaService,Object,Object])],Ft);class W{constructor(){this.paramsChange=new e.EventEmitter}get params(){return this._params}set params(r){this._params=r,this.onRequestParamsChange(r)}onRequestParamsChange(r){}}W.\u0275fac=function(r){return new(r||W)},W.\u0275dir=e.\u0275\u0275defineDirective({type:W,inputs:{params:"params",config:"config"},outputs:{paramsChange:"paramsChange"}});var x=T(17684);let Vt=class extends W{constructor(r,t,n){super(),this._designerSchemaService=r,this.injector=t,this.cdr=n,this._subscriptions=new d.Subscription,this.translatePrefix="InterfaceDesigner.PropertiesPages.AddCommunicationOptionsRequestPropertiesPanel",this.translateService=this.injector.get(P.TranslateService),this.viewElementControl=new p.FormControl,this.views=[],this._viewControlValueChanges$=this.viewElementControl.valueChanges}_initializeData(){const r=[...this._getCommOptionsViewConfigInfos()];this.views=this._convertViewConfigInfoCollectionToLookupValues(r)}_setControls(){const r=this.views.find(t=>t.value===this.params.viewElementName)||null;this.viewElementControl.setValue(r),this.cdr.detectChanges()}_getCommOptionsViewConfigInfos(){return this._designerSchemaService.getViewConfigInfoByProperty("type","crt.CommunicationOptions")}_convertViewConfigInfoCollectionToLookupValues(r){return r.map(t=>({value:t.viewConfig.name,displayValue:t.viewConfig.name}))}_subscribeViewControlChanges(){this._subscriptions.add(this._viewControlValueChanges$.subscribe(r=>{const t=r?.value;t!==this.params.viewElementName&&(t?this.params.viewElementName=t:delete this.params.viewElementName,this._valueChangesHandle())}))}_valueChangesHandle(){this.paramsChange.emit(this.params),this.cdr.detectChanges()}translate(r){return this.translateService.instant(`${this.translatePrefix}.${r}`)}ngOnInit(){setTimeout(()=>{this._subscribeViewControlChanges(),this.params=this.params||{},this._initializeData(),this._setControls()})}ngOnDestroy(){this._subscriptions.unsubscribe()}};Vt.\u0275fac=function(r){return new(r||Vt)(e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},Vt.\u0275cmp=e.\u0275\u0275defineComponent({type:Vt,selectors:[["crt-add-communication-options-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:4,consts:[["cdkScrollable","",1,"properties-panel-wrap"],["labelPosition","above",1,"control",3,"items","useStaticFiltering","control","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-combobox",1),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("ViewSelectCaption")),e.\u0275\u0275property("items",t.views)("useStaticFiltering",!0)("control",t.viewElementControl))},dependencies:[s.CrtComboBoxComponent,x.CdkScrollable],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{width:100%;display:block}"]}),Vt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.AddCommunicationOptionsRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[_.DesignerSchemaService,e.Injector,e.ChangeDetectorRef])],Vt);let At=class extends L{constructor(r){super(r),this.translatePrefix="InterfaceDesigner.PropertiesPages.AllowedResultsPropertiesPage"}};At.\u0275fac=function(r){return new(r||At)(e.\u0275\u0275directiveInject(e.Injector))},At.\u0275cmp=e.\u0275\u0275defineComponent({type:At,selectors:[["crt-allowed-results-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:4,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[1,"properties-form",3,"formGroup"],[3,"simpleTitle"],[3,"formGroup"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2)(3,"crt-properties-panel-visibility-settings",3)(4,"crt-properties-panel-advanced-settings",3),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),At=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.AllowedResultsPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector])],At);var Qa=T(13098);class cn{constructor(r,t){this._appearanceSettingsService=r,this._translateService=t,this._translatePrefix="InterfaceDesigner.PropertiesPages.AppearanceSettingsPropertyPanel",this._destroyed$=new d.Subject,this.modalSizeOptions=[{icon:"button-size-s-icon",value:g.ModalSize.Small,caption:"S"},{icon:"button-size-m-icon",value:g.ModalSize.Medium,caption:"M"},{icon:"button-size-l-icon",value:g.ModalSize.Large,caption:"L"},{icon:"button-size-xl-icon",value:g.ModalSize.ExtraLarge,caption:"XL"}],this.formGroup=new p.FormGroup({size:new p.FormControl(g.ModalSize.Medium)})}_setFormGroup(r){r?.modalSettings?.size===g.ModalSize.None&&(r.modalSettings.size=g.ModalSize.Medium),this.formGroup.patchValue(r.modalSettings)}_getAppearanceSettingsInfo(){var r=this;return(0,k.Z)(function*(){return(0,y.isEmpty)(r._appearanceSettingsInfo)&&(r._appearanceSettingsInfo=yield(0,d.lastValueFrom)(r._appearanceSettingsService.getAppearanceSettings())),r._appearanceSettingsInfo})()}getControl(r){return this.formGroup?.get(r)}translate(r){return this._translateService.instant(`${this._translatePrefix}.${r}`)}ngOnInit(){var r=this;return(0,k.Z)(function*(){const t=yield r._getAppearanceSettingsInfo();t&&r._setFormGroup(t),r.formGroup.valueChanges.pipe((0,c.takeUntil)(r._destroyed$)).subscribe(n=>{r._appearanceSettingsService.setAppearanceSettings({modalSettings:n})})})()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}cn.\u0275fac=function(r){return new(r||cn)(e.\u0275\u0275directiveInject(Qa.DesignTimeAppearanceSettingsStoreService),e.\u0275\u0275directiveInject(P.TranslateService))},cn.\u0275cmp=e.\u0275\u0275defineComponent({type:cn,selectors:[["crt-appearance-settings-properties-panel"]],decls:1,vars:3,consts:[["data-item-marker","buttonSize",1,"control","size-control",3,"items","control","label"]],template:function(r,t){r&1&&e.\u0275\u0275element(0,"crt-icon-radio-button",0),r&2&&(e.\u0275\u0275propertyInterpolate("label",t.translate("ButtonSizeFieldLabel")),e.\u0275\u0275property("items",t.modalSizeOptions)("control",t.getControl("size")))},dependencies:[s.CrtIconRadioButtonComponent],styles:[`crt-appearance-settings-properties-panel .size-control .crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .crt-icon-radio-item.icon-radio-item .radio-icon-wrap .radio-icon.mat-icon{width:32px;height:32px;padding:0}crt-appearance-settings-properties-panel .size-control .crt-icon-radio-button svg text{direction:initial}
`],encapsulation:2,changeDetection:0});class xn extends L{set config(r){super.config=r,this._applySelectedProperties(r)}constructor(r,t,n,a,i){super(i),this.designerEntityService=r,this.designerSchemaService=t,this.designerEntityDataSourceService=n,this.approvalSchemaService=a,this.injector=i,this.allSchemas=[],this.isLoading=!1,this.entitySchemas=[]}_applySelectedProperties(r){this._getLoadSchemasObservable().subscribe(()=>{const t=r.itemConfig.entityName||this.pdsEntityName,n=this.entitySchemas.find(a=>a.value===t);this.getControl("entityName").setValue(n||null)})}_getLoadSchemasObservable(){return this.entitySchemas.length===0?this._loadSchemas():(0,d.of)(void 0)}_loadSchemas(){return this.designerEntityService.getAvailableReferenceSchemas().pipe((0,d.map)(r=>{this.allSchemas=r,this.entitySchemas=this.allSchemas.map(t=>({value:t.name,displayValue:t.caption}))}))}_getPrimaryDataSource(r){if(!r||r.length===0)return null;const t=this.designerSchemaService.getPrimaryDataSourceName();return t?r.find(n=>n.dataSourceName===t):r[0]}_handleSchemaChange(){this.getControl("entityName").valueChanges.pipe((0,d.map)(r=>{const t=r?.value;t&&this.approvalSchemaService.getApprovalSchemaName(t).subscribe(n=>{this.approvalConfig=n,this.getControl("approvalEntityName").setValue(n.entityName)}),this.pdsEntityName=t}),(0,d.takeUntil)(this.destroyed$)).subscribe()}getPropertiesConfig(){return{...super.getPropertiesConfig(),entityName:{path:"itemConfig.entityName",dataValueType:l.DataValueType.Lookup,options:{items:this.entitySchemas,controlInitialConfig:{validatorOrOpts:[p.Validators.required]}}},approvalEntityName:{path:"itemConfig.approvalEntityName",dataValueType:l.DataValueType.Text}}}loadData(r){return this._handleSchemaChange(),this.designerEntityDataSourceService.getDataSources$().pipe((0,d.switchMap)(t=>{const n=this._getPrimaryDataSource(t);return this.primaryDataSourceName=n?.dataSourceName,n?n.getSchema():(0,d.of)(null)}),(0,d.map)(t=>{this.pdsEntityName=t?.dataSourceConfig?.config?.entitySchemaName}),(0,d.switchMap)(()=>this._getLoadSchemasObservable()),(0,d.switchMap)(()=>super.loadData(r)))}}xn.\u0275fac=function(r){return new(r||xn)(e.\u0275\u0275directiveInject(m.DesignerEntityService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(m.DesignerEntityDataSourceService),e.\u0275\u0275directiveInject(s.ApprovalSchemaService),e.\u0275\u0275directiveInject(e.Injector))},xn.\u0275dir=e.\u0275\u0275defineDirective({type:xn,features:[e.\u0275\u0275InheritDefinitionFeature]});let Ot=class extends xn{constructor(r,t,n,a,i,u){super(r,t,n,a,u),this.designerApprovalSchemaService=i,this.injector=u,this.translatePrefix="InterfaceDesigner.PropertiesPages.ApprovalListPropertiesPage"}_getViewModelItemsAttributeName(){const r=this._viewItemConfig?.items?.toString();return r?.startsWith("$")?r.slice(1):r}_getDataSourceEntitySchemaName(){return this.designerEntityDataSourceService.getDataSources$().pipe((0,d.map)(r=>r.find(t=>t.dataSourceName===this.dataSourceName)),(0,d.mergeMap)(r=>r?r.getSchema():(0,d.of)(null)),(0,d.map)(r=>r?.name))}loadData(r){return this._viewItemConfig=r.itemConfig,this._dataGridItemsAttributeName=this._getViewModelItemsAttributeName(),this.dataSourceName=this.designerSchemaService.getMappedDataSourceAttributePath(this._dataGridItemsAttributeName),(this.dataSourceName?this._getDataSourceEntitySchemaName():(0,d.of)(null)).pipe((0,d.tap)(n=>{this.getControl("approvalEntityName").setValue(n),this._approvalEntityName=n}),(0,d.switchMap)(()=>super.loadData(r)))}emitChanges(r){var t=()=>super.emitChanges,n=this;return(0,k.Z)(function*(){const a=n.getControl("approvalEntityName")?.value;if(a&&a!==n._approvalEntityName)n._approvalEntityName=a,n.dataSourceName=void 0;else{const i=r.filter(({value:u})=>u!==null);i.length>0&&t().call(n,i)}})()}};Ot.\u0275fac=function(r){return new(r||Ot)(e.\u0275\u0275directiveInject(m.DesignerEntityService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(m.DesignerEntityDataSourceService),e.\u0275\u0275directiveInject(s.ApprovalSchemaService),e.\u0275\u0275directiveInject(m.DesignerApprovalSchemaService),e.\u0275\u0275directiveInject(e.Injector))},Ot.\u0275cmp=e.\u0275\u0275defineComponent({type:Ot,selectors:[["crt-approval-list-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:9,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],["expanded","true","togglePosition","after","toggleType","material",3,"title","extraStyles"],["labelPosition","above",1,"control",3,"control","label","items","readonly"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1)(2,"crt-properties-panel-header"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"crt-expansion-panel",2),e.\u0275\u0275element(5,"crt-combobox",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("HeaderLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("GeneralGroup"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("SchemaNameLabel")),e.\u0275\u0275property("control",t.getControl("entityName"))("items",t.entitySchemas)("readonly",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,D,F],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"],changeDetection:0}),Ot=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ApprovalListPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[m.DesignerEntityService,_.DesignerSchemaService,m.DesignerEntityDataSourceService,s.ApprovalSchemaService,m.DesignerApprovalSchemaService,e.Injector])],Ot);let kt=class extends xn{constructor(r,t,n,a,i){super(r,t,n,a,i),this.injector=i,this.translatePrefix="InterfaceDesigner.PropertiesPages.ApprovalPropertiesPage"}get hiddenWhenNoData(){const r=this.getControl("hiddenWhenNoData");return r?.value==null&&r.setValue(!0),r.value}getPropertiesConfig(){return{...super.getPropertiesConfig(),hiddenWhenNoData:{path:"itemConfig.hiddenWhenNoData",dataValueType:l.DataValueType.Boolean}}}onHiddenWhenNoDataChange(r){this.getControl("hiddenWhenNoData").setValue(r.checked)}};kt.\u0275fac=function(r){return new(r||kt)(e.\u0275\u0275directiveInject(m.DesignerEntityService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(m.DesignerEntityDataSourceService),e.\u0275\u0275directiveInject(s.ApprovalSchemaService),e.\u0275\u0275directiveInject(e.Injector))},kt.\u0275cmp=e.\u0275\u0275defineComponent({type:kt,selectors:[["crt-approval-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:9,vars:13,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],["expanded","true","togglePosition","after","toggleType","material",3,"title","extraStyles"],["labelPosition","above",1,"control",3,"control","label","items","readonly"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],["data-item-marker","editable",3,"default","title","toggleChange"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1)(2,"crt-properties-panel-header"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"crt-expansion-panel",2),e.\u0275\u0275element(5,"crt-combobox",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"crt-expansion-panel",4)(7,"crt-slide-toggle",5),e.\u0275\u0275listener("toggleChange",function(a){return t.onHiddenWhenNoDataChange(a)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(8,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("HeaderLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("GeneralGroup"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("SchemaNameLabel")),e.\u0275\u0275property("control",t.getControl("entityName"))("items",t.entitySchemas)("readonly",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("AppearanceGroup"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("HiddenWhenNoData")),e.\u0275\u0275property("default",t.hiddenWhenNoData),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,E.SlideToggleComponent,D,F],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"],changeDetection:0}),kt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ApprovalPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[m.DesignerEntityService,_.DesignerSchemaService,m.DesignerEntityDataSourceService,s.ApprovalSchemaService,e.Injector])],kt);const go={"crt.OpenPageRequest":"DisableOpenPageRequest"},Jn={"crt.AddTagsInRecordsRequest":"UseMassTaggingInDataGrid","crt.RemoveTagsInRecordsRequest":"UseMassTaggingInDataGrid","crt.AddRecordsInStaticFoldersRequest":"IsAllowUseStaticFolders","crt.RemoveRecordsInStaticFoldersRequest":"IsAllowUseStaticFolders"};class Q{constructor(r,t){this._translateService=r,this._featureService=t}static setRequestsFilter(r){this._filterFn=r}_getAvailableRequests(r,t,n){const a=new Array;return l.RequestRegistryService.requestsRegistrationInfos.forEach(i=>{const u=this._getRequestAllowed(i.type,t,n),h=!Q._filterFn||Q._filterFn(i);u&&h&&i.title&&this._matchScope(i,r)&&a.push({value:i.type,displayValue:this._translateService.instant(i.title),propertiesPanelComponentTypeName:i.propertiesPanelComponentTypeName})}),a.sort((i,u)=>i.value?.localeCompare(u.value)),(0,d.of)(a)}_getRequestAllowed(r,t,n){return!t.includes(r)&&this._isEnabledRequest(r,n)}_isEnabledRequest(r,t){return Object.keys(Jn).includes(r)&&t.includes(r)||!Object.keys(Jn).includes(r)}_matchScope(r,t){const n=t.map(a=>a.name);return!r.scopes?.length||r.scopes?.some(a=>n.includes(a))}_getStateOfRequests(r,t){const n=Object.keys(t);return n.filter(a=>r[n.indexOf(a)])}_sortByPosition(r){const t=l.RequestRegistryService.requestsRegistrationInfos;return[...r].map(n=>{const a=t.get(n.value);return{...n,position:a?.position??Number.POSITIVE_INFINITY}}).sort((n,a)=>n.position-a.position).map(n=>(0,y.omit)(n,"position"))}getRequests(r){const t=this._featureService.getFeaturesState(Object.values(go)),n=this._featureService.getFeaturesState(Object.values(Jn));return(0,d.forkJoin)(t,n).pipe((0,c.switchMap)(([a,i])=>this._getAvailableRequests(r,this._getStateOfRequests(a,go),this._getStateOfRequests(i,Jn))),(0,c.map)(a=>this._sortByPosition(a)))}}Q.\u0275fac=function(r){return new(r||Q)(e.\u0275\u0275inject(P.TranslateService),e.\u0275\u0275inject(B.FeatureService))},Q.\u0275prov=e.\u0275\u0275defineInjectable({token:Q,factory:Q.\u0275fac});function Ha(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0,4,5),e.\u0275\u0275listener("viewElementShow",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.onRequestParamsPanelShow(a))}),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("crtViewElement",t.propertiesPanelViewConfig)}}function Ja(o,r){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"crt-combobox",2),e.\u0275\u0275template(3,Ha,2,1,"ng-container",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",t.translate("InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.EventFieldLabel")),e.\u0275\u0275property("control",t.actionControl)("items",t.requests)("useStaticFiltering",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.propertiesPanelComponentTypeName)}}class Ee extends W{constructor(r,t,n){super(),this._translateService=r,this._cdr=t,this._eventPropertiesPanelService=n,this._subscription=new d.Subscription,this._requestParamsChangesSubscription=new d.Subscription,this.actionControl=new p.FormControl,this.isLoading=!1,this.propertiesPanelViewConfig={},this._findAction=a=>{if(!a)return null;let i=this.requests?.find(u=>u.value===a);if(!i){const u="InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.ExecuteCustomCode";i={displayValue:this.translate(u),value:a}}return i},this._actionControlValueChanges$=this.actionControl.valueChanges.pipe()}_onPropertiesPanelChanged(r){this.params={request:this.actionControl.value?.value,params:{...r}},this._formControlChangesHandle(this.actionControl.value)}_formControlChangesHandle(r){this._onChange(this.params),this._setPropertiesPanelComponentTypeName(r?.value),this.isLoading=!1,this._cdr.detectChanges()}_resetState(){const r={emitEvent:!1};this.actionControl.setValue(null,r),this.propertiesPanelComponentTypeName=null,this.propertiesPanelViewConfig=null,this.isLoading=!0,this._cdr.detectChanges()}_setPropertiesPanelComponentTypeName(r){const t=l.RequestRegistryService.requestsRegistrationInfos.get(r)?.propertiesPanelComponentTypeName;this.propertiesPanelComponentTypeName!==t&&(this.propertiesPanelComponentTypeName=null,this._cdr.detectChanges(),this.propertiesPanelViewConfig={type:t,params:this.params?.params,config:this.config},this.propertiesPanelComponentTypeName=t,this._cdr.detectChanges())}_setControls(r){this._subscription?.unsubscribe(),this._subscription=new d.Subscription,this._subscription.add(this._getRequests$.subscribe(()=>{this.actionControl.setValue(this._findAction(r?.request)),this._cdr.detectChanges(),this._subscription.add(this._actionControlValueChanges$.subscribe(t=>{this.params={request:t?.value},this._formControlChangesHandle(t)}))})),this.params={...r},this._setPropertiesPanelComponentTypeName(r?.request),this._cdr.detectChanges()}writeValue(r){this._resetState(),this._setControls(r)}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}translate(r){return this._translateService.instant(r)}onRequestParamsPanelShow(r){this._requestParamsChangesSubscription?.unsubscribe();const t=r?.componentRef?.instance;this._requestParamsChangesSubscription=t?.paramsChange.subscribe(n=>{this._onPropertiesPanelChanged(n)})}ngOnInit(){this._getRequests$=this._eventPropertiesPanelService.getRequests(this.config.parentSchemas).pipe((0,c.tap)(r=>{this.requests=r}))}ngOnDestroy(){this._subscription?.unsubscribe(),this._requestParamsChangesSubscription?.unsubscribe()}}Ee.\u0275fac=function(r){return new(r||Ee)(e.\u0275\u0275directiveInject(P.TranslateService),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(Q))},Ee.\u0275cmp=e.\u0275\u0275defineComponent({type:Ee,selectors:[["crt-view-element-event-properties-panel"]],features:[e.\u0275\u0275ProvidersFeature([{provide:p.NG_VALUE_ACCESSOR,useExisting:(0,e.forwardRef)(()=>Ee),multi:!0}]),e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[4,"ngIf"],[1,"view-element-event-properties-panel","properties-panel-wrap"],["labelPosition","above",1,"control",3,"control","label","items","useStaticFiltering"],[3,"crtViewElement","viewElementShow",4,"ngIf"],[3,"crtViewElement","viewElementShow"],["propertiesPanel",""]],template:function(r,t){r&1&&e.\u0275\u0275template(0,Ja,4,5,"ng-container",0),r&2&&e.\u0275\u0275property("ngIf",t.requests)},dependencies:[f.NgIf,s.CrtComboBoxComponent,V.ViewElementDirective],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .view-element-event-properties-panel[_ngcontent-%COMP%]{width:100%;display:block}"],changeDetection:0});let Lt=class extends L{constructor(r){super(r),this.injector=r,this.translatePrefix="InterfaceDesigner.PropertiesPages.BaseCustomPropertiesPanel",this.openSourceCodeIcon="open-source-code-button",Q.setRequestsFilter(null)}onOpenSourceCode(){this.action$.emit({type:m.ActionType.OpenSourceCode})}};Lt.\u0275fac=function(r){return new(r||Lt)(e.\u0275\u0275directiveInject(e.Injector))},Lt.\u0275cmp=e.\u0275\u0275defineComponent({type:Lt,selectors:[["crt-base-custom-element-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:9,vars:9,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],["shape","rounded","color","primary","data-item-marker","openSourceCode",3,"caption","icon","clicked"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3)(4,"crt-label"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"crt-button",4),e.\u0275\u0275listener("clicked",function(){return t.onOpenSourceCode()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(7,"crt-properties-panel-visibility-settings",1)(8,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("Description")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("caption",t.translate("OpenSourceCodeButtonCaption")),e.\u0275\u0275property("icon",t.openSourceCodeIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[s.CrtButtonComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{margin:10px auto}[_nghost-%COMP%]   crt-label[_ngcontent-%COMP%]{margin-top:8px}"],changeDetection:0}),Lt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.BaseCustomElementPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector])],Lt);class Nt{constructor(r){this._materialIconsRegistrator=r,this._materialIconsRegistrator.addIcons([{name:"open-source-code-button",icon:T(27519)}])}}Nt.\u0275fac=function(r){return new(r||Nt)(e.\u0275\u0275inject(E.MaterialIconsRegistrator))},Nt.\u0275mod=e.\u0275\u0275defineNgModule({type:Nt}),Nt.\u0275inj=e.\u0275\u0275defineInjector({providers:[Q],imports:[V.ViewModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Nt,{imports:[V.ViewModule]})}();const Za=function(o){return{name:"test",type:o,isEmbedded:!0}};function Ka(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0,18,19),e.\u0275\u0275listener("viewElementShow",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onDsAttributePropertiesPanelShow(a))}),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("crtViewElement",e.\u0275\u0275pureFunction1(1,Za,t.propertiesComponentTypeName))}}function Xa(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getBindToDataSourceErrorMessage())}}class Ya{isErrorState(r,t){return r.invalid}}let J=class extends L{get disableBlockingSystemColumns(){return this.featureValues?.DisableBlockingSystemColumns??!1}get readOnlyControlName(){return"readonly"}get getTitle(){return this._lczToString.transform(this._getNotEmptyLocalizations(this.title))||this.titleInDSAttribute}get propertiesComponentTypeName(){return this._propertiesComponentTypeName}set propertiesComponentTypeName(r){this._propertiesComponentTypeName!==r&&(this._propertiesComponentTypeName=null,this.changeDetector.detectChanges(),this._propertiesComponentTypeName=r,this.changeDetector.detectChanges())}set dsElementProperties(r){if(r){const t=this._getDsPropertiesComponentTypeByElementProperties(r);t===this.propertiesComponentTypeName?this._updateDsAttributePropertiesData(r):(this.propertiesComponentTypeName=t,this._loadDsAttributePropertiesData(r))}else this.propertiesComponentTypeName=null}constructor(r,t,n,a,i,u,h,b){super(r),this.injector=r,this._structureExplorer=t,this._designerSchemaService=n,this._lczToString=a,this._designerDataSourceManager=i,this._attributeConfigProvider=u,this._matIconRegistry=h,this._domSanitizer=b,this.translatePrefix="PropertiesPages.BaseInputPropertiesPanel",this.bindingAttributePath="control",this.featureValues=(0,e.inject)(g.FEATURE_VALUES,{optional:!0}),this.bindToDataSource=new p.FormControl("",[this._bindToDataSourceValidator.bind(this)]),this.anyErrorStateMatcher=new Ya,this.dsAttributeComponentRef$=new d.ReplaySubject(1),this._registerSelectDSIcon()}_setConfigAndSubscribeOnDsAttributeEvents(r){this._dsAttributePropertiesSubscription?.unsubscribe(),this.dsAttributeComponentRef$&&(this._dsAttributePropertiesSubscription=this.dsAttributeComponentRef$.pipe((0,c.first)(t=>Boolean(t)),(0,c.tap)(t=>{t.setPropertyValue("config",r),this._dsAttributePropertiesSubscription=new d.Subscription,t.on("changed$",n=>this._onDSAttributePropertiesChanged(n,r))})).subscribe())}_getNotEmptyLocalizations(r){return r?new g.LocalizableStringArray(r.filter(t=>t.value)):null}_onDSAttributePropertiesChanged(r,t){const n=r.changes?.find(a=>a.path==="caption");n&&(this.titleInDSAttribute=this._lczToString.transform(this._getNotEmptyLocalizations(n.value))),this.changed$.next(r)}_updateDsAttributePropertiesData(r){this._setConfigAndSubscribeOnDsAttributeEvents(r)}_loadDsAttributePropertiesData(r){!r||this._setConfigAndSubscribeOnDsAttributeEvents(r)}_getDsPropertiesComponentTypeByElementProperties(r){return r?.itemConfig?.propertiesPanelComponentTypeName}_emitElementBindingChange(r){const t=r?r.metaPath:"";this.changed$.next({type:_.DesignType.ViewElementBinding,name:this.config.itemConfig.name,changes:[{path:this.bindingAttributePath,value:t,useForBinding:!0},{path:"readOnlyConfig",value:{[this.readOnlyControlName]:this._readOnlyPropertyValue}}],elementProperties:{type:_.DesignType.ViewElementBinding}})}_getDataSourceAttributeItemConfig(r,t,n,a){return{dataSourceName:n,dataSourceAttributeName:r.path,dataSourceType:g.DataSourceType[Object.keys(g.DataSourceType).find(i=>g.DataSourceType[i]===t.dataSourceConfig.type)],propertiesPanelComponentTypeName:r.attributeType===l.DataSchemaAttributeType.OwnAttribute?a.propertiesPanelComponentTypeName:a.forwardReferencePropertiesPanelComponentTypeName,propertiesPanelDataProviderToken:a.propertiesPanelDataProviderToken}}_setDSElementProperties(r,t,n,a){if(r){const i=a.attributeConfigProvider.getConfigByType(r.dataValueType),u=this._getDataSourceAttributeItemConfig(r,t,n,i);this.dsElementProperties={metaItemType:i.controlType,mode:m.MetaItemDesignerOpeningState.Edit,itemConfig:u,type:_.DesignType.DataSourceAttribute},this.titleInDSAttribute=r.caption}else this._setPropertiesForNotBoundControl()}_getDataSchemaAttribute(r,t,n){let a=r?.attributes.find(i=>i.path===t);if(!a){const i=this._designerSchemaService.getDataSourceConfigAttributePath(n,t);i&&(a=r?.attributes.find(u=>u.path===i))}return a}_getSchemaDataForLoad(r,t,n){const a=r.dataSource;return(a?a.getSchema().pipe((0,c.take)(1)):(0,d.of)(null)).pipe((0,c.mergeMap)(u=>{const h=this._getDataSchemaAttribute(u,t,n);return h?this._designerDataSourceManager.getDataSourceServiceByDataSourceName(`${a.dataSourceName}`).pipe((0,c.mergeMap)(b=>b.getForwardReferenceAttributeCaptionByPath$(`${a.dataSourceName}.${h.path}`)),(0,c.map)(b=>({dataSchema:u,dataSchemaAttribute:h,caption:b,designerService:r.designerService}))):(0,d.of)({dataSchema:u,dataSchemaAttribute:h,caption:"",designerService:r.designerService})}))}_getReadOnlyControl(){return this.getControl(this.readOnlyControlName)}_getStructureExplorerDataProviderConfig(r){const n=r.mappingData?.value,a=r.itemConfig.type;return{name:S.DATA_SOURCE_STRUCTURE_EXPLORER_DATA_PROVIDER_NAME,options:{selectedMetaPaths:n?[n]:[]},itemsCustomFilterFunction:i=>this.structureExplorerFilterFunc(i,a),relatedItemsCustomFilterFunction:i=>this.structureExplorerRelatedItemsFilterFunc(i,a)}}_setReadOnlyProperty(r){this._getReadOnlyControl().setValue(r,{onlySelf:!0})}_registerSelectDSIcon(){["attribute-path","lookup-icon","cross"].forEach(t=>{this._matIconRegistry.addSvgIconLiteral(t,this._domSanitizer.bypassSecurityTrustHtml(T(56049)("./"+t+".svg")))})}_setPropertiesForNotBoundControl(){this.dsElementProperties=null,this.titleInDSAttribute=null}_bindToDataSourceValidator(r){if(this._dataSourceAttributeNotFoundError&&r.value){const t=this.translate("DataSourceAttributeNotFoundErrorMessage");return{columnNotFoundError:wt.String.format(t,r.value)}}return null}_updateElementPropertiesFromDataSchemaAttribute(r,t){this._designerDataSourceManager.getDataSourceDesignInfoByName$(r).pipe((0,c.mergeMap)(n=>n?.dataSource?n.dataSource.getSchema().pipe((0,c.take)(1),(0,c.map)(a=>({dataSchema:a,designerService:n.designerService}))):(0,d.of)({dataSchema:null,designerService:null}))).subscribe(({dataSchema:n,designerService:a})=>{const i=n?.attributes.find(u=>u.path===t);this.disableReadOnlyProperty(i),this._setReadOnlyProperty(this._readOnlyPropertyValue),this._setDSElementProperties(i,n,r,a),this.changeDetector.detectChanges()})}structureExplorerFilterFunc(r,t){if(!r.data)return!0;const a=l.InterfaceDesignerItemRegistry.get(t).dataValueTypes||[];if(a.length===0)return!0;const i=r.data.item.dataValueType;return a.includes(i)}structureExplorerRelatedItemsFilterFunc(r,t){return!0}enableReadOnlyProperty(){this._getReadOnlyControl().enable({onlySelf:!0})}disableReadOnlyProperty(r){if(!r)return;const t=this.disableBlockingSystemColumns?!1:r.isSystem,n=r.attributeType===l.DataSchemaAttributeType.OwnAttribute;(t||!n)&&this._getReadOnlyControl().disable({onlySelf:!0})}emitChanges(r){super.emitChanges(r);const t=r.find(n=>n.path===`itemConfig.${this.readOnlyControlName}`);t&&(this._readOnlyPropertyValue=t.value)}getPropertiesConfig(){return{...super.getPropertiesConfig(),titleOnPage:{path:"itemConfig.label",dataValueType:l.DataValueType.LOCALIZABLE_STRING,isTitle:!0},[this.readOnlyControlName]:{path:`itemConfig.${this.readOnlyControlName}`,dataValueType:l.DataValueType.Boolean},labelPosition:{path:"itemConfig.labelPosition",dataValueType:l.DataValueType.Lookup,options:{items:[]},controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]}},placeholderValue:{path:"itemConfig.placeholder",dataValueType:l.DataValueType.LOCALIZABLE_STRING},tooltipValue:{path:"itemConfig.tooltip",dataValueType:l.DataValueType.LOCALIZABLE_STRING}}}getLabelPositionItems(){return[{value:"auto",displayValue:this.translate("LabelPositionVariants.Auto")},{value:"left",displayValue:this.translate("LabelPositionVariants.Left")},{value:"above",displayValue:this.translate("LabelPositionVariants.Above")},{value:"hidden",displayValue:this.translate("LabelPositionVariants.Hidden")}]}beforeSetControlValue(r,t,n){return t==="labelPosition"&&!r?this.getLabelPositionItems()?.find(({value:a})=>a==="auto"):t===this.readOnlyControlName&&!this.disableBlockingSystemColumns?this._readOnlyPropertyValue:super.beforeSetControlValue(r,t,n)}handleSelectedDataSource(r){this.enableReadOnlyProperty();const t=r.selectedItems[0];this.itemMetadata.mappingData={value:t?.metaPath,displayValue:t?.metaPathCaption},this._dataSourceAttributeNotFoundError=!1,this.bindToDataSource.setValue(t?.metaPathCaption);const n=t?t.metaPath.split("."):[];t?.data.item?.isSystem&&!this.disableBlockingSystemColumns?this._readOnlyPropertyValue=!0:this._readOnlyPropertyValue=n.length>2||this._readOnlyPropertyValue,this._emitElementBindingChange(t);const i=n.shift(),u=n.join(".");this._updateElementPropertiesFromDataSchemaAttribute(i,u)}loadData(r){this.setLookupItems("labelPosition",this.getLabelPositionItems());const t={...r},n=r.itemConfig;this._readOnlyPropertyValue=!!y.get(n,this.readOnlyControlName);const a=y.get(n,this.bindingAttributePath)?.toString();if(a?.startsWith("$")){const i=a.slice(1),u=this._designerSchemaService.getMappedDataSourceAttributePath(i);if(!u)return(0,d.of)(t);const h=u.split("."),b=h.shift(),O=h.join(".");return super.loadData(r).pipe((0,c.tap)(()=>this.enableReadOnlyProperty()),(0,c.mergeMap)(()=>this._designerDataSourceManager.getDataSourceDesignInfoByName$(b).pipe((0,c.mergeMap)(q=>this._getSchemaDataForLoad(q,O,b)),(0,c.map)(({dataSchema:q,dataSchemaAttribute:ee,caption:en,designerService:wn})=>(ee?(this._dataSourceAttributeNotFoundError=!1,this.bindToDataSource.setValue(en),t.mappingData={value:`${b}.${ee.path}`,displayValue:en},ee.isSystem&&!this.disableBlockingSystemColumns&&(this._readOnlyPropertyValue=!0)):(this._dataSourceAttributeNotFoundError=!0,this.bindToDataSource.setValue(u)),this.disableReadOnlyProperty(ee),this._setReadOnlyProperty(this._readOnlyPropertyValue),this._setDSElementProperties(ee,q,b,wn),this.changeDetector.detectChanges(),t)))))}else return this._setPropertiesForNotBoundControl(),(0,d.of)(t)}getBindToDataSourceErrorMessage(){return this.bindToDataSource.invalid?this.bindToDataSource.errors.columnNotFoundError:""}onSelectDataSourceClick(){const r=this._getStructureExplorerDataProviderConfig(this.itemMetadata);this._structureExplorer.show({providers:[r],enableMultiSelection:!1,returnDialogResult:!0}).pipe((0,c.filter)(t=>t?.dialogResult===Dn.StructureExplorerDialogResult.Selected)).subscribe(t=>this.handleSelectedDataSource(t))}onDsAttributePropertiesPanelShow(r){this.dsAttributeComponentRef$.next(r.componentRef)}ngOnDestroy(){this._dsAttributePropertiesSubscription?.unsubscribe()}};J.\u0275fac=function(r){return new(r||J)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(z.StructureExplorerService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(g.LczToStringPipe),e.\u0275\u0275directiveInject(m.DesignerDataSourceManager),e.\u0275\u0275directiveInject(_.AttributeConfigProvider),e.\u0275\u0275directiveInject(I.MatIconRegistry),e.\u0275\u0275directiveInject(te.DomSanitizer))},J.\u0275cmp=e.\u0275\u0275defineComponent({type:J,selectors:[["ts-base-input-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:33,vars:31,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[3,"crtViewElement","viewElementShow",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"crt-control-form-field-wrapper"],[3,"control","labelPosition","label"],[3,"formGroup"],[3,"items","useStaticFiltering","control","labelPosition","label"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","label"],["titleOnPage",""],["placeholder",""],["tooltip",""],["floatLabel","always",1,"form-field-wrapper","bind-to-data-source"],["matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl","errorStateMatcher"],["svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[4,"ngIf"],[3,"crtViewElement","viewElementShow"],["DataSourceAttributePropertiesPanel",""]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275template(2,Ka,2,3,"ng-container",2),e.\u0275\u0275elementStart(3,"form",3)(4,"crt-expansion-panel",4)(5,"div",5),e.\u0275\u0275element(6,"crt-checkbox",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(7,"crt-properties-panel-visibility-settings",7),e.\u0275\u0275elementStart(8,"crt-expansion-panel",4)(9,"div",5),e.\u0275\u0275element(10,"crt-combobox",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-form-field",9)(12,"mat-label"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"ts-localizable-text-input",10,11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"mat-form-field",9)(17,"mat-label"),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"ts-localizable-text-input",10,12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"mat-form-field",9)(22,"mat-label"),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"ts-localizable-text-input",10,13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"crt-properties-panel-advanced-settings",7)(27,"mat-form-field",14)(28,"mat-label"),e.\u0275\u0275text(29),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(30,"input",15),e.\u0275\u0275elementStart(31,"mat-icon",16),e.\u0275\u0275listener("click",function(){return t.onSelectDataSourceClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(32,Xa,2,1,"mat-error",17),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.getTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.propertiesComponentTypeName),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("Editability")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("readonly"))("labelPosition","right")("label",t.translate("EditabilityControls.Readonly")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.getLookupItems("labelPosition"))("useStaticFiltering",!0)("control",t.getControl("labelPosition"))("labelPosition","above")("label",t.translate("LabelPosition")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("TitleOnPage")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","titleOnPage")("label",t.translate("TitleOnPage")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",t.translate("Placeholder")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","placeholderValue")("label",t.translate("Placeholder")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",t.translate("Tooltip")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","tooltipValue")("label",t.translate("Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.translate("BindToDataSourceCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("readonly",!0)("formControl",t.bindToDataSource)("errorStateMatcher",t.anyErrorStateMatcher),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.bindToDataSource.invalid))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,p.FormControlName,V.ViewElementDirective,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),J=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.BaseInputPropertiesPanelComponent",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,z.StructureExplorerService,_.DesignerSchemaService,g.LczToStringPipe,m.DesignerDataSourceManager,_.AttributeConfigProvider,I.MatIconRegistry,te.DomSanitizer])],J);const $a=function(o){return{rowId:o}},ei=function(o){return{$implicit:o}};function ti(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",8,9),e.\u0275\u0275listener("focused",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.setFocusedRow(a.rowId))})("blurred",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.setFocusedRow(null))})("click",function(a){return a.stopPropagation()})("menuClosed",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.setFocusedRow(null))}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275reference(1),n=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("crt-toolbar-visible",(t==null?null:t.menuOpen)||n.rowId===i.focusedRowId),e.\u0275\u0275property("crtMenuTriggerFor",a)("crtMenuTriggerData",e.\u0275\u0275pureFunction1(10,ei,e.\u0275\u0275pureFunction1(8,$a,n.rowId)))("iconPosition","only-icon")("icon","actions-button-icon")("disableRipple",!0)("size",i.buttonSize)}}function ri(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",4),e.\u0275\u0275template(1,ti,2,12,"crt-button",5),e.\u0275\u0275element(2,"crt-menu",6,7),e.\u0275\u0275elementEnd()),o&2){const t=r.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("menuItems",n.rowMenuItems)}}class be{get _resources(){return this._designerSchemaService.resources}constructor(r,t,n,a,i,u,h,b){this._translateService=r,this._designerContainerService=t,this._designerSchemaService=n,this._resourceFinderService=a,this._cdr=i,this.injector=u,this._viewItemCommandExecutor=h,this._openPanelAnimationService=b,this._translatePrefix="InterfaceDesigner.PropertiesPages.MenuItemsContainerPropertiesPanel",this._cellClicked=new e.EventEmitter,this._destroyed$=new d.Subject,this.columns=[{id:"caption",code:"caption",caption:"Caption",dataValueType:l.DataValueType.Text,cellView:{linkable:{mode:"preventDefault",clicked:this._cellClicked}}}],this.features={rows:{hierarchical:!0,selection:!1},header:{visible:!1},cells:{selection:!1}},this.rowMenuItems=[{caption:this.translate("ContextMenu.AddToSubmenu"),icon:"plus-icon",code:"add",type:"action",handler:O=>{this.onAddMenuItem(O.rowId)}},{caption:this.translate("ContextMenu.Edit"),code:"edit",icon:"pen-icon",type:"action",handler:({rowId:O})=>{this.onCellClick({name:O})}},{caption:this.translate("ContextMenu.Copy"),code:"copy",icon:"copy-icon",type:"action",handler:O=>{this._onCopyClick(O.rowId)}},{caption:this.translate("ContextMenu.Delete"),code:"remove",icon:"delete-icon",type:"action",handler:O=>{this._onRemoveClick(O.rowId)}}],this.items=[],this.buttonSize=S.SizeEnum.Medium,this._subscribeCellClicked()}_subscribeCellClicked(){this._cellClicked.subscribe(r=>{this.onCellClick(r.payload)})}_resetState(){this.items=[],this._cdr.detectChanges()}_getCaptionByResource(r){return this._resourceFinderService.findValueFromResource(r,this._resources)||r}_prepareItems(r,t=null){const n=[];return r?.forEach(a=>{const i=this._getCaptionByResource(a.caption),u=this._prepareItems(a.items,a.name);n.push({...(0,y.omit)(a,"items"),parentName:t,caption:i},...u)}),n}_setControls(r=[]){this.items=this._prepareItems(r),this._cdr.detectChanges()}_getItemName(r){return r.name||r.itemConfig?.name}_getContentSlot(r){const t=(0,g.getViewElementContentSlots)(r);return t.length===1?t[0]:"items"}_createCollection(r,t){return r[t]||(r[t]=[],this._designerSchemaService.update({itemConfig:r})),r}_prepareNewMenuItem(r){const t=r||this.config.itemConfig.name;let n=this.propertyName,{viewConfig:a}=this._designerSchemaService.getViewConfigInfoByName(t);r&&(n=this._getContentSlot(a.type)),a=this._createCollection(a,n);const i=r||this._getItemName(this.config),u=a[n]?.length||0;return{defaultConfig:{type:"crt.MenuItem",defaultPropertyValues:{caption:""},defaultLocalizableStrings:{caption:"Components.MenuItem.Caption"}},parentName:i,propertyName:n,index:u}}_onRemoveClick(r){this._viewItemCommandExecutor.remove({name:r}).pipe((0,c.take)(1),(0,c.switchMap)(t=>t.execute()),(0,c.takeUntil)(this._destroyed$)).subscribe(()=>{this._updateDataTree()})}_onCopyClick(r){const{index:t}=this._designerSchemaService.getViewConfigInfoByName(r),n={viewElement:{name:r},index:t+1,copyMetadata:{applyPostfix:{caption:{translationKey:`${this._translatePrefix}.CopyPostfix`}}}};this._viewItemCommandExecutor.copy(n).pipe((0,c.take)(1),(0,c.switchMap)(a=>a.execute())).subscribe(({copiedViewElement:a})=>{a&&this._openMenuItemPanel(a.name,m.MetaItemDesignerOpeningState.Add)})}_updateDataTree(){const r=this._getItemName(this.config),{viewConfig:t}=this._designerSchemaService.getViewConfigInfoByName(r),n=t[this.propertyName];this._onChange(n),this._setControls(n)}_setOpenPanelAnimationMode(){this._openPanelAnimationService.animationMode$.next("forward")}_openMenuItemPanel(r,t){this._setOpenPanelAnimationMode(),this._designerContainerService.select(r,t)}writeValue(r){this._resetState(),this._setControls(r)}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}translate(r){return this._translateService.instant(`${this._translatePrefix}.${r}`)}onEditMenuItem(r){this._openMenuItemPanel(r.name)}onAddMenuItem(r){const t=this._prepareNewMenuItem(r),n=this._designerSchemaService.create(t);this._openMenuItemPanel(n.name,m.MetaItemDesignerOpeningState.Add)}onCellClick(r){const t=r.name,{viewConfig:n}=this._designerSchemaService.getViewConfigInfoByName(t);this.onEditMenuItem(n)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}setFocusedRow(r){this.focusedRowId=r}}be.\u0275fac=function(r){return new(r||be)(e.\u0275\u0275directiveInject(P.TranslateService),e.\u0275\u0275directiveInject(m.DesignerContainerService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(g.ResourceFinderService),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(m.ViewItemCommandExecutor),e.\u0275\u0275directiveInject(m.OpenPanelAnimationService))},be.\u0275cmp=e.\u0275\u0275defineComponent({type:be,selectors:[["crt-menu-items-container-properties-panel"]],inputs:{title:"title",rowMenuItems:"rowMenuItems",propertyName:"propertyName",config:"config",items:"items"},features:[e.\u0275\u0275ProvidersFeature([{provide:p.NG_VALUE_ACCESSOR,useExisting:(0,e.forwardRef)(()=>be),multi:!0}])],decls:4,vars:10,consts:[["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group","no-horizontal-paddings",3,"title","fullWidthHeader"],["afterLabelContent","","color","default","icon","plus-icon","iconPosition","only-icon","shape","rounded",1,"add-new-item-button",3,"title","clicked"],[1,"menu-items-table",3,"features","columns","primaryColumnName","hierarchicalColumnName","items","defaultNodeExpanded"],["crtDataTableRowToolbar","",3,"crtDataTableRowToolbarPosition"],[1,"crt-row-toolbar-wrapper"],["class","crt-toolbar crt-row-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","iconPosition","icon","disableRipple","size","crt-toolbar-visible","focused","blurred","click","menuClosed",4,"ngIf"],[3,"menuItems"],["rowMenu",""],[1,"crt-toolbar","crt-row-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","iconPosition","icon","disableRipple","size","focused","blurred","click","menuClosed"],["trigger","crtMenuTrigger"]],template:function(r,t){if(r&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",0)(1,"crt-button",1),e.\u0275\u0275listener("clicked",function(){return t.onAddMenuItem()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"crt-data-table",2),e.\u0275\u0275template(3,ri,4,2,"ng-template",3),e.\u0275\u0275elementEnd()()),r&2){let n;e.\u0275\u0275propertyInterpolate("title",(n=t.title)!==null&&n!==void 0?n:t.translate("MenuItemsLabel")),e.\u0275\u0275property("fullWidthHeader",!1),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AddNewItem")),e.\u0275\u0275advance(1),e.\u0275\u0275property("features",t.features)("columns",t.columns)("primaryColumnName","name")("hierarchicalColumnName","parentName")("items",t.items)("defaultNodeExpanded",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("crtDataTableRowToolbarPosition","after")}},dependencies:[f.NgIf,s.CrtDataTableComponent,s.CrtDataTableRowToolbarDirective,s.CrtButtonComponent,s.CrtExpansionPanelComponent,s.CrtMenuComponent,s.CrtMenuTriggerDirective],styles:[".add-new-item-button[_ngcontent-%COMP%]{padding-left:8px}.menu-icon[_ngcontent-%COMP%]{width:16px;height:16px}"],changeDetection:0});function ni(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-slide-toggle",2),e.\u0275\u0275listener("toggleChange",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onUseIconChange(a))}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("title",t.translate("UseIcon")),e.\u0275\u0275property("default",t.useIcon)}}function oi(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",13),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(t).$implicit,u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.onIconClick(i))}),e.\u0275\u0275element(2,"mat-icon",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=r.$implicit,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275classProp("selected",t===n.icon),e.\u0275\u0275advance(1),e.\u0275\u0275property("svgIcon",t)}}function ai(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-icon-radio-button",15),o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275propertyInterpolate("label",t.translate("IconPositionLabel")),e.\u0275\u0275property("items",t.iconPositionOptions)("control",t.iconPositionControl)}}function ii(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",3)(1,"div",4),e.\u0275\u0275element(2,"crt-label",5),e.\u0275\u0275elementStart(3,"div",6),e.\u0275\u0275element(4,"mat-icon",7)(5,"mat-icon",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"mat-menu",9,10),e.\u0275\u0275template(8,oi,3,3,"ng-container",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(9,ai,1,3,"crt-icon-radio-button",12),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275reference(7),n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("caption",n.translate("IconLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("matMenuTriggerFor",t),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",n.translate("IconMenuHint")),e.\u0275\u0275property("svgIcon",n.icon),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",n.icons),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.usePositionOptions)}}class ge{constructor(r){this.translateService=r,this.translatePrefix="InterfaceDesigner.PropertiesPages.PropertiesPanelIconSettings",this.iconPositionControl=new p.UntypedFormControl,this.iconControl=new p.UntypedFormControl,this.usePositionOptions=!0,this.toggleUseIcon=!0,this.defaultIconPositionOptions=[{icon:"icon-position-left",caption:this.translate("IconPosition.LeftIcon"),value:S.IconPositionEnum.LeftIcon},{icon:"icon-position-only-icon",caption:this.translate("IconPosition.OnlyIcon"),value:S.IconPositionEnum.OnlyIcon},{icon:"icon-position-right",caption:this.translate("IconPosition.RightIcon"),value:S.IconPositionEnum.RightIcon}]}get icon(){return this.toggleUseIcon?this.iconControl?.value:this.iconControl?.value||this.defaultIcon}set icon(r){this.iconControl?.setValue(r)}get iconPositionOptions(){return this.customIconPositionOptions??this.defaultIconPositionOptions}get useIcon(){return this.usePositionOptions?this.iconPositionControl?.value&&this.iconPositionControl?.value!==S.IconPositionEnum.OnlyText:!!this.iconControl?.value}onIconClick(r){this.icon=r}onUseIconChange({checked:r}){const t=r?this.defaultIcon:null;this.onIconClick(t);const n=this._getDefaultIconPosition(r);this.iconPositionControl?.setValue(n),this.iconPosition=n}_getDefaultIconPosition(r){return r?S.IconPositionEnum.LeftIcon:S.IconPositionEnum.OnlyText}translate(r){return this.translateService.instant(`${this.translatePrefix}.${r}`)}}ge.\u0275fac=function(r){return new(r||ge)(e.\u0275\u0275directiveInject(P.TranslateService))},ge.\u0275cmp=e.\u0275\u0275defineComponent({type:ge,selectors:[["crt-properties-panel-icon-settings"]],inputs:{defaultIcon:"defaultIcon",iconPositionControl:"iconPositionControl",iconControl:"iconControl",icons:"icons",customIconPositionOptions:"customIconPositionOptions",usePositionOptions:"usePositionOptions",toggleUseIcon:"toggleUseIcon"},decls:2,vars:2,consts:[["class","use-icon-toggle","data-item-marker","useIcon",3,"default","title","toggleChange",4,"ngIf"],["class","icon-control-container",4,"ngIf"],["data-item-marker","useIcon",1,"use-icon-toggle",3,"default","title","toggleChange"],[1,"icon-control-container"],[1,"control","icon-control"],[3,"caption"],[1,"icon-menu-container",3,"matMenuTriggerFor"],["data-item-marker","iconMenu",1,"icon-menu",3,"svgIcon","title"],["svgIcon","dropdown-arrow",1,"icon-menu-arrow"],[1,"icon-menu"],["iconMenu","matMenu"],[4,"ngFor","ngForOf"],["class","control","data-item-marker","iconPosition",3,"items","control","label",4,"ngIf"],["mat-menu-item","",1,"icon-menu-item",3,"click"],[3,"svgIcon"],["data-item-marker","iconPosition",1,"control",3,"items","control","label"]],template:function(r,t){r&1&&(e.\u0275\u0275template(0,ni,1,2,"crt-slide-toggle",0),e.\u0275\u0275template(1,ii,10,6,"div",1)),r&2&&(e.\u0275\u0275property("ngIf",t.toggleUseIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.useIcon||!t.toggleUseIcon))},dependencies:[f.NgForOf,f.NgIf,s.CrtLabelComponent,s.CrtIconRadioButtonComponent,I.MatIcon,E.SlideToggleComponent,Gn.MatLegacyMenu,Gn.MatLegacyMenuItem,Gn.MatLegacyMenuTrigger],styles:[`crt-properties-panel-icon-settings .use-icon-toggle{display:block;margin-bottom:8px}crt-properties-panel-icon-settings .use-icon-toggle .mat-slide-toggle.slide-wrapper{width:100%}crt-properties-panel-icon-settings .icon-control-container{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:space-between;align-items:baseline;margin-top:17px}crt-properties-panel-icon-settings .icon-control-container .control.icon-control{display:flex;align-items:center;flex-direction:row}crt-properties-panel-icon-settings .icon-control-container .control.icon-control .mat-icon.icon-menu{background-color:var(--selected-background)}crt-properties-panel-icon-settings .icon-control-container .icon-menu-container{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}crt-properties-panel-icon-settings .icon-control-container .icon-menu-container .mat-icon{width:16px;height:16px}crt-properties-panel-icon-settings .icon-control-container .icon-menu{padding:8px;margin-left:8px;border-radius:2px}crt-properties-panel-icon-settings .icon-control-container .crt-icon-radio-button{display:flex;gap:8px;align-items:baseline}crt-properties-panel-icon-settings .icon-control-container .crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item.icon-radio-item .radio-icon-wrap,crt-properties-panel-icon-settings .icon-control-container .crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item.icon-radio-item .radio-icon-wrap .radio-icon.mat-icon{width:44px;height:32px;padding:0}.cdk-overlay-pane .mat-menu-panel.icon-menu .mat-menu-content{display:flex;flex-wrap:wrap;margin:4px;gap:8px;width:192px}.cdk-overlay-pane .mat-menu-panel.icon-menu .mat-menu-content .icon-menu-item{padding:8px;line-height:inherit;border-radius:2px}.cdk-overlay-pane .mat-menu-panel.icon-menu .mat-menu-content .icon-menu-item .mat-icon{width:16px;height:16px;color:inherit;margin:0;vertical-align:baseline}
`],encapsulation:2});function li(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-icon-radio-button",14),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("label",t.translate("ButtonSizeFieldLabel")),e.\u0275\u0275property("items",t.buttonSizeOptions)("control",t.getControl("size"))}}function si(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-view-element-event-properties-panel",15),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("config",t.getConfig())}}function pi(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-menu-items-container-properties-panel",16),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("config",t.getConfig())}}const ci=[{value:"accent",displayValue:"Colors.Accent"},{value:"primary",displayValue:"Colors.Primary"},{value:"warn",displayValue:"Colors.Warn"},{value:"default",displayValue:"Colors.Default"}];let Rt=class extends L{set config(r){this._applyDefaultProperties(r),super.config=r}get config(){return super.config}get getTitle(){return this._lczToString.transform(this._getNotEmptyLocalizations(this.title))}constructor(r,t,n,a,i){super(i),this._lczToString=r,this._featureService=t,this._designerSchemaService=n,this._crtControlStateAdapter=a,this.injector=i,this.translatePrefix="InterfaceDesigner.PropertiesPages.ButtonPropertiesPage",this.defaultIcon="settings-button-icon",this.colorOptions=ci.map(u=>({...u,displayValue:this.translate(u.displayValue)})),this.buttonSizeOptions=[{icon:"button-size-s-icon",value:S.SizeEnum.Small,caption:this.translate("Sizes.Small")},{icon:"button-size-m-icon",value:S.SizeEnum.Medium,caption:this.translate("Sizes.Medium")},{icon:"button-size-l-icon",value:S.SizeEnum.Large,caption:this.translate("Sizes.Large")},{icon:"button-size-xl-icon",value:S.SizeEnum.ExtraLarge,caption:this.translate("Sizes.ExtraLarge")}],this.icons=s.BUTTON_ICONS,this.menuItems=[],Q.setRequestsFilter(null),this.showMenuItems$=this._featureService.getFeatureState("DisableButtonPropertiesPanelMenuItemsFeature").pipe((0,c.switchMap)(u=>(0,d.of)(!u))),this.buttonSizeFeature$=this._featureService.getFeatureState("ButtonPropertiesPanelSizeFeature")}_getNotEmptyLocalizations(r){return r?new g.LocalizableStringArray(r.filter(t=>t.value)):null}_applyDefaultProperties(r){"color"in r.itemConfig||(r.itemConfig.color="default"),"size"in r.itemConfig||(r.itemConfig.size=S.SizeEnum.Large);const t=r.itemConfig.iconPosition;if(!Object.values(S.IconPositionEnum).includes(t)){const n=!!r.itemConfig.icon;r.itemConfig.iconPosition=this._getDefaultIconPosition(n)}return r}_getDefaultIconPosition(r){return r?S.IconPositionEnum.LeftIcon:S.IconPositionEnum.OnlyText}_getClickMode(r){const t=r?.find(u=>u.path==="itemConfig.clicked")?.value,n=r?.find(u=>u.path==="itemConfig.menuItems")?.value,a=t||this.config.itemConfig.clicked,i=n||this.config.itemConfig.menuItems;return!a?.request&&!!i?.length?"menu":"default"}_subscribeSchemaChanged(){this.injector.get(_.DesignerSchemaService).schemaChanged$.pipe((0,c.filter)(({changes:{parentName:t}})=>t===this.config.itemConfig.name),(0,c.takeUntil)(this.destroyed$)).subscribe({next:()=>{const t=this._getClickMode();this.config.itemConfig.clickMode!==t&&this.emitChanges([{path:"itemConfig.clickMode",value:t}])}})}afterGetLookupControlValue(r,t){return t?.value||null}beforeSetLookupControlValue(r,t,n){return n.find(a=>a.value===t)||null}getPropertiesConfig(){return{...super.getPropertiesConfig(),clicked:{path:"itemConfig.clicked",dataValueType:l.DataValueType.CUSTOM_OBJECT,controlInitialConfig:{},applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override},caption:{path:"itemConfig.caption",dataValueType:l.DataValueType.LOCALIZABLE_STRING,isTitle:!0,controlInitialConfig:{validatorOrOpts:[p.Validators.required,this._crtControlStateAdapter.transform({instance:new w.EmptyWhiteSpaceValidator(this.injector),params:{min:1}})],value:""}},color:{path:"itemConfig.color",dataValueType:l.DataValueType.Lookup,options:{items:this.colorOptions}},size:{path:"itemConfig.size",dataValueType:l.DataValueType.Text},icon:{path:"itemConfig.icon",dataValueType:l.DataValueType.Text},iconPosition:{path:"itemConfig.iconPosition",dataValueType:l.DataValueType.Text},menuItems:{path:"itemConfig.menuItems",dataValueType:l.DataValueType.COLLECTION,applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override}}}emitChanges(r){const t=["itemConfig.clicked","itemConfig.menuItems"];if(r.find(a=>t.includes(a.path))){const a=this._getClickMode(r);r.push({path:"itemConfig.clickMode",value:a})}super.emitChanges(r)}loadData(r){return this.menuItems=(0,y.get)(r.itemConfig,"menuItems")||[],this._subscribeSchemaChanged(),super.loadData(r)}};Rt.\u0275fac=function(r){return new(r||Rt)(e.\u0275\u0275directiveInject(g.LczToStringPipe),e.\u0275\u0275directiveInject(B.FeatureService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(w.CrtControlStateAdapter),e.\u0275\u0275directiveInject(e.Injector))},Rt.\u0275cmp=e.\u0275\u0275defineComponent({type:Rt,selectors:[["crt-button-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:22,vars:31,consts:[["cdkScrollable","",1,"properties-panel-wrap","button-properties-panel"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],[1,"control"],["required","","labelType","caption",3,"caption"],["iconLineType","bold",3,"formControlName","label"],["caption",""],["labelPosition","above",1,"control",3,"control","label","items","useStaticFiltering"],["class","control size-control","data-item-marker","buttonSize",3,"items","control","label",4,"ngIf"],["formControlName","clicked",3,"config",4,"ngIf"],["formControlName","menuItems","propertyName","menuItems",3,"config",4,"ngIf"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group","appearance-group",3,"title","extraStyles"],[3,"iconPositionControl","iconControl","icons","defaultIcon"],["data-item-marker","buttonSize",1,"control","size-control",3,"items","control","label"],["formControlName","clicked",3,"config"],["formControlName","menuItems","propertyName","menuItems",3,"config"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3)(4,"mat-form-field",4),e.\u0275\u0275element(5,"crt-label",5)(6,"ts-localizable-text-input",6,7),e.\u0275\u0275elementStart(8,"mat-error"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(11,"crt-combobox",8),e.\u0275\u0275template(12,li,1,3,"crt-icon-radio-button",9),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"crt-expansion-panel",3),e.\u0275\u0275template(15,si,1,1,"crt-view-element-event-properties-panel",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,pi,1,1,"crt-menu-items-container-properties-panel",11),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275element(18,"crt-properties-panel-visibility-settings",1),e.\u0275\u0275elementStart(19,"crt-expansion-panel",12),e.\u0275\u0275element(20,"crt-properties-panel-icon-settings",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("simpleTitle",t.getTitle),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",t.translate("CaptionLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","caption")("label",t.translate("CaptionLabel")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,25,"Validators.Required.Message")," "),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",t.translate("ColorFieldLabel")),e.\u0275\u0275property("control",t.getControl("color"))("items",t.getLookupItems("color"))("useStaticFiltering",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(13,27,t.buttonSizeFeature$)),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("title",t.translate("ActionLabel")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getConfig()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(17,29,t.showMenuItems$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("iconPositionControl",t.getControl("iconPosition"))("iconControl",t.getControl("icon"))("icons",t.icons)("defaultIcon",t.defaultIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,s.CrtIconRadioButtonComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.FormGroupDirective,p.FormControlName,x.CdkScrollable,be,D,ge,F,A,Ee,f.AsyncPipe,P.TranslatePipe],styles:[`crt-button-properties-panel{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-button-properties-panel form{width:100%}crt-button-properties-panel crt-expansion-panel{height:auto;overflow:inherit}crt-button-properties-panel .properties-panel-wrap{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-button-properties-panel.embedded-properties-panel{height:auto}crt-button-properties-panel .properties-form .form-field-wrapper{width:100%;margin-top:12px}crt-button-properties-panel .properties-form .form-field-wrapper .structure-explorer-input{width:80%}crt-button-properties-panel .properties-form .form-field-wrapper .structure-explorer-icon{float:right;width:16px;height:16px;padding-right:2px}crt-button-properties-panel .properties-form .crt-control-form-field-wrapper{margin-top:12px;padding-bottom:1.25em}crt-button-properties-panel .size-control .crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .crt-icon-radio-item.icon-radio-item .radio-icon-wrap .radio-icon.mat-icon{width:32px;height:32px;padding:0}crt-button-properties-panel .size-control .crt-icon-radio-button svg text{direction:initial}crt-button-properties-panel .appearance-group .mat-expansion-panel-body{display:flex;flex-direction:column;gap:16px}
`],encapsulation:2,changeDetection:0}),Rt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ButtonPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[g.LczToStringPipe,B.FeatureService,_.DesignerSchemaService,w.CrtControlStateAdapter,e.Injector])],Rt);var ho=T(46338);function ui(o,r){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"crt-checkbox",3),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementContainerEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(2,3,"InterfaceDesigner.PropertiesPages.DataGridPropertiesPage.RowsMultiSelection"))("control",t.rowsMultiSelectionEnabledControl)("tooltip",e.\u0275\u0275pipeBind1(3,5,t.settingsDisabledTooltip))}}function di(o,r){if(o&1&&(e.\u0275\u0275element(0,"crt-checkbox",6),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275pipe(2,"translate")),o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(1,3,"InterfaceDesigner.PropertiesPages.DataGridPropertiesPage.ItemsCreation"))("control",t.itemsCreationEnabledControl)("tooltip",e.\u0275\u0275pipeBind1(2,5,t.settingsDisabledTooltip))}}function mi(o,r){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"crt-checkbox",4),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275template(4,di,3,7,"crt-checkbox",5),e.\u0275\u0275elementContainerEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(2,4,"InterfaceDesigner.PropertiesPages.DataGridPropertiesPage.Editable"))("control",t.editingEnabledControl)("tooltip",e.\u0275\u0275pipeBind1(3,6,t.settingsDisabledTooltip)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.editingEnabledControl.value)}}class Bt{set isSettingsDisabled(r){this._isSettingsDisabled=r,this._disableSeparatedFeaturesControls(r)}get isSettingsDisabled(){return this._isSettingsDisabled}get settingsDisabledTooltip(){return this.isSettingsDisabled?"InterfaceDesigner.PropertiesPages.DataGridPropertiesPage.AttributeBindingUsage":""}set formGroup(r){this._formGroupChanges$.next(r)}constructor(r){this._destroyed$=new d.Subject,this._formGroupChanges$=new d.ReplaySubject(1),this._isSettingsDisabled=!1,this.editingEnabledControl=new p.FormControl(!1),this.itemsCreationEnabledControl=new p.FormControl(!1),this.rowsNumerationEnabledControl=new p.FormControl(!1),this.rowsMultiSelectionEnabledControl=new p.FormControl(!1),this._separatedFeaturesControls=[this.editingEnabledControl,this.itemsCreationEnabledControl,this.rowsNumerationEnabledControl,this.rowsMultiSelectionEnabledControl],this.isEditingAvailable=Boolean(!r[ho.DISABLE_DATA_GRID_EDITING_MODE_FEATURE_CODE]),this.isMultipleSelectionAvailable=Boolean(!r[ho.DISABLE_DATA_GRID_MULTIPLE_ROWS_SELECTION_FEATURE_CODE])}_patchFeatures(r){const t=this._featuresControl;if(!t)return;const n=(0,y.cloneDeep)(t.value)??{};(0,y.merge)(n,r),!(0,y.isEqual)(n,t.value)&&t.setValue(n)}_subscribeFormGroupChanges(){this._formGroupChanges$.pipe((0,c.map)(r=>r?.get("features")),(0,c.tap)(r=>this._featuresControl=r),(0,c.tap)(r=>this.isSettingsDisabled=r==null),(0,c.filter)(Boolean),(0,c.switchMap)(r=>r.valueChanges),(0,c.tap)(r=>this._onFeaturesChanged(r)),(0,c.takeUntil)(this._destroyed$)).subscribe()}_onFeaturesChanged(r){this.isSettingsDisabled=(0,R.isBindingExpression)(r),this.isSettingsDisabled?this._resetSeparatedFeaturesValue():this._setSeparatedFeaturesValue(r)}_setSeparatedFeaturesValue(r){const{rows:t,editable:n}=r??{},{numeration:a,selection:i}=t??{},u=(0,s.fullInDataTableEditingFeatures)(n,!0),h=a===void 0?!0:Boolean(a),b=(0,s.fullInDataTableRowsSelectionFeatures)(i);this.editingEnabledControl.setValue(u.enable,{emitEvent:!1}),this.itemsCreationEnabledControl.setValue(u.itemsCreation,{emitEvent:!1}),this.rowsNumerationEnabledControl.setValue(h,{emitEvent:!1}),this.rowsMultiSelectionEnabledControl.setValue(b.multiple,{emitEvent:!1})}_resetSeparatedFeaturesValue(){this._separatedFeaturesControls.forEach(r=>r.setValue(!1,{emitEvent:!1}))}_disableSeparatedFeaturesControls(r){this._separatedFeaturesControls.forEach(t=>r?t.disable({emitEvent:!1}):t.enable({emitEvent:!1}))}_subscribeControlValueChanges(r,t){r.valueChanges.pipe((0,c.tap)(n=>t(n)),(0,c.takeUntil)(this._destroyed$)).subscribe()}_subscribeEditingEnabledChanges(){this._subscribeControlValueChanges(this.editingEnabledControl,r=>this._patchFeatures({editable:{enable:r,itemsCreation:r}}))}_subscribeItemsCreationEnabledChanges(){this._subscribeControlValueChanges(this.itemsCreationEnabledControl,r=>{const t=this._featuresControl?.value;!(0,s.fullInDataTableEditingFeatures)(t?.editable,!0).enable||this._patchFeatures({editable:{enable:!0,itemsCreation:r}})})}_subscribeRowsNumerationEnabledChanges(){this._subscribeControlValueChanges(this.rowsNumerationEnabledControl,r=>this._patchFeatures({rows:{numeration:r}}))}_subscribeRowsMultiSelectionEnabledChanges(){this._subscribeControlValueChanges(this.rowsMultiSelectionEnabledControl,r=>{const t=r?{enable:!0,multiple:!0}:!1;this._patchFeatures({rows:{selection:t}})})}ngOnInit(){this._subscribeFormGroupChanges(),this.isEditingAvailable&&(this._subscribeEditingEnabledChanges(),this._subscribeItemsCreationEnabledChanges()),this._subscribeRowsNumerationEnabledChanges(),this.isMultipleSelectionAvailable&&this._subscribeRowsMultiSelectionEnabledChanges()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this._formGroupChanges$.complete()}}Bt.\u0275fac=function(r){return new(r||Bt)(e.\u0275\u0275directiveInject(g.FEATURE_VALUES))},Bt.\u0275cmp=e.\u0275\u0275defineComponent({type:Bt,selectors:[["crt-data-grid-appearance-settings"]],inputs:{formGroup:"formGroup"},decls:7,vars:12,consts:[["togglePosition","after","expanded","true","toggleType","material",3,"title"],["labelPosition","right","data-item-marker","RowsNumerationIndicator",3,"label","control","tooltip"],[4,"ngIf"],["labelPosition","right","data-item-marker","RowsMultipleSelectionIndicator",3,"label","control","tooltip"],["labelPosition","right","data-item-marker","EditingIndicator",3,"label","control","tooltip"],["labelPosition","right","data-item-marker","ItemsCreationIndicator",3,"label","control","tooltip",4,"ngIf"],["labelPosition","right","data-item-marker","ItemsCreationIndicator",3,"label","control","tooltip"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",0),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"crt-checkbox",1),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275template(5,ui,4,7,"ng-container",2),e.\u0275\u0275template(6,mi,5,8,"ng-container",2),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,6,"InterfaceDesigner.PropertiesPages.DataGridPropertiesPage.AppearanceGroup")),e.\u0275\u0275advance(2),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(3,8,"InterfaceDesigner.PropertiesPages.DataGridPropertiesPage.RowsNumeration"))("control",t.rowsNumerationEnabledControl)("tooltip",e.\u0275\u0275pipeBind1(4,10,t.settingsDisabledTooltip)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.isMultipleSelectionAvailable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isEditingAvailable))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtExpansionPanelComponent,P.TranslatePipe],styles:["[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}"],changeDetection:0});class Gt{constructor(){this._destroyed$=new d.Subject,this.filterControl=new p.FormControl(null),this.deleted=new e.EventEmitter,this.selectedFilterElementChanged=new e.EventEmitter}set filterElements(r){this.availableFiltersOptions=r?.map(t=>({value:t.value,displayValue:t.caption}))}onDeleteFilter(){this.deleted.emit()}ngOnInit(){this.filterControl.valueChanges.pipe((0,c.map)(r=>r??{}),(0,c.filter)(r=>r.value!==void 0),(0,c.takeUntil)(this._destroyed$)).subscribe(({value:r,displayValue:t})=>this.selectedFilterElementChanged.emit({value:r,caption:t}))}ngOnChanges(r){if("selectedFilterElement"in r){const t=this.selectedFilterElement.value?{value:this.selectedFilterElement.value,displayValue:this.selectedFilterElement.caption}:null;this.filterControl.setValue(t)}}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}Gt.\u0275fac=function(r){return new(r||Gt)},Gt.\u0275cmp=e.\u0275\u0275defineComponent({type:Gt,selectors:[["crt-data-source-filter-element"]],inputs:{selectedFilterElement:"selectedFilterElement",filterElements:"filterElements"},outputs:{deleted:"deleted",selectedFilterElementChanged:"selectedFilterElementChanged"},features:[e.\u0275\u0275NgOnChangesFeature],decls:5,vars:8,consts:[[1,"crt-data-source-filter-element-wrapper"],[1,"crt-data-source-filter-element"],["labelPosition","above",3,"control","label","items","useStaticFiltering"],["shape","rounded","icon","message-composer-cross",1,"crt-data-source-filter-element-delete-btn",3,"iconPosition","clicked"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"crt-combobox",2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"crt-button",3),e.\u0275\u0275listener("clicked",function(){return t.onDeleteFilter()}),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.filterControl)("label",e.\u0275\u0275pipeBind1(3,6,"DataSourceFilterElement.Caption"))("items",t.availableFiltersOptions)("useStaticFiltering",!0),e.\u0275\u0275attribute("data-item-marker","dataSourceFilterControl"),e.\u0275\u0275advance(2),e.\u0275\u0275property("iconPosition","only-icon"))},dependencies:[s.CrtComboBoxComponent,s.CrtButtonComponent,P.TranslatePipe],styles:[".crt-data-source-filter-element-wrapper[_ngcontent-%COMP%]{display:flex;padding:20px 0 0 20px}.crt-data-source-filter-element[_ngcontent-%COMP%]{flex-grow:1;padding:0 14px 8px;min-width:0}"],changeDetection:0});function gi(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-data-source-filter-element",6),e.\u0275\u0275listener("selectedFilterElementChanged",function(a){const u=e.\u0275\u0275restoreView(t).index,h=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(h.onChanged(u,a))})("deleted",function(){const i=e.\u0275\u0275restoreView(t).index,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onDeleted(i))}),e.\u0275\u0275elementEnd()}if(o&2){const t=r.$implicit;e.\u0275\u0275property("selectedFilterElement",t.selected)("filterElements",t.available)}}class Fe{constructor(){this._filtersOptions=[],this._selectedFiltersOptions=[],this.disabled=!1,this.selectedFiltersChange=new e.EventEmitter}set filtersOptions(r){this._filtersOptions=r??[],this._setSelectedFilterElements()}set selectedFiltersOptions(r){this._selectedFiltersOptions=r??[],this._setSelectedFilterElements()}_getAvailableFilterElement(r,t,n){return t.filter(a=>!n.some(u=>a.value===u?.value)||r.value===a.value)}_setSelectedFilterElements(){this.selectedFilterElements=this._selectedFiltersOptions.map(r=>{const t=this._getAvailableFilterElement(r,this._filtersOptions,this._selectedFiltersOptions);return{selected:r,available:t}})}addFilterComponent(){this.selectedFiltersOptions=[...this._selectedFiltersOptions,{}]}onDeleted(r){const t=this._selectedFiltersOptions.filter((n,a)=>r!==a);this.selectedFiltersChange.emit(t)}onChanged(r,t){const n=[...this._selectedFiltersOptions];n[r]=t,this.selectedFiltersChange.emit(n)}}Fe.\u0275fac=function(r){return new(r||Fe)},Fe.\u0275cmp=e.\u0275\u0275defineComponent({type:Fe,selectors:[["crt-data-source-filter-elements-group"]],inputs:{disabled:"disabled",filtersOptions:"filtersOptions",selectedFiltersOptions:"selectedFiltersOptions"},outputs:{selectedFiltersChange:"selectedFiltersChange"},decls:9,vars:9,consts:[[1,"crt-data-source-filter-elements-group-header"],[1,"crt-data-source-filter-elements-group-header-caption"],["labelType","body-1","labelFontSize","13px",1,"crt-data-source-filter-elements-group-header-caption-label"],["svgIcon","info","matTooltipPosition","below","matTooltipClass","crt-data-source-filter-elements-group-header-tooltip",1,"crt-data-source-filter-elements-group-header-icon",3,"matTooltip"],["shape","rounded","icon","add-button-icon",1,"crt-data-source-filter-elements-group-add-btn",3,"disabled","iconPosition","clicked"],[3,"selectedFilterElement","filterElements","selectedFilterElementChanged","deleted",4,"ngFor","ngForOf"],[3,"selectedFilterElement","filterElements","selectedFilterElementChanged","deleted"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"crt-label",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"mat-icon",3),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"crt-button",4),e.\u0275\u0275listener("clicked",function(){return t.addFilterComponent()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(8,gi,1,2,"crt-data-source-filter-element",5)),r&2&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,5,"DataSourceFilterElementsGroup.Title")),e.\u0275\u0275advance(2),e.\u0275\u0275property("matTooltip",e.\u0275\u0275pipeBind1(6,7,"DataSourceFilterElementsGroup.Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.disabled)("iconPosition","only-icon"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.selectedFilterElements))},dependencies:[f.NgForOf,s.CrtButtonComponent,Gt,s.CrtLabelComponent,I.MatIcon,X.MatLegacyTooltip,P.TranslatePipe],styles:["[_nghost-%COMP%]{display:block;margin:20px 0}.crt-data-source-filter-elements-group-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.crt-data-source-filter-elements-group-header-caption[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.crt-data-source-filter-elements-group-header-caption-label[_ngcontent-%COMP%]{flex:1}.crt-data-source-filter-elements-group-header-icon[_ngcontent-%COMP%]{margin:0 4px;width:16px;height:16px}"]});function hi(o,r){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"crt-checkbox",1)(2,"crt-checkbox",2),e.\u0275\u0275elementContainerEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("StretchLabel")),e.\u0275\u0275property("control",t.getControl("stretch"))("labelPosition","right"),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("FitContentLabel")),e.\u0275\u0275property("control",t.getControl("fitContent"))("labelPosition","right")}}class re extends pn{constructor(){super(...arguments),this.translatePrefix="PropertiesPages.ContainerPropertiesPage",this.isContainerSettingsEnabled=this.featureValues.UseContainerSettingsInRightPanel}}re.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(re)))(t||re)}}(),re.\u0275cmp=e.\u0275\u0275defineComponent({type:re,selectors:[["crt-properties-panel-container-settings"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[4,"ngIf"],["data-item-marker","stretch",3,"control","labelPosition","label"],["data-item-marker","fitContent",3,"control","labelPosition","label"]],template:function(r,t){r&1&&e.\u0275\u0275template(0,hi,3,6,"ng-container",0),r&2&&e.\u0275\u0275property("ngIf",t.isContainerSettingsEnabled)},dependencies:[f.NgIf,s.CrtCheckboxComponent],changeDetection:0});function Ci(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-data-source-filter-elements-group",12),e.\u0275\u0275listener("selectedFiltersChange",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.onFilterElementsChange(a))}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("filtersOptions",t.filtersOptions)("disabled",!t.dataSourceName)("selectedFiltersOptions",t.selectedFiltersOptions)}}function fi(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"crt-data-source-dependencies-setting",7),e.\u0275\u0275listener("dependenciesSettingChange",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onDataSourceDependenciesChange(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,Ci,1,3,"crt-data-source-filter-elements-group",8),e.\u0275\u0275elementStart(3,"div",9)(4,"crt-label",10),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"crt-button",11),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onSetupFilterButtonClicked())}),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("dataSourceSelectOptions",t.availableDataSourceSelectOptions)("currentDataSource",t.currentDataSource)("targetDataSourceName",t.dataSourceName)("dependenciesSetting",t.dataSourceDependencies),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.filtersOptions==null?null:t.filtersOptions.length),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.translate("ApplyStaticFilter")," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.filtersSettings!=null&&t.filtersSettings.filters?t.translate("EditStaticFilterAction"):t.translate("SetupStaticFilterAction")," ")}}function yi(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-menu-items-container-properties-panel",13),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("title",t.translate("MassActions"))("config",t.getConfig())}}const Si=["crt.DeleteRecordsRequest","crt.ExportDataGridToExcelRequest","crt.AddTagsInRecordsRequest","crt.RemoveTagsInRecordsRequest","crt.PrintablesRequest","crt.AddRecordsInStaticFoldersRequest","crt.RemoveRecordsInStaticFoldersRequest"];function bi(o){return Si.includes(o?.type)}let Ve=class extends L{get selectedFiltersOptions(){return this._selectedFiltersOptions??(this._selectedFiltersOptions=[]),this._selectedFiltersOptions}set selectedFiltersOptions(r){!this._isViewModelItemsAttributeExists()||(this._setSelectedFiltersToCollection(r),this._setSelectedSearchFiltersToViewItems(r),this._selectedFiltersOptions=r??[])}set dataSourceDependencies(r){this._dataSourceDependencies=r,this._dataSourceDependencySettingService.updateByCollectionAttributeName(this._dataGridItemsAttributeName,r)}get dataSourceDependencies(){return this._dataSourceDependencies}get filtersSettings(){return this._filtersSettings.entitySchemaName=this.entitySchemaName,this._filtersSettings.filters=this._getPredefinedFilterAttributeValue(),this._filtersSettings}get isMultiSelectionEnabled(){return this.getControl("features").value?.rows?.selection?.multiple}set config(r){this._filtersSettings={metaItemType:"crt.FilterBuilder",mode:m.MetaItemDesignerOpeningState.Edit},super.config=r}get config(){return super.config}constructor(r,t,n,a,i,u,h,b,O,q,ee,en,wn){super(r),this._designerSchemaService=t,this._designerDataSourceManager=n,this._designerSettingsService=a,this._designerEntityService=i,this._displayValueCreatorFactoryService=u,this._translateService=h,this._commandFactoryService=b,this._dataSourcesLookupValuesProvider=O,this._dataSourceDependencySettingService=q,this._filterViewElementConfigFinders=ee,this._filterViewElementConfigProvider=en,this._dataGridDefaultBulkActionsCreator=wn,this.entitySchemaName=null,this._oldEntitySchemaCaption=null,this._searchFiltersOptions=[],this._dataSourceDependencies=[],this.translatePrefix="InterfaceDesigner.PropertiesPages.DataGridPropertiesPage",this.filtersOptions=[],this.referenceSchemaItems=[],this._filterOptionsConfigResolver=r.get(m.FilterOptionsConfigResolver),this._filterViewElementProvider=r.get(m.FilterViewElementProvider),Q.setRequestsFilter(bi)}_updateDataSources(){return this._designerDataSourceManager.getDataSources$().pipe((0,c.tap)(r=>this._setCurrentDataSource(r)),(0,c.switchMap)(r=>this._getAvailableDataSourcesConfigs(r)),(0,c.tap)(r=>{this.availableDataSourceSelectOptions=r}),(0,c.take)(1))}_getAvailableDataSourcesConfigs(r){return this._dataSourcesLookupValuesProvider.get({scope:null}).pipe((0,c.map)(n=>n.map(a=>({dataSource:r.find(i=>i.dataSourceName===a.value),filterByActiveItemAllowed:this._filterViewElementConfigFinders.some(i=>i.isBoundToFilterViewElement(a.value)),lookup:a}))))}_getPredefinedFilterAttributeValue(){const r=this._getPredefinedFilterAttributeName(),t=this._getCollectionViewModelAttribute(r);if(t&&(0,w.isModelAttributeConfig)(t))return t?.value}_getPredefinedFilterAttributeName(){return`${this._getViewModelItemsAttributeName()}_PredefinedFilter`}_getViewModelItemsAttributeName(){const r=this._viewItemConfig?.items?.toString();return r?.startsWith("$")?r.slice(1):r}_isViewModelItemsAttributeExists(){return this._designerSchemaService.isViewModelAttributeExists(this._dataGridItemsAttributeName)}_setSelectedFiltersToCollection(r){this._addSelectedFiltersToCollection(r),this._removeNotSelectedFiltersFromCollection(r)}_addSelectedFiltersToCollection(r){const t=[];r.forEach(n=>{const a=this._filterOptionsConfigResolver.createViewElementFilterConfig(n.value,this._dataGridItemsAttributeName);a&&t.push(a)}),this._filterViewElementConfigProvider.addFiltersToCollection(this._dataGridItemsAttributeName,t)}_removeNotSelectedFiltersFromCollection(r){const t=this._selectedFiltersOptions.filter(a=>!r.some(i=>i.value===a.value)),n=[];t.forEach(a=>{const i=this._filterOptionsConfigResolver.getFilterAttributeName(a.value,this._dataGridItemsAttributeName);!i||n.push(i)}),this._filterViewElementConfigProvider.removeFiltersFromCollection(this._dataGridItemsAttributeName,n)}_setSelectedSearchFiltersToViewItems(r){const t=(0,y.cloneDeep)(this._getSelectedSearchFilterValues(this._selectedFiltersOptions));this._getSelectedSearchFilterValues(r).forEach(a=>{this._updateTargetsForSearchFilterViewItem(a,[this._dataGridItemsAttributeName]);const i=t.indexOf(a);i!==-1&&delete t[i]}),t.forEach(a=>{this._updateTargetsForSearchFilterViewItem(a,[])})}_getSelectedSearchFilterValues(r){return r.filter(t=>this._searchFiltersOptions.map(n=>n.value).includes(t.value)).map(t=>t.value)}_getBulkActionsViewConfigs(){const r=this.getControl("bulkActions");return r.value?r.value:this._dataGridDefaultBulkActionsCreator.createDefaultBulkActions(this.dataSourceName,this._viewItemConfig)}_updateTargetsForSearchFilterViewItem(r,t){const a={...this._designerSchemaService.getViewConfigInfoByName(r).viewConfig,targetAttributes:t};this._designerSchemaService.update({itemConfig:a,applyPropertiesStrategies:[{value:R.ApplyChangedPropertyStrategy.Override,propertyPath:"itemConfig.targetAttributes"}],selectOnCanvas:!1})}_setFiltersOptions(){if(!this.entitySchemaName)return null;const r=this._getFiltersViewConfigInfos();(0,d.from)(this._getFiltersOptions(r)).subscribe(t=>{this.filtersOptions=t,this._selectedFiltersOptions=this._getSelectedFiltersOptions(r)})}_getFiltersViewConfigInfos(){return this._designerSchemaService.getViewConfigInfoByFilter(r=>this._filterViewElementProvider.isAllowedFilterViewElement(r,{entitySchemaName:this.entitySchemaName,dataSourceName:this.dataSourceName,viewAttributeName:this._dataGridItemsAttributeName}))}_getFiltersOptions(r){var t=this;return(0,k.Z)(function*(){return t._searchFiltersOptions=yield Promise.all(t._convertViewConfigInfosToFiltersOptions(t._getSearchViewConfigInfos(r))),yield Promise.all(t._convertViewConfigInfosToFiltersOptions(r))})()}_convertViewConfigInfosToFiltersOptions(r){var t=this;return r.map(function(){var n=(0,k.Z)(function*(a){const i=a.viewConfig,u=t._displayValueCreatorFactoryService.get(i?.type),h=yield(0,d.firstValueFrom)(u.getDisplayValue(i)),b=(0,g.getFullViewElementCaption)({name:i?.name,caption:h,typeCaption:t._getElementTypeCaption(i?.type)});return{value:a.viewConfig.name,caption:b}});return function(a){return n.apply(this,arguments)}}())}_getElementTypeCaption(r){const n=l.InterfaceDesignerItemRegistry.interfaceDesignerItemRegistrationInfos.get(r)?.typeCaption;return n?this._translateService.instant(n):""}_getSelectedFiltersOptions(r){const t=this._getSelectedFilterElementOptions(),n=this._getSelectedSearchFilterElementOptions(r);return[...t,...n]}_getSelectedFilterElementOptions(){const r=this._getCollectionViewModelAttribute(this._dataGridItemsAttributeName);return!r||!r?.modelConfig?.filterAttributes?[]:this.filtersOptions.filter(t=>{const n=this._filterOptionsConfigResolver.getFilterAttributeName(t.value,this._dataGridItemsAttributeName);return r.modelConfig.filterAttributes.some(a=>a.name===n)})}_getSelectedSearchFilterElementOptions(r){const t=this._getSearchViewConfigInfos(r);return this.filtersOptions.filter(n=>t.some(({viewConfig:a})=>{const i=a;return n.value===i?.name&&i?.targetAttributes?.includes(this._dataGridItemsAttributeName)}))}_getSearchViewConfigInfos(r){return r.filter(({viewConfig:t})=>t.type==="crt.SearchFilter")}_updatePredefinedFilterConfig(r){if(!this._isViewModelItemsAttributeExists())return;const t=this._getPredefinedFilterAttributeName(),n=this._getCollectionViewModelAttribute(this._dataGridItemsAttributeName);let a=[];n&&(0,w.isModelAttributeConfig)(n)&&(a=n.modelConfig?.filterAttributes||[]),a.findIndex(u=>u.name===t)<0&&(a.push({loadOnChange:!0,name:t}),this._designerSchemaService.updateViewModelAttribute(this._dataGridItemsAttributeName,{modelConfig:{filterAttributes:a}})),this._designerSchemaService.setViewModelAttribute(t,{value:r})}_getCollectionViewModelAttribute(r){return(this._designerSchemaService.getViewModelConfig()?.attributes||{})[r]}_setReferenceSchemaItems(r){this.referenceSchemaItems=r,this.setLookupItems("referenceSchema",r)}_setEntitySchemaName(r){this.entitySchemaName=r;const t=r?this.referenceSchemaItems.find(n=>n.value===r):null;this.getControl("referenceSchema").setValue(t,{onlySelf:!0})}_getDataSourceEntitySchemaName(){return this._updateDataSources().pipe((0,c.map)(()=>this.currentDataSource),(0,c.mergeMap)(r=>r?r.getSchema():(0,d.of)(null)),(0,c.map)(r=>r?.name))}_setCurrentDataSource(r){this.currentDataSource=r.find(t=>t.dataSourceName===this.dataSourceName)}_setFeatures(r){this.getControl("features")?.setValue(r,{onlySelf:!0})}_setOldEntitySchemaCaption(){this._oldEntitySchemaCaption=this.referenceSchemaItems.find(r=>r.value===this.entitySchemaName)?.displayValue}_removeBoundFilterAttributes(){if(!this._isViewModelItemsAttributeExists())return;let t=this._getCollectionViewModelAttribute(this._dataGridItemsAttributeName)?.modelConfig?.filterAttributes||[];const n=t.map(a=>a.name);if(n.length){const a=this._filterViewElementConfigProvider.isFilterViewModelAttributes(n);t=t.filter(i=>a.includes(i.name))}this._designerSchemaService.updateViewModelAttribute(this._dataGridItemsAttributeName,{modelConfig:{filterAttributes:t}})}_clearDataSourceDependencies(r){this._dataSourceDependencies=[],this._designerSchemaService.removeDependedRelationConfigs(r),this._dataSourceDependencySettingService.updateByCollectionAttributeName(this._dataGridItemsAttributeName,[])}getPropertiesValues(r){return{itemConfig:{referenceSchema:r,features:this._viewItemConfig.features,name:this._viewItemConfig.name,bulkActions:this._viewItemConfig.bulkActions,visible:this._viewItemConfig.visible,stretch:this._viewItemConfig.stretch,fitContent:this._viewItemConfig.fitContent}}}emitChanges(r){const t=this.getControl("referenceSchema").value?.value;if(t&&t!==this.entitySchemaName){const n=this.dataSourceName;this._clearDataSourceDependencies(this.dataSourceName),this._removeBoundFilterAttributes(),this._updatePredefinedFilterConfig(null),this._setOldEntitySchemaCaption(),this.entitySchemaName=t,this.dataSourceName=void 0,this._commandFactoryService.create("crt.ChangeDataGridEntityCommand",{viewItemConfig:this._viewItemConfig,entitySchemaName:t,entityCaption:this.getControl("referenceSchema").value?.displayValue,oldDataSourceName:n,oldEntitySchemaCaption:this._oldEntitySchemaCaption}).pipe((0,c.switchMap)(a=>a.execute()),(0,c.tap)(()=>{this._viewItemConfig=this._designerSchemaService.getViewConfigInfoByName(this._viewItemConfig.name).viewConfig,this._dataGridItemsAttributeName=this._getViewModelItemsAttributeName(),this.dataSourceName=this._designerSchemaService.getMappedDataSourceAttributePath(this._dataGridItemsAttributeName),this.changeDetector.detectChanges()}),(0,c.tap)(()=>{const a=this._getBulkActionsViewConfigs();super.emitChanges([{path:"itemConfig.placeholder",value:!1,applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override},{path:"itemConfig.bulkActions",value:a,applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override}]),this.getControl("bulkActions").setValue(a,{emitEvent:!1})}),(0,c.switchMap)(()=>this._updateDataSources()),(0,c.tap)(()=>this._setFiltersOptions())).subscribe()}else{const n=this.filterChanges(r);n.length>0&&super.emitChanges(n)}}filterChanges(r){return r.filter(({value:t})=>t!==null)}getPropertiesConfig(){return{...super.getPropertiesConfig(),referenceSchema:{path:"itemConfig.referenceSchema",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[]},options:{items:[]}},features:{path:"itemConfig.features",dataValueType:l.DataValueType.OBJECT_LIST},stretch:{path:"itemConfig.stretch",dataValueType:l.DataValueType.Boolean},fitContent:{path:"itemConfig.fitContent",dataValueType:l.DataValueType.Boolean},bulkActions:{path:"itemConfig.bulkActions",dataValueType:l.DataValueType.COLLECTION,applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override}}}beforeSetControlValue(r,t,n){return t==="fitContent"?r??s.DATA_GRID_DEFAULT_VALUES.fitContent:super.beforeSetControlValue(r,t,n)}onFilterElementsChange(r){this.selectedFiltersOptions=r}onDataSourceDependenciesChange(r){this.dataSourceDependencies=r??[],this.changeDetector.detectChanges()}onSetupFilterButtonClicked(){this._designerSettingsService.openSettings$({settings:this.filtersSettings,caption:this.translate("FiltersDialogCaption")}).subscribe(r=>{r&&(this._updatePredefinedFilterConfig(r?.filters),this.changeDetector.detectChanges())})}loadData(r){return this._viewItemConfig=r.itemConfig,this.schemaUId=r.schemaUId,this.parentSchemas=r.parentSchemas,this._dataGridItemsAttributeName=this._getViewModelItemsAttributeName(),this.dataSourceName=this._designerSchemaService.getMappedDataSourceAttributePath(this._dataGridItemsAttributeName),this._dataSourceDependencies=this._dataSourceDependencySettingService.getByCollectionAttributeName(this._dataGridItemsAttributeName),this._setFeatures(this._viewItemConfig?.features),this._designerEntityService.getReferenceSchemasLookupItems().pipe((0,c.tap)(t=>this._setReferenceSchemaItems(t)),(0,c.switchMap)(()=>this.dataSourceName?this._getDataSourceEntitySchemaName():(0,d.of)(null)),(0,c.tap)(t=>this._setEntitySchemaName(t)),(0,c.tap)(()=>this._setFiltersOptions()),(0,c.map)(()=>this.getPropertiesValues(this.entitySchemaName)))}};Ve.\u0275fac=function(r){return new(r||Ve)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(m.DesignerDataSourceManager),e.\u0275\u0275directiveInject(m.DesignerSettingsService),e.\u0275\u0275directiveInject(m.DesignerEntityService),e.\u0275\u0275directiveInject(m.DisplayValueCreatorFactoryService),e.\u0275\u0275directiveInject(P.TranslateService),e.\u0275\u0275directiveInject(_.DesignerCommandFactoryService),e.\u0275\u0275directiveInject(H),e.\u0275\u0275directiveInject(m.DataSourceDependencySettingService),e.\u0275\u0275directiveInject(m.FILTER_VIEW_ELEMENT_CONFIG_FINDERS),e.\u0275\u0275directiveInject(m.FilterViewElementConfigProvider),e.\u0275\u0275directiveInject(s.DataGridDefaultBulkActionsCreator))},Ve.\u0275cmp=e.\u0275\u0275defineComponent({type:Ve,selectors:[["crt-data-grid-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:13,consts:[["cdkScrollable","",1,"properties-panel-wrap","data-grid-properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"general-panel",3,"title"],[3,"control","items","label","config"],[4,"ngIf"],["formControlName","bulkActions","propertyName","bulkActions",3,"title","config",4,"ngIf"],[3,"dataSourceSelectOptions","currentDataSource","targetDataSourceName","dependenciesSetting","dependenciesSettingChange"],[3,"filtersOptions","disabled","selectedFiltersOptions","selectedFiltersChange",4,"ngIf"],[1,"filter-settings"],["labelType","body-1","labelFontSize","13px"],["shape","rounded","color","primary",1,"setup-filter-btn",3,"clicked"],[3,"filtersOptions","disabled","selectedFiltersOptions","selectedFiltersChange"],["formControlName","bulkActions","propertyName","bulkActions",3,"title","config"]],template:function(r,t){if(r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3),e.\u0275\u0275element(4,"crt-entity-schema-select",4),e.\u0275\u0275template(5,fi,8,7,"div",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"crt-data-grid-appearance-settings",1),e.\u0275\u0275template(7,yi,1,2,"crt-menu-items-container-properties-panel",6),e.\u0275\u0275element(8,"crt-properties-panel-visibility-settings",1),e.\u0275\u0275elementStart(9,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275element(10,"crt-properties-panel-container-settings",1),e.\u0275\u0275elementEnd()()()),r&2){let n,a;e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("referenceSchema"))("items",t.referenceSchemaItems)("label",t.translate("DataSourceCaption"))("config",t.config),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(n=t.getControl("referenceSchema"))==null?null:n.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",((a=t.getControl("referenceSchema"))==null?null:a.value)&&t.isMultiSelectionEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm)}},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,Bt,Fe,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.FormGroupDirective,p.FormControlName,x.CdkScrollable,be,me,D,F,A,re,de],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .crt-widget-properties-panel-setup-button-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-widget-properties-panel-attribute-filters-setting[_ngcontent-%COMP%]{padding-bottom:16px}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:16px;height:16px}[_nghost-%COMP%]   .open-icon-wrapper[_ngcontent-%COMP%]{padding-left:8px}.filter-settings[_ngcontent-%COMP%]{margin:20px 0}"]}),Ve=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.DataGridPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,_.DesignerSchemaService,m.DesignerDataSourceManager,m.DesignerSettingsService,m.DesignerEntityService,m.DisplayValueCreatorFactoryService,P.TranslateService,_.DesignerCommandFactoryService,H,m.DataSourceDependencySettingService,Array,m.FilterViewElementConfigProvider,s.DataGridDefaultBulkActionsCreator])],Ve);function Pi(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.translate("InterfaceDesigner.PropertiesPages.CalendarPropertiesPage.RequiredFieldError")," ")}}function _i(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.translate("InterfaceDesigner.PropertiesPages.CalendarPropertiesPage.RequiredFieldError")," ")}}function vi(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.translate("InterfaceDesigner.PropertiesPages.CalendarPropertiesPage.RequiredFieldError")," ")}}function Ti(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-form-field",8)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"input",25),e.\u0275\u0275elementStart(4,"mat-icon",26),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onSelectColumnClick("colorizationColumn"))}),e.\u0275\u0275elementEnd()()}if(o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("InterfaceDesigner.PropertiesPages.CalendarPropertiesPage.ColorizationColumnCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("readonly",!0)("formControl",t.getRequiredControl("colorizationColumn"))}}function wi(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-data-source-filter-elements-group",27),e.\u0275\u0275listener("selectedFiltersChange",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.onFilterElementsChange(a))}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("filtersOptions",t.filtersOptions)("disabled",!t.dataSourceName)("selectedFiltersOptions",t.selectedFiltersOptions)}}const Di=function(o){return{"margin-bottom":o,display:"block"}};function xi(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"mat-form-field",8)(2,"mat-label"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",12),e.\u0275\u0275elementStart(5,"mat-icon",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onSelectColumnClick("startColumn"))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,Pi,2,1,"mat-error",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"mat-form-field",8)(8,"mat-label"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"input",14),e.\u0275\u0275elementStart(11,"mat-icon",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onSelectColumnClick("endColumn"))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,_i,2,1,"mat-error",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"mat-form-field",8)(14,"mat-label"),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"input",16),e.\u0275\u0275elementStart(17,"mat-icon",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onSelectColumnClick("titleColumn"))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(18,vi,2,1,"mat-error",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"crt-combobox",18),e.\u0275\u0275template(20,Ti,5,3,"mat-form-field",19),e.\u0275\u0275elementStart(21,"crt-data-source-dependencies-setting",20),e.\u0275\u0275listener("dependenciesSettingChange",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onDataSourceDependenciesChange(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(22,wi,1,3,"crt-data-source-filter-elements-group",21),e.\u0275\u0275elementStart(23,"div",22)(24,"crt-label",23),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"crt-button",24),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onSetupFilterButtonClicked())}),e.\u0275\u0275text(27),e.\u0275\u0275elementEnd()()()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.translate("InterfaceDesigner.PropertiesPages.CalendarPropertiesPage.StartDateColumn")),e.\u0275\u0275advance(1),e.\u0275\u0275property("readonly",!0)("formControl",t.getRequiredControl("startColumn")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.getRequiredControl("startColumn").invalid),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.translate("InterfaceDesigner.PropertiesPages.CalendarPropertiesPage.EndDateColumn")),e.\u0275\u0275advance(1),e.\u0275\u0275property("readonly",!0)("formControl",t.getRequiredControl("endColumn")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.getRequiredControl("endColumn").invalid),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.translate("InterfaceDesigner.PropertiesPages.CalendarPropertiesPage.TitleColumn")),e.\u0275\u0275advance(1),e.\u0275\u0275property("readonly",!0)("formControl",t.getRequiredControl("titleColumn")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.getRequiredControl("titleColumn").invalid),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("InterfaceDesigner.PropertiesPages.CalendarPropertiesPage.ColorizationTypeCaption")),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(24,Di,t.colorColumnControlVisible?"0px":"15px"))("items",t.filterByColorizationType(t.getLookupItems("colorizationType")))("control",t.getControl("colorizationType")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.colorColumnControlVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("dataSourceSelectOptions",t.availableDataSourceSelectOptions)("currentDataSource",t.currentDataSource)("targetDataSourceName",t.dataSourceName)("dependenciesSetting",t.dataSourceDependencies),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.filtersOptions==null?null:t.filtersOptions.length),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.translate("ApplyStaticFilter")," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.filtersSettings!=null&&t.filtersSettings.filters?t.translate("EditStaticFilterAction"):t.translate("SetupStaticFilterAction")," ")}}const Mi=function(o){return{rowId:o}},Ii=function(o){return{$implicit:o}};function Ei(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",36,37),e.\u0275\u0275listener("focused",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.setFocusedSecondaryFieldRow(a.rowId))})("blurred",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.setFocusedSecondaryFieldRow(null))})("click",function(a){return a.stopPropagation()})("menuClosed",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.setFocusedSecondaryFieldRow(null))}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275reference(1),n=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275classProp("crt-toolbar-visible",(t==null?null:t.menuOpen)||n.rowId===i.focusedSecondaryFieldRowId),e.\u0275\u0275property("crtMenuTriggerFor",a)("crtMenuTriggerData",e.\u0275\u0275pureFunction1(9,Ii,e.\u0275\u0275pureFunction1(7,Mi,n.rowId)))("iconPosition","only-icon")("icon","actions-button-icon")("disableRipple",!0)}}function Fi(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",32),e.\u0275\u0275template(1,Ei,2,11,"crt-button",33),e.\u0275\u0275element(2,"crt-menu",34,35),e.\u0275\u0275elementEnd()),o&2){const t=r.$implicit,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("menuItems",n.secondaryFieldRowMenuItems)}}function Vi(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-expansion-panel",28)(1,"crt-button",29),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onSelectColumnClick("secondaryColumn"))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"crt-data-table",30),e.\u0275\u0275template(3,Fi,4,2,"ng-template",31),e.\u0275\u0275elementEnd()()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("title",t.translate("InterfaceDesigner.PropertiesPages.CalendarPropertiesPage.SecondaryTileFields")),e.\u0275\u0275property("fullWidthHeader",!1),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.disabledAddSecondaryField?t.translate("InterfaceDesigner.PropertiesPages.CalendarPropertiesPage.DisabledAddSecondaryFieldCaption"):t.translate("InterfaceDesigner.PropertiesPages.CalendarPropertiesPage.AddSecondaryFieldCaption")),e.\u0275\u0275property("disabled",t.disabledAddSecondaryField),e.\u0275\u0275advance(1),e.\u0275\u0275property("features",t.secondaryFieldsTableFeatures)("columns",t.secondaryFieldsTableColumns)("primaryColumnName","id")("items",t.secondaryTileItems),e.\u0275\u0275advance(1),e.\u0275\u0275property("crtDataTableRowToolbarPosition","after")}}var j;(function(o){o.TitleColumn="titleColumn",o.StartColumn="startColumn",o.EndColumn="endColumn",o.SecondaryColumn="secondaryColumn",o.NotesColumn="notesColumn",o.ColorizationColumn="colorizationColumn"})(j||(j={}));let jt=class extends Ve{constructor(r,t,n,a,i){super(r,t,n,r.get(m.DesignerSettingsService),r.get(m.DesignerEntityService),r.get(m.DisplayValueCreatorFactoryService),r.get(P.TranslateService),r.get(_.DesignerCommandFactoryService),r.get(H),r.get(m.DataSourceDependencySettingService),a,r.get(m.FilterViewElementConfigProvider),r.get(s.DataGridDefaultBulkActionsCreator)),this.designerSchemaService=t,this.designerDataSourceManager=n,this._pageLoaderService=i,this._calendarTranslatePrefix="InterfaceDesigner.PropertiesPages.CalendarPropertiesPage",this._requiredControls={[j.StartColumn]:{control:new p.FormControl("",[]),allowedTypes:[l.DataValueType.Date,l.DataValueType.Time,l.DataValueType.DateTime],pathFilter:"start"},[j.EndColumn]:{control:new p.FormControl("",[]),allowedTypes:[l.DataValueType.Date,l.DataValueType.Time,l.DataValueType.DateTime],pathFilter:"due"},[j.TitleColumn]:{control:new p.FormControl("",[]),allowedTypes:[l.DataValueType.Text,l.DataValueType.EMAIL_TEXT,l.DataValueType.LONG_TEXT,l.DataValueType.MEDIUM_TEXT,l.DataValueType.SHORT_TEXT,l.DataValueType.WEB_TEXT,l.DataValueType.PHONE_TEXT,l.DataValueType.Lookup],pathFilter:"title"},[j.SecondaryColumn]:{control:new p.FormControl("",[]),allowedTypes:[l.DataValueType.Text,l.DataValueType.EMAIL_TEXT,l.DataValueType.LONG_TEXT,l.DataValueType.MEDIUM_TEXT,l.DataValueType.SHORT_TEXT,l.DataValueType.WEB_TEXT,l.DataValueType.PHONE_TEXT,l.DataValueType.Lookup,l.DataValueType.Date,l.DataValueType.Time,l.DataValueType.DateTime,l.DataValueType.Integer,l.DataValueType.Float,l.DataValueType.Money],pathFilter:""},[j.NotesColumn]:{control:new p.FormControl("",[]),allowedTypes:[l.DataValueType.Text,l.DataValueType.LONG_TEXT,l.DataValueType.MEDIUM_TEXT,l.DataValueType.SHORT_TEXT,l.DataValueType.WEB_TEXT,l.DataValueType.MAXSIZE_TEXT],pathFilter:"notes"},[j.ColorizationColumn]:{control:new p.FormControl("",[]),allowedTypes:[l.DataValueType.Lookup],pathFilter:""}},this._titleLabelColor="#0D2E4E",this._captionLabelType="caption",this._titleLabelThickness="semibold",this._secondaryFieldLabelThickness="default",this._crtLabelType="crt.Label",this._secondaryTileItemsLimit=4,this.miniPages=[],this.secondaryFieldsTableColumns=[{id:"id",code:"name",caption:"Caption",dataValueType:l.DataValueType.Text}],this.secondaryTileItems=[],this.secondaryFieldRowMenuItems=[{caption:this.translate(`${this._calendarTranslatePrefix}.SecondaryFieldContextMenu.Delete`),code:"remove",icon:"delete-icon",type:"action",handler:u=>{const h=u.rowId;(0,y.isEmpty)(h)||this._removeSecondaryField(h)}}],this.secondaryFieldsTableFeatures={rows:{hierarchical:!0},header:{visible:!1}},this._structureExplorer=r.get(z.StructureExplorerService),this._viewItemCommandExecutor=r.get(m.ViewItemCommandExecutor),this._entitySchemaService=r.get(g.EntitySchemaService)}_removeSecondaryField(r){this._removeItem(r).subscribe(t=>{if(t.success){this.secondaryTileItems=this.secondaryTileItems.filter(a=>a.id!==r);const n=this._calendarViewConfig.templateValuesMapping[r];n&&(this._removeUnusedViewModelAttribute(this.dataSourceName,j.SecondaryColumn,n),delete this._calendarViewConfig.templateValuesMapping[r])}})}_isSecondaryField(r){return![j.EndColumn,j.StartColumn,j.TitleColumn,j.NotesColumn,j.ColorizationColumn].includes(r)}_removeAllSecondaryFields(){const r=this._calendarViewConfig.templateValuesMapping||{};Object.keys(r).filter(t=>this._isSecondaryField(t)).forEach(t=>this._removeSecondaryField(t))}_getTileFlexConfig(){return this._calendarViewConfig?.tileContent?.find(r=>r.type==="crt.FlexContainer")}_getCollectionAttributeBinding(r,t){return`$${r}.${t}`}_getDisplayValueAttributeBinding(r,t){return this._getCollectionAttributeBinding(r,t).concat(" | ","crt.ToDisplayValue")}_getBooleanValueAttributeBinding(r,t){return this._getCollectionAttributeBinding(r,t).concat(" | ","crt.ToBoolean")}_getSelectedPath(r){const t=this._calendarViewConfig.templateValuesMapping[r],n=this.designerSchemaService.getDataSourceConfigByName(this.dataSourceName),u=this._findCollectionAttributeConfig(this.dataSourceName)?.viewModelConfig?.attributes[t]?.modelConfig?.path?.split(".")||[];return(u.length>1?n.attributes[u[1]]:null)?.path}_getStructureExplorerDataProviderConfig(r){const t=this._requiredControls[r],n=this._getSelectedPath(r);return{navigateOnlyThroughDataSource:this.dataSourceName,name:S.DATA_SOURCE_STRUCTURE_EXPLORER_DATA_PROVIDER_NAME,options:{selectedMetaPaths:n?[`${this.dataSourceName}.${n}`]:[]},itemsCustomFilterFunction:a=>{const i=a.data.item.dataValueType;return t.allowedTypes.includes(i)},relatedItemsCustomFilterFunction:()=>!1}}_onColumnSelected(r,t){if(r?.dialogResult!==Dn.StructureExplorerDialogResult.Selected)return;const n=r?.selectedItems[0],a=n?.metaPath?.startsWith(this.dataSourceName)?n?.metaPath?.replace(`${this.dataSourceName}.`,""):n?.metaPath;t!==j.SecondaryColumn&&this._updatePanel(t,n.metaPathCaption),this._updateMetaData(this.dataSourceName,t,a)}_updatePanel(r,t){this.getRequiredControl(r).setValue(t)}_updateMetaData(r,t,n){const a=(0,y.isEmpty)(n)?"":this._updateDataSchemaAttributes(r,t,n);t===j.SecondaryColumn?this._createNewSecondaryField(a):(this._updateTileItems(r,t,a).subscribe(),this._calendarViewConfig.templateValuesMapping[t]=a)}_createNewSecondaryField(r){const t=this._prepareNewSecondaryFieldConfig(r);this._viewItemCommandExecutor.add(t).pipe((0,c.switchMap)(n=>n.execute())).subscribe(n=>{if(n.success){const a=n.createdViewElement.name;this._calendarViewConfig.templateValuesMapping[a]=r,this._loadColumnsInfo(!0)}})}_updateDataSchemaAttributes(r,t,n){const a=this._findDataSourceAttributeName(r,n)||this._addDataSourceAttribute(r,n);return this._removeUnusedViewModelAttribute(r,t),this._addViewModelAttribute(r,a)}_findDataSourceAttributeName(r,t){const n=this.designerSchemaService.getDataSourceConfigByName(r);return Object.keys(n?.attributes||{}).find(a=>n.attributes[a]?.path===t)}_findCollectionAttributeConfig(r){const t=this.designerSchemaService.findAttributeByDataSourceAttributePath(r);return this.designerSchemaService.getViewModelAttribute(t)}_addDataSourceAttribute(r,t){const n=this.designerSchemaService.getDataSourceConfigByName(r),a=this.designerSchemaService.getEntityDataSourceConfigService(r),i=Object.keys(n?.attributes||{}).map(u=>{const h=n.attributes[u];return{name:h?.path,path:h?.path}});return i.push({name:t,path:t}),a.setAttributes(i),a.apply(),this._findDataSourceAttributeName(r,t)}_getViewModelAttributeName(r,t){return`${r}_${t}`}_removeUnusedViewModelAttribute(r,t,n){const a=(0,y.isEmpty)(n)?this._calendarViewConfig.templateValuesMapping[t]:n;if((0,y.isEmpty)(a)||Object.keys(this._calendarViewConfig.templateValuesMapping).filter(h=>this._calendarViewConfig.templateValuesMapping[h]===a).length>1)return;const i=this._findCollectionAttributeConfig(r),u=this.designerSchemaService.findAttributeByDataSourceAttributePath(r);delete i.viewModelConfig.attributes[a],this.designerSchemaService.updateViewModelAttribute(u,i)}_addViewModelAttribute(r,t){const n=`${r}.${t}`,a=this._getViewModelAttributeName(r,t),i=this._findCollectionAttributeConfig(r),u=this.designerSchemaService.findAttributeByDataSourceAttributePath(r);return i.viewModelConfig.attributes[a]={modelConfig:{path:n}},this.designerSchemaService.updateViewModelAttribute(u,i),a}_updateTileItems(r,t,n){if(t!==j.TitleColumn||!this._calendarViewConfig)return(0,d.of)(null);const a=this.designerSchemaService.findAttributeByDataSourceAttributePath(r),i=this._getDisplayValueAttributeBinding(a,n),u=this._getTileFlexConfig();if(!u)return this._createFlex().pipe((0,c.switchMap)(q=>q.success?this._createLabel(q.createdViewElement.name,i):(0,d.of)(q)));const h=this._calendarViewConfig.templateValuesMapping[t],b=this.designerSchemaService.getViewConfigInfoByProperty("caption",this._getDisplayValueAttributeBinding(a,h));if(!b||b.length===0)return this._createLabel(u.name,i);const O={path:"itemConfig.caption",value:i};return this._viewItemCommandExecutor.change(b[0].viewConfig,[O]).pipe((0,c.switchMap)(q=>q.execute()))}_createFlex(){return this._viewItemCommandExecutor.add({containerName:this._calendarViewConfig.name,designerTool:{defaultConfig:{type:"crt.FlexContainer",defaultPropertyValues:{items:[],direction:"column"}}},propertyName:"tileContent"}).pipe((0,c.switchMap)(r=>r.execute()))}_createLabel(r,t){return this._viewItemCommandExecutor.add({containerName:r,designerTool:{defaultConfig:{type:this._crtLabelType,defaultPropertyValues:{labelColor:this._titleLabelColor,labelType:this._captionLabelType,labelThickness:this._titleLabelThickness,caption:t}}}}).pipe((0,c.switchMap)(n=>n.execute()))}_loadColumnsInfo(r=!1,t=!1){const n=this.dataSourceName,a=this._calendarViewConfig?.templateValuesMapping;if(!n||!a)return;let i=Object.keys(a);t||(i=i.filter(u=>this._isSecondaryField(u))),r?this.secondaryTileItems=[]:i=i.filter(u=>!this._isSecondaryField(u)),this._getForwardReferenceAttributesCaption(n,i).subscribe(({attributeMappingKey:u,caption:h})=>{this._isSecondaryField(u)?this.secondaryTileItems.push({id:u,name:h}):this.getRequiredControl(u)?.setValue(h)})}_getForwardReferenceAttributesCaption(r,t){if(!t.length)return(0,d.of)();const n=this._findCollectionAttributeConfig(r);return this.designerDataSourceManager.getDataSourceServiceByDataSourceName(r).pipe((0,c.mergeMap)(a=>(0,d.from)(t).pipe((0,c.switchMap)(i=>{const u=this._calendarViewConfig.templateValuesMapping[i],h=n?.viewModelConfig?.attributes[u];return a.getForwardReferenceAttributeCaptionByPath$(h?.modelConfig?.path).pipe((0,d.map)(b=>({attributeMappingKey:i,caption:b})))}))))}_initAdvancedProperties(){this._initLookupMiniPages().then(()=>{this._initUseAutoScroll()})}_initLookupMiniPages(){return(0,d.lastValueFrom)(this._pageLoaderService.getPagesByGroups(["MiniPage"]).pipe((0,d.map)(r=>{this.miniPages=(0,g.castPageConfigsToLookups)(r),this._miniPageSchemaNameControl=this.getControl("miniPageSchemaName");const t=this.miniPages.find(n=>n.value===this._calendarViewConfig.miniPageSchemaName);this._miniPageSchemaNameControl.setValue(t)})))}_initUseAutoScroll(){this.getControl("useAutoScrollToCurrentTime").setValue(this._calendarViewConfig?.useAutoScrollToCurrentTime??!1)}_trySetColumn(r,t,n){const a=this._requiredControls[n],i=t.columns.find(u=>a.allowedTypes.includes(u.dataValueType)&&u.name.toLowerCase().includes(a.pathFilter));this._updateMetaDataByEntityColumn(r,t,i,n)}_updateMetaDataByEntityColumn(r,t,n,a){!n||(this._updateMetaData(r,a,n.name),this._updatePanel(a,`${t.caption}.${n.caption}`))}_trySetRequiredColumns(){if(!this._calendarViewConfig.items)return;const r=this.designerSchemaService.getMappedDataSourceAttributePath(this._calendarViewConfig.items.replace("$",""));this._entitySchemaService.getEntitySchemaByName(this.entitySchemaName).subscribe(t=>{if(!t.success)return;this._trySetColumn(r,t.entitySchema,j.StartColumn),this._trySetColumn(r,t.entitySchema,j.EndColumn),this._trySetColumn(r,t.entitySchema,j.NotesColumn);const n=t.entitySchema.getPrimaryDisplayColumn();this._updateMetaDataByEntityColumn(r,t.entitySchema,n,j.TitleColumn)})}_prepareNewSecondaryFieldConfig(r){const t=this.designerSchemaService.findAttributeByDataSourceAttributePath(this.dataSourceName),n=this._getDisplayValueAttributeBinding(t,r),a=this._getBooleanValueAttributeBinding(t,r);return{containerName:this._getTileFlexConfig().name,designerTool:{defaultConfig:{type:this._crtLabelType,defaultPropertyValues:{labelColor:this._titleLabelColor,labelType:this._captionLabelType,labelThickness:this._secondaryFieldLabelThickness,caption:n,visible:a}}}}}_removeItem(r){return this._viewItemCommandExecutor.remove({name:r}).pipe((0,c.switchMap)(t=>t.execute()))}_clearColorizationType(){this.getControl("colorizationType")?.setValue(null)}getPropertiesConfig(){return{...super.getPropertiesConfig(),templateValuesMapping:{path:"itemConfig.templateValuesMapping",dataValueType:l.DataValueType.CUSTOM_OBJECT},miniPageSchemaName:{path:"itemConfig.miniPageSchemaName",dataValueType:l.DataValueType.Lookup,options:{items:[]}},useAutoScrollToCurrentTime:{path:"itemConfig.useAutoScrollToCurrentTime",dataValueType:l.DataValueType.Boolean},lightweightModeLimit:{path:"itemConfig.lightweightModeLimit",dataValueType:l.DataValueType.Integer},colorizationType:{path:"itemConfig.colorizationType",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[]},options:{items:[{value:s.CalendarColorizationType.Default,displayValue:this.translate(`${this._calendarTranslatePrefix}.ColorizationType.Default`)},{value:s.CalendarColorizationType.ByField,displayValue:this.translate(`${this._calendarTranslatePrefix}.ColorizationType.ByField`)},{value:s.CalendarColorizationType.ByOwner,displayValue:this.translate(`${this._calendarTranslatePrefix}.ColorizationType.ByOwner`)}]}}}}emitChanges(r){const t=this.getControl("referenceSchema").value?.value;t&&t!==this.entitySchemaName&&(this._removeAllSecondaryFields(),this._clearColorizationType(),this._calendarViewConfig.templateValuesMapping={},[j.TitleColumn,j.StartColumn,j.EndColumn,j.NotesColumn].forEach(n=>{this.getRequiredControl(n)?.setValue("")})),super.emitChanges(r)}filterChanges(r){return r}getRequiredControl(r){return this._requiredControls[r]?.control}onSelectColumnClick(r){const t=this._getStructureExplorerDataProviderConfig(r);this._structureExplorer.show({providers:[t],enableMultiSelection:!1,returnDialogResult:!0}).subscribe(n=>this._onColumnSelected(n,r))}loadData(r){return super.loadData(r).pipe((0,d.map)(t=>(this._calendarViewConfig=r.itemConfig,this._calendarViewConfig.templateValuesMapping=this._calendarViewConfig.templateValuesMapping||{},this._calendarViewConfig.miniPageSchemaName=this._calendarViewConfig.miniPageSchemaName||"",t.itemConfig.colorizationType=this._calendarViewConfig.colorizationType,this._loadColumnsInfo(!0,!0),this._initAdvancedProperties(),t)))}get useAutoScrollToCurrentTime(){return this.getControl("useAutoScrollToCurrentTime")?.value??!1}get disabledAddSecondaryField(){return this.secondaryTileItems.length>=this._secondaryTileItemsLimit}get visibleSecondaryFieldsGroup(){return this.getControl("referenceSchema")?.value&&this.getRequiredControl(j.TitleColumn)?.value}get colorColumnControlVisible(){return this.getControl("colorizationType")?.value?.value===s.CalendarColorizationType.ByField}ngAfterViewInit(){this.designerSchemaService.schemaChanged$.pipe((0,d.filter)(({changes:{viewConfig:r}})=>r?.name===this._calendarViewConfig.name)).subscribe(()=>{this._calendarViewConfig.columns&&(this._trySetRequiredColumns(),delete this._calendarViewConfig.columns)})}translate(r){return r.includes(".")?this.translateService.instant(r):super.translate(r)}onSliderChange(r,t){this.getControl(t).setValue(r?.checked??!1)}setFocusedSecondaryFieldRow(r){this.focusedSecondaryFieldRowId=r}filterByColorizationType(r){return this.entitySchemaName===g.ACTIVITY_SCHEME_NAME?r:r.filter(t=>t.value!==s.CalendarColorizationType.ByOwner)}};jt.\u0275fac=function(r){return new(r||jt)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(m.DesignerDataSourceManager),e.\u0275\u0275directiveInject(m.FILTER_VIEW_ELEMENT_CONFIG_FINDERS),e.\u0275\u0275directiveInject(le.PagesListLoaderService))},jt.\u0275cmp=e.\u0275\u0275defineComponent({type:jt,selectors:[["crt-calendar-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:16,vars:17,consts:[["cdkScrollable","",1,"properties-panel-wrap","data-grid-properties-panel-wrap"],[1,"properties-form",3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"general-panel",3,"title"],[3,"control","items","label","config"],[4,"ngIf"],["class","secondary-fields-group","togglePosition","after","expanded","true","toggleType","material",3,"title","fullWidthHeader",4,"ngIf"],[3,"formGroup"],["floatLabel","always",1,"form-field-wrapper"],["data-qa","NotesColumnInput","matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl"],["data-qa","NotesColumnIcon","svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],["data-qa","use-auto-scroll-current-time",3,"default","title","toggleChange"],["data-qa","StartDateColumnInput","required","","matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl"],["data-qa","StartDateColumnIcon","svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],["data-qa","EndDateColumnInput","required","","matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl"],["data-qa","EndDateColumnIcon","svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],["data-qa","PrimaryDisplayColumnInput","required","","matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl"],["data-qa","PrimaryDisplayColumnIcon","svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],["labelPosition","above","data-qa","colorization-type-list",3,"ngStyle","items","control","label"],["class","form-field-wrapper","floatLabel","always",4,"ngIf"],[3,"dataSourceSelectOptions","currentDataSource","targetDataSourceName","dependenciesSetting","dependenciesSettingChange"],[3,"filtersOptions","disabled","selectedFiltersOptions","selectedFiltersChange",4,"ngIf"],[1,"filter-settings"],["labelType","body-1","labelFontSize","13px"],["shape","rounded","color","primary",1,"setup-filter-btn",3,"clicked"],["data-qa","ColorizationColumnInput","required","","matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl"],["data-qa","ColorizationColumnIcon","svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[3,"filtersOptions","disabled","selectedFiltersOptions","selectedFiltersChange"],["togglePosition","after","expanded","true","toggleType","material",1,"secondary-fields-group",3,"title","fullWidthHeader"],["afterLabelContent","","color","default","icon","plus-icon","iconPosition","only-icon","shape","rounded",1,"add-secondary-field-button",3,"disabled","title","clicked"],[1,"menu-items-table",3,"features","columns","primaryColumnName","items"],["crtDataTableRowToolbar","",3,"crtDataTableRowToolbarPosition"],[1,"crt-row-toolbar-wrapper"],["class","crt-toolbar crt-row-toolbar secondary-field",3,"crtMenuTriggerFor","crtMenuTriggerData","iconPosition","icon","disableRipple","crt-toolbar-visible","focused","blurred","click","menuClosed",4,"ngIf"],[3,"menuItems"],["rowMenu",""],[1,"crt-toolbar","crt-row-toolbar","secondary-field",3,"crtMenuTriggerFor","crtMenuTriggerData","iconPosition","icon","disableRipple","focused","blurred","click","menuClosed"],["trigger","crtMenuTrigger"]],template:function(r,t){if(r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3),e.\u0275\u0275element(4,"crt-entity-schema-select",4),e.\u0275\u0275template(5,xi,28,26,"div",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,Vi,4,9,"crt-expansion-panel",6),e.\u0275\u0275element(7,"crt-properties-panel-visibility-settings",7),e.\u0275\u0275elementStart(8,"crt-properties-panel-advanced-settings",7)(9,"mat-form-field",8)(10,"mat-label"),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"input",9),e.\u0275\u0275elementStart(13,"mat-icon",10),e.\u0275\u0275listener("click",function(){return t.onSelectColumnClick("notesColumn")}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"crt-slide-toggle",11),e.\u0275\u0275listener("toggleChange",function(a){return t.onSliderChange(a,"useAutoScrollToCurrentTime")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"crt-properties-panel-container-settings",7),e.\u0275\u0275elementEnd()()()),r&2){let n;e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("InterfaceDesigner.PropertiesPages.CalendarPropertiesPage.PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("referenceSchema"))("items",t.referenceSchemaItems)("label",t.translate("DataSourceCaption"))("config",t.config),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(n=t.getControl("referenceSchema"))==null?null:n.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.visibleSecondaryFieldsGroup),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.translate("InterfaceDesigner.PropertiesPages.CalendarPropertiesPage.NotesColumn")),e.\u0275\u0275advance(1),e.\u0275\u0275property("readonly",!0)("formControl",t.getRequiredControl("notesColumn")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("title",t.translate("InterfaceDesigner.PropertiesPages.CalendarPropertiesPage.AutoScrollToCurrentTime")),e.\u0275\u0275property("default",t.useAutoScrollToCurrentTime),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm)}},dependencies:[f.NgIf,f.NgStyle,s.CrtButtonComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,s.CrtMenuComponent,s.CrtMenuTriggerDirective,s.CrtDataTableComponent,s.CrtDataTableRowToolbarDirective,Fe,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.FormControlDirective,p.FormGroupDirective,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,E.SlideToggleComponent,me,D,F,A,re,de],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .crt-widget-properties-panel-setup-button-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-widget-properties-panel-attribute-filters-setting[_ngcontent-%COMP%]{padding-bottom:16px}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]   crt-expansion-panel.secondary-fields-group[_ngcontent-%COMP%]   .add-secondary-field-button[_ngcontent-%COMP%], [_nghost-%COMP%]   crt-button.mat-menu-trigger.crt-toolbar.crt-row-toolbar.secondary-field[_ngcontent-%COMP%]{margin-top:unset}.structure-explorer-icon[_ngcontent-%COMP%]{cursor:pointer}.filter-settings[_ngcontent-%COMP%]{margin:20px 0}"]}),jt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.CalendarPropertiesPanelComponent",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,_.DesignerSchemaService,m.DesignerDataSourceManager,Array,le.PagesListLoaderService])],jt);var Co=T(16245),Ai=T(78917);function Oi(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",1)(2,"label",2),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"mat-form-field",3)(5,"ts-value-picker",4,5),e.\u0275\u0275listener("selected",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onSelectedValue(a))}),e.\u0275\u0275elementEnd()()()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.attribute==null?null:t.attribute.caption),e.\u0275\u0275advance(2),e.\u0275\u0275property("selectedValue",t.value)("config",t.config)}}class Z{constructor(r,t,n,a,i){this._cdr=r,this._designerCommandFactoryService=t,this._designerDataSourceManager=n,this._designerSchemaService=a,this._macrosHandlerService=i}_getSchemaDataForLoad(r,t,n){return(r?r.getSchema().pipe((0,c.take)(1)):(0,d.of)(null)).pipe((0,c.mergeMap)(i=>{const u=this._getDataSchemaAttribute(i,t,n);return u?this._designerDataSourceManager.getDataSourceServiceByDataSourceName(`${r.dataSourceName}`).pipe((0,c.mergeMap)(h=>h.getForwardReferenceAttributeCaptionByPath$(`${r.dataSourceName}.${u.path}`)),(0,c.map)(h=>({dataSchema:i,dataSchemaAttribute:u,caption:h}))):(0,d.of)({dataSchema:i,dataSchemaAttribute:u,caption:""})}))}_getDataSchemaAttribute(r,t,n){let a=r?.attributes.find(i=>i.path===t);if(!a){const i=this._designerSchemaService.getDataSourceConfigAttributePath(n,t);i&&(a=r?.attributes.find(u=>u.path===i))}return a}_getStructureExplorerDataProviderConfig(r){return{name:S.DATA_SOURCE_STRUCTURE_EXPLORER_DATA_PROVIDER_NAME,itemsCustomFilterFunction:t=>this._structureExplorerFilterFunc(t,r),...this.extraStructureExplorerProviderConfig}}_structureExplorerFilterFunc(r,t){if(!r.data)return!0;const n=r.data.item;switch(t.dataValueType){case l.DataValueType.Lookup:return n.dataValueType===l.DataValueType.Guid||n.referenceSchemaName===t.referenceSchemaName;case l.DataValueType.Guid:return[l.DataValueType.Lookup,l.DataValueType.Guid].includes(n.dataValueType);default:switch(!0){case[t.dataValueType,n.dataValueType].every(a=>g.DataValueTypeGroup.Text.includes(a)):case[t.dataValueType,n.dataValueType].every(a=>g.DataValueTypeGroup.Number.includes(a)):case[t.dataValueType,n.dataValueType].every(a=>g.DataValueTypeGroup.DateTime.includes(a)):return!0;default:return t.dataValueType===n.dataValueType}}}writeValue(r){this.attribute=r,this.initValuePickerConfig(),this.toValuePicker(r).subscribe(t=>{this.value=t,this._cdr.detectChanges()})}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}toValuePicker(r){if(!r?.value)return(0,d.of)(null);const t=r?.value||"";if((0,y.isObject)(t))return(0,d.of)(t);if(t?.startsWith("$")){const n=t.slice(1),a=this._designerSchemaService.getMappedDataSourceAttributePath(n);if(a)return(0,d.of)(void 0).pipe((0,c.switchMap)(()=>{if(!(a.indexOf("#")>=0))return(0,d.of)(a);const u=this._designerSchemaService.schema;return this._macrosHandlerService.handle({dataSourceAttributePath:a},u).pipe((0,c.map)(h=>h.dataSourceAttributePath))}),(0,c.switchMap)(i=>{const u=i.split("."),h=u.shift(),b=u.join(".");return this._designerDataSourceManager.getDataSourceByName$(h).pipe((0,c.mergeMap)(O=>this._getSchemaDataForLoad(O,b,h)),(0,c.map)(({dataSchema:O,dataSchemaAttribute:q,caption:ee})=>{if(q)return{value:`${h}.${q.path}`,displayValue:ee,source:"DataSourceAttributeValuePickerProvider"}}))}))}return(0,d.of)({value:t,displayValue:t,source:"DataSourceAttributeValuePickerProvider"})}initValuePickerConfig(){this.config={columnType:{dataValueType:this.attribute?.dataValueType},sourcesConfig:{DataSourceAttributeValuePickerProvider:{entitySchemaUId:this.attribute?.referenceSchemaUId,dataValueType:this.attribute?.dataValueType,lenientDataValueTypeComparison:!0,providerConfig:this._getStructureExplorerDataProviderConfig(this.attribute)}}}}onSelectedValue(r){if(!r?.value){this._onChange({...this.attribute,value:null}),this._cdr.detectChanges();return}this._designerCommandFactoryService.create("crt.ChangeRequestParameterBindingCommand",{changes:[{value:r.value}]}).pipe((0,c.mergeMap)(t=>t.execute())).subscribe(t=>{const{viewModelAttributeName:n}=t,a={...this.attribute,value:"$"+n};this._onChange(a),this.value=r,this._cdr.detectChanges()})}}Z.\u0275fac=function(r){return new(r||Z)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(_.DesignerCommandFactoryService),e.\u0275\u0275directiveInject(m.DesignerDataSourceManager),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(g.MacrosHandlerService))},Z.\u0275cmp=e.\u0275\u0275defineComponent({type:Z,selectors:[["crt-attribute-mapping"]],inputs:{extraStructureExplorerProviderConfig:"extraStructureExplorerProviderConfig"},features:[e.\u0275\u0275ProvidersFeature([{provide:Co.VALUE_PICKER_RESOLVER,useClass:Un.ValuePickerProviderResolver},{provide:Co.VALUE_PICKER_PROVIDER,useClass:Ai.DataSourceAttributeValuePickerProvider,multi:!0},{provide:p.NG_VALUE_ACCESSOR,useExisting:(0,e.forwardRef)(()=>Z),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"crt-input-label-container"],[1,"crt-input-label"],[1,"column-editor-cell-control"],[3,"selectedValue","config","selected"],["valuePicker",""]],template:function(r,t){r&1&&e.\u0275\u0275template(0,Oi,7,3,"div",0),r&2&&e.\u0275\u0275property("ngIf",t.attribute)},dependencies:[f.NgIf,v.MatLegacyFormField,Un.ValuePickerComponent],styles:[`.column-editor-cell-control{width:100%}.column-editor-cell-control input{display:flex;flex-direction:row;align-items:baseline}.column-editor-cell-control .structure-explorer-action{margin-left:10px}.column-editor-cell-control .structure-explorer-action .structure-explorer-action-icon{width:16px;height:24px}.value-picker-menu{margin-top:11px}.value-picker-menu-item{width:initial!important}
`],encapsulation:2,changeDetection:0});class un{constructor(){this.control=new p.FormControl,this.label="",this.items=[]}writeValue(r){const t=this.items.find(n=>n.value===r)||null;t&&this.control.setValue(t,{emitEvent:!1})}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}ngOnInit(){this.control.valueChanges.subscribe(r=>{this._onTouched(),this._onChange(r?.value||"")})}}un.\u0275fac=function(r){return new(r||un)},un.\u0275cmp=e.\u0275\u0275defineComponent({type:un,selectors:[["crt-base-combobox"]],inputs:{label:"label",items:"items"},features:[e.\u0275\u0275ProvidersFeature([{provide:p.NG_VALUE_ACCESSOR,useExisting:(0,e.forwardRef)(()=>un),multi:!0}])],decls:1,vars:3,consts:[["labelPosition","above",3,"control","label","items"]],template:function(r,t){r&1&&e.\u0275\u0275element(0,"crt-combobox",0),r&2&&e.\u0275\u0275property("control",t.control)("label",t.label)("items",t.items)},dependencies:[s.CrtComboBoxComponent],styles:["[_nghost-%COMP%]{width:100%}"]});function fo(o,r){return o.map(t=>({...t,...r.find(n=>n.attributeName===t.attributeName)||{}}))}function yo(o){return o.map(({attributeName:r,value:t})=>({attributeName:r,value:t}))}function ki(o,r){let t=o;if(r){const n=r.toLowerCase(),a=u=>u.displayValue.toLowerCase().indexOf(n)===0,i=u=>u.displayValue.toLowerCase().indexOf(n)>=1;t=[...o.filter(a),...o.filter(i)]}return t}function eo(o,r=[S.SizeEnum.None,S.SizeEnum.Small,S.SizeEnum.Large,S.SizeEnum.Medium]){return{items:Object.entries(S.SizeEnum).filter(([,t])=>r.includes(t)).map(([t,n])=>({value:n,displayValue:o(`Sizes.${t}`)}))}}const So={[g.ThemeColor.Primary500]:"#004fd6",[g.ThemeColor.Brand500]:"#ff4013",[g.ThemeColor.PrimaryContrast500]:"#FFFFFF",[g.ThemeColor.Foreground500]:"#181818",[g.ThemeColor.Label500]:"#757575",[g.ThemeColor.BrandSecondary500]:"#0d2e4e",[g.ThemeColor.Warning500]:"#df1f26",[g.ThemeColor.NavigationPrimary500]:"#0b8500"},bo={[g.CrtColor.LightGreen]:"#a5dd01",[g.CrtColor.Green]:"#00c753",[g.CrtColor.DarkGreen]:"#21ab13",[g.CrtColor.Orange]:"#fdab06",[g.CrtColor.OrangeRed]:"#fd8701",[g.CrtColor.Coral]:"#f92f7e",[g.CrtColor.BrightRed]:"#fd6534",[g.CrtColor.Red]:"#fd3f11",[g.CrtColor.Purple]:"#b77cce",[g.CrtColor.Violet]:"#7848ed",[g.CrtColor.CelestialBlue]:"#0090e9",[g.CrtColor.Blue]:"#0057ee",[g.CrtColor.LightBlue]:"#03a8f4",[g.CrtColor.NavyBlue]:"#4f43c1",[g.CrtColor.DarkTurquoise]:"#009587",[g.CrtColor.Turquoise]:"#00bea4",[g.CrtColor.LightGreenPastel]:"#edf8cb",[g.CrtColor.GreenPastel]:"#cbf4db",[g.CrtColor.DarkGreenPastel]:"#d1edcf",[g.CrtColor.OrangePastel]:"#fdedcc",[g.CrtColor.OrangeRedPastel]:"#fde6cb",[g.CrtColor.CoralPastel]:"#fdd5e4",[g.CrtColor.BrightRedPastel]:"#fddfd5",[g.CrtColor.RedPastel]:"#fdd8cf",[g.CrtColor.PurplePastel]:"#f0e4f4",[g.CrtColor.VioletPastel]:"#e3d9fc",[g.CrtColor.CelestialBluePastel]:"#cbe8fa",[g.CrtColor.BluePastel]:"#cbddfc",[g.CrtColor.LightBluePastel]:"#ccedfc",[g.CrtColor.NavyBluePastel]:"#dbd8f2",[g.CrtColor.DarkTurquoisePastel]:"#cbe9e6",[g.CrtColor.TurquoisePastel]:"#cbf1ec",[g.CrtColor.PrimaryBlack]:"#000000",[g.CrtColor.PrimaryWhite]:"#efefef",[g.CrtColor.PrimaryGrey]:"#757575",[g.CrtColor.PrimaryBlue]:"#004fd5",[g.CrtColor.PrimaryGreen]:"#098401",[g.CrtColor.PrimaryOrange]:"#fd3f11",[g.CrtColor.PrimaryNavi]:"#0c2e4d"};function to(o){return{...bo,...So}[o]||"transparent"}function Po(o){const r={...bo,...So};return Object.keys(r).find(t=>r[t].toUpperCase()===o.toUpperCase())}class ne{constructor(){this._transparentColorValue="",this.control=new p.FormControl,this.label="",this.rowSize=4,this.pickerMode="basic"}set colors(r){this._colors=r}get colors(){return this._colors}set palette(r){this._palette=r,this._colors=r.map(t=>to(t))}get pickerConfig(){return{rowSize:this.rowSize}}_isTransparentColor(r){return r?.toLowerCase()===S.CONTAINER_COLOR_TRANSPARENT||r===this._transparentColorValue}_setColorControlValue(r){this._isTransparentColor(r)&&(r=S.CONTAINER_COLOR_TRANSPARENT),this.control.setValue(r)}_getSelectedPickerColorByTheme(r){const t=to(r);return this._isTransparentColor(t)?this._transparentColorValue:t}selectedColorChange(r){if(this._palette){const t=Po(r);this._setColorControlValue(t||r);return}this._setColorControlValue(r)}getSelectedColor(){const r=this.control?.value;return this._isTransparentColor(r)?this._transparentColorValue:Object.values(g.ThemeColor).includes(r)||Object.values(g.CrtColor).includes(r)?this._getSelectedPickerColorByTheme(r):this.control?.value||this.colors[0]}}ne.\u0275fac=function(r){return new(r||ne)},ne.\u0275cmp=e.\u0275\u0275defineComponent({type:ne,selectors:[["crt-properties-panel-color-picker"]],inputs:{control:"control",label:"label",rowSize:"rowSize",colors:"colors",palette:"palette",pickerMode:"pickerMode"},decls:1,vars:5,consts:[["labelPosition","above",3,"selectedColor","label","colors","pickerMode","pickerConfig","selectedColorChange"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"crt-color-picker",0),e.\u0275\u0275listener("selectedColorChange",function(a){return t.selectedColorChange(a)}),e.\u0275\u0275elementEnd()),r&2&&e.\u0275\u0275property("selectedColor",t.getSelectedColor())("label",t.label)("colors",t.colors)("pickerMode",t.pickerMode)("pickerConfig",t.pickerConfig)},dependencies:[s.CrtColorPickerComponent],encapsulation:2});const Li=["*"];class ce{getControlGroupStyles(){return{label:{},header:{"min-height":"48px"}}}}ce.\u0275fac=function(r){return new(r||ce)},ce.\u0275cmp=e.\u0275\u0275defineComponent({type:ce,selectors:[["crt-properties-panel-group"]],inputs:{title:"title"},ngContentSelectors:Li,decls:2,vars:2,consts:[["expanded","true","togglePosition","after","toggleType","material",3,"title","extraStyles"]],template:function(r,t){r&1&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"crt-expansion-panel",0),e.\u0275\u0275projection(1),e.\u0275\u0275elementEnd()),r&2&&e.\u0275\u0275property("title",t.title)("extraStyles",t.getControlGroupStyles())},dependencies:[s.CrtExpansionPanelComponent],styles:["[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}"]});class dn{constructor(){this.control=new p.FormControl}onSliderValueChanged(r){this.control.setValue(r)}}dn.\u0275fac=function(r){return new(r||dn)},dn.\u0275cmp=e.\u0275\u0275defineComponent({type:dn,selectors:[["crt-properties-panel-slider"]],inputs:{control:"control",config:"config",label:"label"},decls:5,vars:6,consts:[[1,"crt-properties-panel-slider"],["labelFontSize","12px","labelColor","rgba(var(--foreground-secondary-text), 1)",1,"properties-panel-slider-label",3,"caption"],[3,"value","minValue","maxValue","step","valueChanged"],[1,"properties-panel-slider-value"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-label",1),e.\u0275\u0275elementStart(2,"crt-slider",2),e.\u0275\u0275listener("valueChanged",function(a){return t.onSliderValueChanged(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("caption",t.label),e.\u0275\u0275advance(1),e.\u0275\u0275property("value",t.control.value)("minValue",t.config.minValue)("maxValue",t.config.maxValue)("step",t.config.step),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.control.value,"%"))},dependencies:[s.CrtLabelComponent,s.CrtSliderComponent],styles:[`.crt-properties-panel-slider .properties-panel-slider-label{padding-bottom:8px}.crt-properties-panel-slider .properties-panel-slider-value{width:100%;text-align:center}
`],encapsulation:2});const Ni=[un,D,ne,dn,Z,sn,ge,F,A,ce,re,$],Ri=function(o){return{name:"test",type:o,isEmbedded:!0}};function Bi(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0,18,19),e.\u0275\u0275listener("viewElementShow",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onDsAttributePropertiesPanelShow(a))}),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("crtViewElement",e.\u0275\u0275pureFunction1(1,Ri,t.propertiesComponentTypeName))}}function Gi(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",6),e.\u0275\u0275element(1,"crt-checkbox",7),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("disabled"))("labelPosition","right")("label",t.translate("EditabilityControls.Disabled"))}}function ji(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getBindToDataSourceErrorMessage())}}let Ae=class extends J{getLabelPositionItems(){const r=super.getLabelPositionItems();return r.splice(r.findIndex(t=>t.value==="left"),0,{value:"right",displayValue:this.translate("LabelPositionVariants.Right")}),r}enableReadOnlyProperty(){super.enableReadOnlyProperty(),this.getControl("disabled").enable({onlySelf:!0})}disableReadOnlyProperty(r){super.disableReadOnlyProperty(r),r&&r.attributeType!==l.DataSchemaAttributeType.OwnAttribute&&this.getControl("disabled").disable({onlySelf:!0})}getPropertiesConfig(){return{...super.getPropertiesConfig(),tooltipValue:{path:"itemConfig.tooltip",dataValueType:l.DataValueType.LOCALIZABLE_STRING},disabled:{path:"itemConfig.disabled",dataValueType:l.DataValueType.Boolean}}}};Ae.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Ae)))(t||Ae)}}(),Ae.\u0275cmp=e.\u0275\u0275defineComponent({type:Ae,selectors:[["crt-checkbox-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:30,vars:31,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[3,"crtViewElement","viewElementShow",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],["class","crt-control-form-field-wrapper",4,"ngIf"],[1,"crt-control-form-field-wrapper"],[3,"control","labelPosition","label"],[3,"formGroup"],[3,"items","control","labelPosition","label","useStaticFiltering"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","label"],["titleOnPage",""],["tooltip",""],["floatLabel","always",1,"form-field-wrapper"],["matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl","errorStateMatcher"],["svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[4,"ngIf"],[3,"crtViewElement","viewElementShow"],["DataSourceAttributePropertiesPanel",""]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275template(2,Bi,2,3,"ng-container",2),e.\u0275\u0275elementStart(3,"form",3)(4,"crt-expansion-panel",4),e.\u0275\u0275template(5,Gi,2,3,"div",5),e.\u0275\u0275elementStart(6,"div",6),e.\u0275\u0275element(7,"crt-checkbox",7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(8,"crt-properties-panel-visibility-settings",8),e.\u0275\u0275elementStart(9,"crt-expansion-panel",4)(10,"div",6),e.\u0275\u0275element(11,"crt-combobox",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"mat-form-field",10)(13,"mat-label"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"ts-localizable-text-input",11,12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"mat-form-field",10)(18,"mat-label"),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"ts-localizable-text-input",11,13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"crt-properties-panel-advanced-settings",8)(23,"mat-form-field",14)(24,"mat-label"),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(27,"input",15),e.\u0275\u0275elementStart(28,"mat-icon",16),e.\u0275\u0275listener("click",function(){return t.onSelectDataSourceClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(29,ji,2,1,"mat-error",17),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("simpleTitle",t.getTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.propertiesComponentTypeName),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("Editability")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getControl("disabled").value),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("readonly"))("labelPosition","right")("label",t.translate("EditabilityControls.Readonly")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.getLookupItems("labelPosition"))("control",t.getControl("labelPosition"))("labelPosition","above")("label",t.translate("LabelPosition"))("useStaticFiltering",!0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("TitleOnPage")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","titleOnPage")("label",t.translate("TitleOnPage")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",t.translate("Tooltip")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","tooltipValue")("label",t.translate("Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(26,29,"PropertiesPages.BaseInputPropertiesPanel.BindToDataSourceCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("readonly",!0)("formControl",t.bindToDataSource)("errorStateMatcher",t.anyErrorStateMatcher),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.bindToDataSource.invalid))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,p.FormControlName,V.ViewElementDirective,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,D,F,A,P.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),Ae=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.CheckboxPropertiesPanelComponent",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Ae);const zi=function(o){return{name:"test",type:o,isEmbedded:!0}};function qi(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0,19,20),e.\u0275\u0275listener("viewElementShow",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onDsAttributePropertiesPanelShow(a))}),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("crtViewElement",e.\u0275\u0275pureFunction1(1,zi,t.propertiesComponentTypeName))}}function Ui(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",6)(1,"div",7),e.\u0275\u0275element(2,"crt-checkbox",21),e.\u0275\u0275elementEnd()()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("title",t.translate("Editability"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("readonly"))("labelPosition","right")("label",t.translate("EditabilityControls.Readonly"))}}function Wi(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",9),e.\u0275\u0275element(1,"crt-label",10)(2,"ts-localizable-text-input",11,22),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("caption",t.translate("Tooltip")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","tooltipValue")("label",t.translate("Tooltip"))}}function Qi(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getBindToDataSourceErrorMessage())}}let Oe=class extends J{constructor(){super(...arguments),this._colorPickerTooltipBasicModeClass="color-picker-type-tooltip-basic",this._colorPickerTooltipExtendedModeClass="color-picker-type-tooltip-extended",this.pickerModeOptions=[{value:"basic",caption:this.translate("ColorPicker.PickerMode.Basic"),tooltipConfig:this._getTooltipConfig(this._colorPickerTooltipBasicModeClass,150,104)},{value:"extended",caption:this.translate("ColorPicker.PickerMode.Extended"),tooltipConfig:this._getTooltipConfig(this._colorPickerTooltipExtendedModeClass,170,300)}]}_getTooltipConfig(r,t,n){return new E.TooltipOverlayConfig({tooltipConfig:{value:this._getHtmlCode(r,t,n),cssClasses:["color-picker-type-tooltip"]},capture:!0,preferredPositions:[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetX:-8,offsetY:8,panelClass:"color-picker-type-tooltip-border-top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetX:8,offsetY:8,panelClass:"color-picker-type-tooltip-border-top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",offsetX:-8,offsetY:-8,panelClass:"color-picker-type-tooltip-border-bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetX:8,offsetY:-8,panelClass:"color-picker-type-tooltip-border-bottom"}],componentType:E.CrtBaseTooltipComponent})}_getHtmlCode(r,t,n){return`<img class="${r}" width="${t}" height="${n}"/>`}_applyDefaultProperties(r){return"pickerMode"in r.itemConfig||(r.itemConfig.pickerMode="extended"),r}getPropertiesConfig(){return{...super.getPropertiesConfig(),pickerMode:{path:"itemConfig.pickerMode",dataValueType:l.DataValueType.Text}}}get readOnlyControlName(){return"disabled"}set config(r){this._applyDefaultProperties(r),super.config=r}get config(){return super.config}};Oe.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Oe)))(t||Oe)}}(),Oe.\u0275cmp=e.\u0275\u0275defineComponent({type:Oe,selectors:[["crt-color-picker-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:21,vars:25,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[3,"crtViewElement","viewElementShow",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles",4,"ngIf"],[3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"crt-control-form-field-wrapper"],[3,"items","useStaticFiltering","control","labelPosition","label"],[1,"form-field-wrapper"],[3,"caption"],["iconLineType","bold",3,"formControlName","label"],["titleOnPage",""],["class","form-field-wrapper",4,"ngIf"],["data-item-marker","pickerMode","direction","column",1,"control",3,"items","control","label"],["floatLabel","always",1,"form-field-wrapper","bind-to-data-source"],["matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl","errorStateMatcher"],["svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[4,"ngIf"],[3,"crtViewElement","viewElementShow"],["DataSourceAttributePropertiesPanel",""],[3,"control","labelPosition","label"],["tooltip",""]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275template(2,qi,2,3,"ng-container",2),e.\u0275\u0275elementStart(3,"form",3),e.\u0275\u0275template(4,Ui,3,5,"crt-expansion-panel",4),e.\u0275\u0275element(5,"crt-properties-panel-visibility-settings",5),e.\u0275\u0275elementStart(6,"crt-expansion-panel",6)(7,"div",7),e.\u0275\u0275element(8,"crt-combobox",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"mat-form-field",9),e.\u0275\u0275element(10,"crt-label",10)(11,"ts-localizable-text-input",11,12),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,Wi,4,3,"mat-form-field",13),e.\u0275\u0275element(14,"crt-icon-radio-button",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"crt-properties-panel-advanced-settings",5)(16,"mat-form-field",15),e.\u0275\u0275element(17,"crt-label",10)(18,"input",16),e.\u0275\u0275elementStart(19,"mat-icon",17),e.\u0275\u0275listener("click",function(){return t.onSelectDataSourceClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,Qi,2,1,"mat-error",18),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("simpleTitle",t.getTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.propertiesComponentTypeName),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("AppearanceGroup"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.getLookupItems("labelPosition"))("useStaticFiltering",!0)("control",t.getControl("labelPosition"))("labelPosition","above")("label",t.translate("LabelPosition")),e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",t.translate("TitleOnPage")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","titleOnPage")("label",t.translate("TitleOnPage")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("items",t.pickerModeOptions)("control",t.getControl("pickerMode"))("label",t.translate("ColorPicker.PickerModeRadioButtonCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",t.translate("BindToDataSourceCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("readonly",!0)("formControl",t.bindToDataSource)("errorStateMatcher",t.anyErrorStateMatcher),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.bindToDataSource.invalid))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,s.CrtIconRadioButtonComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,p.FormControlName,V.ViewElementDirective,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),Oe=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ColorPickerPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Oe);var ro=T(96578);const Hi=function(o){return{name:"test",type:o,isEmbedded:!0}};function Ji(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0,18,19),e.\u0275\u0275listener("viewElementShow",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onDsAttributePropertiesPanelShow(a))}),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("crtViewElement",e.\u0275\u0275pureFunction1(1,Hi,t.propertiesComponentTypeName))}}function Zi(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getBindToDataSourceErrorMessage())}}let ke=class extends J{get isAddRecordAllowed(){return this._isAddRecordAllowed}get isGoToRecordListAllowed(){return this._isGoToRecordListAllowed}get addRecordFormControl(){return this._addRecordFormControl}get goToRecordListFormControl(){return this._goToRecordListFormControl}_getDefaultAddRecordAction(){return{...s.defaultAddRecordActionConfig,name:U.NameGenerator.generateUnique("ListAction")}}_getDefaultGoToRecordListAction(){return{...s.defaultGoToRecordListActionConfig,name:U.NameGenerator.generateUnique("ControlAction")}}_applyDefaultProperties(r){const t=r.itemConfig;if(!(0,y.get)(r.itemConfig,"listActions")&&(t.listActions=[],(0,y.get)(t,"isAddRecordAllowed",!0))){const n=this._getDefaultAddRecordAction();t.listActions.push(n)}if(!(0,y.get)(r.itemConfig,"controlActions")&&(t.controlActions=[],(0,y.get)(t,"isGoToSourceAllowed"))){const n=this._getDefaultGoToRecordListAction();t.controlActions.push(n)}return r}_applyAddRecordActionChanges(r,t){let n=t.listActions&&(0,y.cloneDeep)(t.listActions)||[];r&&!n.some(a=>a.code===s.ComboboxActionCodeEnum.AddRecord)&&n.push(this._getDefaultAddRecordAction()),!r&&n.some(a=>a.code===s.ComboboxActionCodeEnum.AddRecord)&&(n=n.filter(a=>a.code!==s.ComboboxActionCodeEnum.AddRecord)),this.getControl("listActions").setValue(n)}_applyGoToRecordListActionChanges(r,t){let n=t.controlActions&&(0,y.cloneDeep)(t.controlActions)||[];r&&!n.some(a=>a.code===s.ComboboxActionCodeEnum.GoToRecordList)&&n.push(this._getDefaultGoToRecordListAction()),!r&&n.some(a=>a.code===s.ComboboxActionCodeEnum.GoToRecordList)&&(n=n.filter(a=>a.code!==s.ComboboxActionCodeEnum.GoToRecordList)),this.getControl("controlActions").setValue(n)}_modeValueChanges(){this.changed$.pipe((0,c.map)(r=>r.changes.find(n=>n.path==="isSimpleLookup")?.value),(0,c.filter)(r=>this._canSetLookupMode&&r!==void 0)).subscribe(r=>{const t=this.config.itemConfig;t.mode=r?ro.LookupMode.List:ro.LookupMode.SelectionWindow})}_setModeValue(r){const t=this._dataSourcePanel;if(t){t.canShowLookupView=!0;const n=r.itemConfig;t.dataLoaded$.pipe((0,c.take)(1),(0,c.tap)(()=>{const a=t.columIsInherited;this._canSetLookupMode=a!==!1&&!this.featureValues.DisableShowLookupViewProperties}),(0,c.filter)(()=>this._canSetLookupMode)).subscribe(()=>{const a=t.propertiesForm.get("isSimpleLookup");let i;n.mode===void 0?i=a.value??!0:i=n.mode===ro.LookupMode.List,a.setValue(i)})}}subscribeOnControlValueChange(){this.addRecordFormControl.valueChanges.subscribe(r=>{this._applyAddRecordActionChanges(r,this.config.itemConfig)}),this.goToRecordListFormControl.valueChanges.subscribe(r=>{this._applyGoToRecordListActionChanges(r,this.config.itemConfig)}),this._modeValueChanges()}setFormValue(r,t){super.setFormValue(r,t),this.addRecordFormControl.setValue(this.isAddRecordAllowed,{emitEvent:!1}),this.goToRecordListFormControl.setValue(this.isGoToRecordListAllowed,{emitEvent:!1}),this._setModeValue(r)}getPropertiesConfig(){return{...super.getPropertiesConfig(),listActions:{path:"itemConfig.listActions",dataValueType:l.DataValueType.COLLECTION,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override},controlActions:{path:"itemConfig.controlActions",dataValueType:l.DataValueType.COLLECTION,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override},tooltipValue:{path:"itemConfig.tooltip",dataValueType:l.DataValueType.LOCALIZABLE_STRING},contentType:{path:"itemConfig.isSimpleLookup",dataValueType:l.DataValueType.Boolean}}}ngOnInit(){super.ngOnInit(),this._addRecordFormControl=new p.FormControl(this.isAddRecordAllowed),this._goToRecordListFormControl=new p.FormControl(this.isGoToRecordListAllowed),this.subscribeOnControlValueChange()}set config(r){this._applyDefaultProperties(r),super.config=r}get config(){return super.config}loadData(r){const t=r.itemConfig;return this._isAddRecordAllowed=t.listActions.some(n=>n.code===s.ComboboxActionCodeEnum.AddRecord),this._isGoToRecordListAllowed=t.controlActions.some(n=>n.code===s.ComboboxActionCodeEnum.GoToRecordList),super.loadData(r)}onDsAttributePropertiesPanelShow(r){super.onDsAttributePropertiesPanelShow(r),this._dataSourcePanel=r.componentRef.instance}};ke.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(ke)))(t||ke)}}(),ke.\u0275cmp=e.\u0275\u0275defineComponent({type:ke,selectors:[["crt-combobox-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:38,vars:39,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[3,"crtViewElement","viewElementShow",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"crt-control-form-field-wrapper"],[3,"control","labelPosition","label"],[3,"formGroup"],[3,"items","control","labelPosition","label","useStaticFiltering"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","label"],["titleOnPage",""],["placeholder",""],["tooltip",""],["floatLabel","always",1,"form-field-wrapper"],["matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl","errorStateMatcher"],["svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[4,"ngIf"],[3,"crtViewElement","viewElementShow"],["DataSourceAttributePropertiesPanel",""]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275template(2,Ji,2,3,"ng-container",2),e.\u0275\u0275elementStart(3,"form",3)(4,"crt-expansion-panel",4)(5,"div",5),e.\u0275\u0275element(6,"crt-checkbox",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(7,"crt-properties-panel-visibility-settings",7),e.\u0275\u0275elementStart(8,"crt-expansion-panel",4)(9,"div",5),e.\u0275\u0275element(10,"crt-combobox",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-form-field",9)(12,"mat-label"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"ts-localizable-text-input",10,11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"mat-form-field",9)(17,"mat-label"),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"ts-localizable-text-input",10,12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"mat-form-field",9)(22,"mat-label"),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"ts-localizable-text-input",10,13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",5),e.\u0275\u0275element(27,"crt-checkbox",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",5),e.\u0275\u0275element(29,"crt-checkbox",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"crt-properties-panel-advanced-settings",7)(31,"mat-form-field",14)(32,"mat-label"),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(35,"input",15),e.\u0275\u0275elementStart(36,"mat-icon",16),e.\u0275\u0275listener("click",function(){return t.onSelectDataSourceClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(37,Zi,2,1,"mat-error",17),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.getTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.propertiesComponentTypeName),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("Editability")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("readonly"))("labelPosition","right")("label",t.translate("EditabilityControls.Readonly")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.getLookupItems("labelPosition"))("control",t.getControl("labelPosition"))("labelPosition","above")("label",t.translate("LabelPosition"))("useStaticFiltering",!0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("TitleOnPage")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","titleOnPage")("label",t.translate("TitleOnPage")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",t.translate("Placeholder")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","placeholderValue")("label",t.translate("Placeholder")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",t.translate("Tooltip")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","tooltipValue")("label",t.translate("Tooltip")),e.\u0275\u0275advance(3),e.\u0275\u0275property("control",t.addRecordFormControl)("labelPosition","right")("label",t.translate("Combobox.IsAddAllowed")),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.goToRecordListFormControl)("labelPosition","right")("label",t.translate("Combobox.IsGoToSourceAllowed")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(34,37,"PropertiesPages.BaseInputPropertiesPanel.BindToDataSourceCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("readonly",!0)("formControl",t.bindToDataSource)("errorStateMatcher",t.anyErrorStateMatcher),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.bindToDataSource.invalid))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,p.FormControlName,V.ViewElementDirective,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,D,F,A,P.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),ke=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ComboboxPropertiesPanelComponent",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],ke);function Ki(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-label",14),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.translate("EmptyDataSourceHint"))}}function Xi(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",15)(1,"div",11),e.\u0275\u0275element(2,"crt-checkbox",16),e.\u0275\u0275elementEnd()()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("title",t.translate("Editability")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("readonly"))("labelPosition","right")("label",t.translate("EditabilityControls.Readonly"))}}function Yi(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-combobox",17),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("label",t.translate("DataSourceEntityColumn")),e.\u0275\u0275property("control",t.commOptionEntitySchemaControl)("items",t.commOptionsEntitySchemas)("useStaticFiltering",!0)}}let zt=class extends L{get commOptionEntitySchemaControl(){return this._commOptionEntitySchemaControl}get masterRecordControl(){return this._masterRecordControl}get hasDataSource(){return this._hasDataSource}get extraDataProviderConfig(){return this._extraDataProviderConfig}get commOptionsEntitySchemas(){return this._commOptionEntitySchemas}constructor(r,t,n){super(r),this.injector=r,this._designerSchemaService=t,this._crtControlStateAdapter=n,this.translatePrefix="InterfaceDesigner.PropertiesPages.CommunicationOptionsPropertiesPage",this.bindingAttributePath="masterRecordColumnValue",this._defaultCommOptionsEntityName="ContactCommunication",this._labelPositionItems=[{value:"auto",displayValue:this.translate("LabelPosition.Auto")},{value:"left",displayValue:this.translate("LabelPosition.Left")},{value:"above",displayValue:this.translate("LabelPosition.Above")},{value:"hidden",displayValue:this.translate("LabelPosition.Hidden")}],this._commOptionEntitySchemas=[{value:"ContactCommunication",displayValue:this.translate("ContactEntitySchemaName"),recordColumnName:"Contact",recordSchemaName:"Contact"},{value:"AccountCommunication",displayValue:this.translate("AccountEntitySchemaName"),recordColumnName:"Account",recordSchemaName:"Account"}],this._primaryDataSourceName="",this._primaryDataSourceSchemaName="",this._extraDataProviderConfig={itemsCustomFilterFunction:this.filterStructureExplorerItems.bind(this)},this._designerEntityDataSourceService=r.get(m.DesignerEntityDataSourceService),this._commOptionStateHandler=r.get(m.DesignerCommOptionStateHandler)}_getPrimaryDataSource(r){if(!r||r.length===0)return null;const t=this._designerSchemaService.getPrimaryDataSourceName(),n=r.find(a=>a.dataSourceName===t);return this._primaryDataSourceName=t,n}_initMasterRecordControlValue(r){if(!this.hasDataSource)return;const t=r??this.config.itemConfig.masterRecordColumnValue;this.masterRecordControl.setValue({attributeName:"masterRecordColumnValue",value:t,caption:this.translate("MasterRecordCaption"),dataValueType:l.DataValueType.Guid}),this._masterRecordChanged$=this.masterRecordControl.valueChanges.pipe((0,c.takeUntil)(this.destroyed$)).subscribe(n=>this.getControl("masterRecordColumnValue").setValue(n.value)),this.changeDetector.detectChanges()}beforeSetControlValue(r,t,n){return t==="labelPosition"?(r=r||"auto",this._labelPositionItems.find(({value:a})=>a===r)):super.beforeSetControlValue(r,t,n)}getPropertiesConfig(){return{...super.getPropertiesConfig(),masterRecordColumnValue:{path:"itemConfig.masterRecordColumnValue",dataValueType:l.DataValueType.Text},masterRecordColumnName:{path:"itemConfig.masterRecordColumnName",dataValueType:l.DataValueType.Text},readonly:{path:"itemConfig.readonly",dataValueType:l.DataValueType.Boolean},labelPosition:{path:"itemConfig.labelPosition",dataValueType:l.DataValueType.Lookup,options:{items:this._labelPositionItems},controlInitialConfig:{validatorOrOpts:[this._crtControlStateAdapter.transform({instance:new w.RequiredValidator(this.injector)})]}},showNoDataPlaceholder:{path:"itemConfig.showNoDataPlaceholder",dataValueType:l.DataValueType.Boolean},columnsCount:{path:"itemConfig.columnsCount",dataValueType:l.DataValueType.Integer,applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override,controlInitialConfig:{validatorOrOpts:[this._crtControlStateAdapter.transform({instance:new w.RequiredValidator(this.injector)}),this._crtControlStateAdapter.transform({instance:new w.MinValidator(this.injector),params:{min:1}}),this._crtControlStateAdapter.transform({instance:new w.MaxValidator(this.injector),params:{max:12}})],value:""}}}}filterStructureExplorerItems(r){return r.data?.item?.referenceSchemaName===this._recordEntitySchemaName||r.metaPath===`${this._primaryDataSourceName}.Id`&&this._primaryDataSourceSchemaName===this._recordEntitySchemaName}loadData(r){let t=[];this._masterRecordChanged$?.unsubscribe(),this._viewItemConfig=r.itemConfig;const n=this._viewItemConfig.items?.toString(),a=n?.startsWith("$")?n.slice(1):n;return this._commOptionDataSourceName=this._designerSchemaService.getMappedDataSourceAttributePath(a),this._designerEntityDataSourceService.getDataSources$().pipe((0,d.switchMap)(i=>{t=i;const u=this._getPrimaryDataSource(t);return this._hasDataSource=Boolean(u),u?u.getSchema():(0,d.of)(null)}),(0,d.switchMap)(i=>{this._primaryDataSourceSchemaName=i?.name;const u=t.find(h=>h.dataSourceName===this._commOptionDataSourceName);return u?u.getSchema():(0,d.of)(null)}),(0,d.switchMap)(i=>{this._commOptionEntitySchemaName=i?.dataSourceConfig?.config?.entitySchemaName||this._defaultCommOptionsEntityName;const u=this._commOptionEntitySchemas.find(h=>h.value===this._commOptionEntitySchemaName);return this.commOptionEntitySchemaControl.setValue(u||null),this._recordColumnName=u?.recordColumnName,this._viewItemConfig.masterRecordColumnName=this._recordColumnName||null,this._recordEntitySchemaName=u?.recordSchemaName||null,this._initMasterRecordControlValue(),super.loadData(r)}))}ngOnInit(){super.ngOnInit(),this._masterRecordControl=new p.FormControl,this._commOptionEntitySchemaControl=new p.FormControl(null,[this._crtControlStateAdapter.transform({instance:new w.RequiredValidator(this.injector)})]),this._commOptionEntitySchemaControl.valueChanges.subscribe(r=>{if(!r||!r.value){this._commOptionEntitySchemaName=null,this._recordColumnName=null,this._recordEntitySchemaName=null,this.changeDetector.detectChanges();return}if(r.value!==this._commOptionEntitySchemaName){const t=r.recordSchemaName,n=this._primaryDataSourceSchemaName===t?"$Id":null;this.masterRecordControl.setValue({...this.masterRecordControl.value,value:n}),this._commOptionEntitySchemaName=r.value,this._recordColumnName=r.recordColumnName,this.getControl("masterRecordColumnName").setValue(this._recordColumnName),this._recordEntitySchemaName=t,this._viewItemConfig.columns=null,this._commOptionStateHandler.handleEntitySelect(this._viewItemConfig,this._commOptionEntitySchemaName,this._commOptionDataSourceName).subscribe(()=>this.changeDetector.detectChanges())}})}};zt.\u0275fac=function(r){return new(r||zt)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(w.CrtControlStateAdapter))},zt.\u0275cmp=e.\u0275\u0275defineComponent({type:zt,selectors:[["crt-communication-options-properties-panel"]],features:[e.\u0275\u0275ProvidersFeature([m.DesignerCommOptionStateHandler]),e.\u0275\u0275InheritDefinitionFeature],decls:15,vars:21,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],["class","control",4,"ngIf"],["ngDefaultControl","",3,"formControl","extraStructureExplorerProviderConfig"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles",4,"ngIf"],[3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group","appearance-group",3,"title","extraStyles"],["labelPosition","above",1,"control",3,"control","label"],["labelPosition","above",1,"control",3,"items","useStaticFiltering","control","label"],[1,"crt-control-form-field-wrapper"],["labelPosition","right",3,"control","label"],["class","control","labelPosition","above",3,"control","label","items","useStaticFiltering",4,"ngIf"],[1,"control"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[3,"control","labelPosition","label"],["labelPosition","above",1,"control",3,"control","label","items","useStaticFiltering"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3),e.\u0275\u0275template(4,Ki,2,1,"crt-label",4),e.\u0275\u0275element(5,"crt-attribute-mapping",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,Xi,3,5,"crt-expansion-panel",6),e.\u0275\u0275element(7,"crt-properties-panel-visibility-settings",7),e.\u0275\u0275elementStart(8,"crt-expansion-panel",8),e.\u0275\u0275element(9,"crt-number-input",9)(10,"crt-combobox",10),e.\u0275\u0275elementStart(11,"div",11),e.\u0275\u0275element(12,"crt-checkbox",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"crt-properties-panel-advanced-settings",7),e.\u0275\u0275template(14,Yi,1,4,"crt-combobox",13),e.\u0275\u0275elementEnd()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.hasDataSource),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControl",t.masterRecordControl)("extraStructureExplorerProviderConfig",t.extraDataProviderConfig),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasDataSource),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("ColumnsCountLabel")),e.\u0275\u0275property("control",t.getControl("columnsCount")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("LabelPositionCaption")),e.\u0275\u0275property("items",t.getLookupItems("labelPosition"))("useStaticFiltering",!0)("control",t.getControl("labelPosition")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",t.translate("ShowNoDataPlaceholder")),e.\u0275\u0275property("control",t.getControl("showNoDataPlaceholder")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasDataSource))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,s.CrtNumberInputComponent,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,x.CdkScrollable,D,Z,F,A],styles:[`crt-communication-options-properties-panel{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-communication-options-properties-panel form{width:100%}crt-communication-options-properties-panel crt-expansion-panel{height:auto;overflow:inherit}crt-communication-options-properties-panel .properties-panel-wrap{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-communication-options-properties-panel.embedded-properties-panel{height:auto}crt-communication-options-properties-panel .properties-form .form-field-wrapper{width:100%;margin-top:12px}crt-communication-options-properties-panel .properties-form .form-field-wrapper .structure-explorer-input{width:80%}crt-communication-options-properties-panel .properties-form .form-field-wrapper .structure-explorer-icon{float:right;width:16px;height:16px;padding-right:2px}crt-communication-options-properties-panel .properties-form .crt-control-form-field-wrapper{margin-top:12px;padding-bottom:1.25em}
`],encapsulation:2,changeDetection:0}),zt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.CommunicationOptionsPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,_.DesignerSchemaService,w.CrtControlStateAdapter])],zt);class mn extends L{get referenceColumnControl(){return this._referenceColumnControl}get hasDataSource(){return this._hasDataSource}get extraDataProviderConfig(){return this._extraDataProviderConfig}constructor(r,t){super(r),this.injector=r,this._designerSchemaService=t,this.translatePrefix="InterfaceDesigner.PropertiesPages.BaseCompactProfilePropertiesPage",this.bindingAttributePath="referenceColumn",this._primaryDataSourceName="",this._primaryDataSourceSchemaName="",this._extraDataProviderConfig={itemsCustomFilterFunction:this.filterStructureExplorerItems.bind(this)},this._designerEntityDataSourceService=r.get(m.DesignerEntityDataSourceService)}_getPrimaryDataSource(r){if(!r||r.length===0)return null;const t=this._designerSchemaService.getPrimaryDataSourceName(),n=r.find(a=>a.dataSourceName===t);return this._primaryDataSourceName=t,this._primaryDataSourceSchemaName=n?.initialConfig?.entitySchemaName,n}_actualizeReadonlyControl(r,t=!1){const n=this.getControl("readonly");if(!r||!r.startsWith("$")){n.enable({onlySelf:!0});return}const a=r.split("$")[1],i=this._designerSchemaService.getMappedDataSourceAttributePath(a),u=this._designerSchemaService.getPrimaryDataSourceName(),h=i.split(".")||[];if(h.length===2&&h[0]===u&&h[1]==="Id"){n.enable({onlySelf:!0}),t&&n.setValue(!1,{emitEvent:!1});return}n.setValue(!0,{emitEvent:!1}),n.disable({onlySelf:!0})}_initReferenceColumnControlValue(r){if(!this.hasDataSource)return;const t=r??this.config.itemConfig.referenceColumn;this.referenceColumnControl.setValue({attributeName:"referenceColumn",value:t,caption:this.translate("AttributeForReferenceColumn"),dataValueType:l.DataValueType.Guid}),this._referenceControlChanged$=this.referenceColumnControl.valueChanges.pipe((0,c.takeUntil)(this.destroyed$)).subscribe(n=>{this._actualizeReadonlyControl(n?.value,!0),this.getControl("referenceColumn").setValue(n.value)}),this.changeDetector.detectChanges()}emitChanges(r){r.find(n=>n.path==="itemConfig.referenceColumn")&&r.push({path:"itemConfig.readonly",value:this.getControl("readonly").value}),super.emitChanges(r)}getPropertiesConfig(){return{...super.getPropertiesConfig(),referenceColumn:{path:"itemConfig.referenceColumn",dataValueType:l.DataValueType.Text},readonly:{path:"itemConfig.readonly",dataValueType:l.DataValueType.Boolean}}}filterStructureExplorerItems(r){return this.referenceEntitySchemaName?r.data?.item?.referenceSchemaName===this.referenceEntitySchemaName||r.metaPath===`${this._primaryDataSourceName}.Id`&&this._primaryDataSourceSchemaName===this.referenceEntitySchemaName:[l.DataValueType.Lookup,l.DataValueType.Guid].includes(r.data?.item.dataValueType)}loadData(r){return this._referenceControlChanged$?.unsubscribe(),this._designerEntityDataSourceService.getDataSources$().pipe((0,d.switchMap)(t=>(this._hasDataSource=!!this._getPrimaryDataSource(t),this._initReferenceColumnControlValue(),this._actualizeReadonlyControl(this.referenceColumnControl.value?.value),super.loadData(r))))}ngOnInit(){super.ngOnInit(),this._referenceColumnControl=new p.FormControl}}mn.\u0275fac=function(r){return new(r||mn)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(_.DesignerSchemaService))},mn.\u0275cmp=e.\u0275\u0275defineComponent({type:mn,selectors:[["crt-base-compact-profile-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:0,template:function(r,t){r&1&&e.\u0275\u0275element(0,"div")},encapsulation:2});function $i(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-label",8),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.translate("EmptyAccountDataSourceHint"))}}function el(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",9)(1,"div",10),e.\u0275\u0275element(2,"crt-checkbox",11),e.\u0275\u0275elementEnd()()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("title",t.translate("Editability")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("readonly"))("labelPosition","right")("label",t.translate("EditabilityControls.Readonly"))}}let Le=class extends mn{constructor(){super(...arguments),this.translatePrefix="InterfaceDesigner.PropertiesPages.AccountCompactProfilePropertiesPage",this.referenceEntitySchemaName="Account"}};Le.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Le)))(t||Le)}}(),Le.\u0275cmp=e.\u0275\u0275defineComponent({type:Le,selectors:[["crt-account-compact-profile-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:8,vars:9,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],["class","control",4,"ngIf"],["ngDefaultControl","",3,"formControl","extraStructureExplorerProviderConfig"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles",4,"ngIf"],[3,"formGroup"],[1,"control"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"crt-control-form-field-wrapper"],[3,"control","labelPosition","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3),e.\u0275\u0275template(4,$i,2,1,"crt-label",4),e.\u0275\u0275element(5,"crt-attribute-mapping",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,el,3,5,"crt-expansion-panel",6),e.\u0275\u0275element(7,"crt-properties-panel-advanced-settings",7),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.hasDataSource),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControl",t.referenceColumnControl)("extraStructureExplorerProviderConfig",t.extraDataProviderConfig),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasDataSource),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,x.CdkScrollable,D,Z,F],styles:[`crt-account-compact-profile-properties-panel{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-account-compact-profile-properties-panel form{width:100%}crt-account-compact-profile-properties-panel crt-expansion-panel{height:auto;overflow:inherit}crt-account-compact-profile-properties-panel .properties-panel-wrap{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-account-compact-profile-properties-panel.embedded-properties-panel{height:auto}crt-account-compact-profile-properties-panel .properties-form .form-field-wrapper{width:100%;margin-top:12px}crt-account-compact-profile-properties-panel .properties-form .form-field-wrapper .structure-explorer-input{width:80%}crt-account-compact-profile-properties-panel .properties-form .form-field-wrapper .structure-explorer-icon{float:right;width:16px;height:16px;padding-right:2px}crt-account-compact-profile-properties-panel .properties-form .crt-control-form-field-wrapper{margin-top:12px;padding-bottom:1.25em}
`],encapsulation:2,changeDetection:0}),Le=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.AccountCompactProfilePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Le);function tl(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-label",8),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.translate("EmptyContactDataSourceHint"))}}function rl(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",9)(1,"div",10),e.\u0275\u0275element(2,"crt-checkbox",11),e.\u0275\u0275elementEnd()()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("title",t.translate("Editability")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("readonly"))("labelPosition","right")("label",t.translate("EditabilityControls.Readonly"))}}let Ne=class extends mn{constructor(){super(...arguments),this.translatePrefix="InterfaceDesigner.PropertiesPages.ContactCompactProfilePropertiesPage",this.referenceEntitySchemaName="Contact"}};Ne.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Ne)))(t||Ne)}}(),Ne.\u0275cmp=e.\u0275\u0275defineComponent({type:Ne,selectors:[["crt-contact-compact-profile-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:8,vars:9,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],["class","control",4,"ngIf"],["ngDefaultControl","",3,"formControl","extraStructureExplorerProviderConfig"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles",4,"ngIf"],[3,"formGroup"],[1,"control"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"crt-control-form-field-wrapper"],[3,"control","labelPosition","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3),e.\u0275\u0275template(4,tl,2,1,"crt-label",4),e.\u0275\u0275element(5,"crt-attribute-mapping",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,rl,3,5,"crt-expansion-panel",6),e.\u0275\u0275element(7,"crt-properties-panel-advanced-settings",7),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.hasDataSource),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControl",t.referenceColumnControl)("extraStructureExplorerProviderConfig",t.extraDataProviderConfig),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasDataSource),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,x.CdkScrollable,D,Z,F],styles:[`crt-contact-compact-profile-properties-panel{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-contact-compact-profile-properties-panel form{width:100%}crt-contact-compact-profile-properties-panel crt-expansion-panel{height:auto;overflow:inherit}crt-contact-compact-profile-properties-panel .properties-panel-wrap{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-contact-compact-profile-properties-panel.embedded-properties-panel{height:auto}crt-contact-compact-profile-properties-panel .properties-form .form-field-wrapper{width:100%;margin-top:12px}crt-contact-compact-profile-properties-panel .properties-form .form-field-wrapper .structure-explorer-input{width:80%}crt-contact-compact-profile-properties-panel .properties-form .form-field-wrapper .structure-explorer-icon{float:right;width:16px;height:16px;padding-right:2px}crt-contact-compact-profile-properties-panel .properties-form .crt-control-form-field-wrapper{margin-top:12px;padding-bottom:1.25em}
`],encapsulation:2,changeDetection:0}),Ne=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ContactCompactProfilePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Ne);function nl(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-label",7),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.translate("EmptyUserProfileDataSourceHint"))}}let Re=class extends mn{constructor(){super(...arguments),this.translatePrefix="InterfaceDesigner.PropertiesPages.UserCompactProfilePropertiesPage",this.referenceEntitySchemaName="SysUserProfile"}};Re.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Re)))(t||Re)}}(),Re.\u0275cmp=e.\u0275\u0275defineComponent({type:Re,selectors:[["crt-user-compact-profile-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:8,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],["class","control",4,"ngIf"],["ngDefaultControl","",3,"formControl","extraStructureExplorerProviderConfig"],[3,"formGroup"],[1,"control"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3),e.\u0275\u0275template(4,nl,2,1,"crt-label",4),e.\u0275\u0275element(5,"crt-attribute-mapping",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"crt-properties-panel-advanced-settings",6),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.hasDataSource),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControl",t.referenceColumnControl)("extraStructureExplorerProviderConfig",t.extraDataProviderConfig),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtExpansionPanelComponent,s.CrtLabelComponent,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,x.CdkScrollable,D,Z,F],styles:[`crt-user-compact-profile-properties-panel{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-user-compact-profile-properties-panel form{width:100%}crt-user-compact-profile-properties-panel crt-expansion-panel{height:auto;overflow:inherit}crt-user-compact-profile-properties-panel .properties-panel-wrap{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-user-compact-profile-properties-panel.embedded-properties-panel{height:auto}crt-user-compact-profile-properties-panel .properties-form .form-field-wrapper{width:100%;margin-top:12px}crt-user-compact-profile-properties-panel .properties-form .form-field-wrapper .structure-explorer-input{width:80%}crt-user-compact-profile-properties-panel .properties-form .form-field-wrapper .structure-explorer-icon{float:right;width:16px;height:16px;padding-right:2px}crt-user-compact-profile-properties-panel .properties-form .crt-control-form-field-wrapper{margin-top:12px;padding-bottom:1.25em}
`],encapsulation:2,changeDetection:0}),Re=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.UserCompactProfilePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Re);class gn{get activityColumnsList(){return this._getFilteredColumnsList(this._activityColumnsList,!!this.pageColumnControl.value)}get pageColumnsList(){return this._getFilteredColumnsList(this._pageColumnsList,!!this.activityColumnControl.value)}set bindingColumn(r){this._bindingColumn=r,this._updatePageColumnControl(),this._updateActivityColumnControl()}constructor(r){this.pageColumnControl=new p.FormControl(null),this.activityColumnControl=new p.FormControl(null),this.deleteMaping=new e.EventEmitter,this.columnChange=new e.EventEmitter,this._entitySchemaProvider=r.get(g.EntitySchemaProvider),this._designerSchemaService=r.get(_.DesignerSchemaService);const t=r.get(w.CrtControlStateAdapter);this.pageColumnControl.setValidators(t.transform({instance:new w.RequiredValidator(r)})),this.activityColumnControl.setValidators(t.transform({instance:new w.RequiredValidator(r)})),this._setDataSourceProperties(),this._subscribeValueChange()}_setDataSourceProperties(){this._pdsName=this._designerSchemaService.getPrimaryDataSourceName()||"PDS";const r=this._designerSchemaService.getDataSourceConfigByName(this._pdsName);this._sourceEntityName=r?.entitySchemaName,this._getEntityColumnsList(this._sourceEntityName).subscribe(t=>{this._pageColumnsList=t,this._updatePageColumnControl()}),this._getEntityColumnsList("Activity").subscribe(t=>{this._activityColumnsList=t,this._updateActivityColumnControl()})}_setFormAttr(r){const t=r?this._designerSchemaService.getOrAddViewModelAttribute(r,this._pdsName):"";t!==this._bindingColumn.formAttributeName&&(this._bindingColumn.formAttributeName=t,this.columnChange.emit())}_setActivityColumnName(r){const t=r||"";t!==this._bindingColumn.activityColumnName&&(this._bindingColumn.activityColumnName=t,this.columnChange.emit())}_subscribeValueChange(){this.pageColumnControl.valueChanges.subscribe(r=>{this._setFormAttr(r?.value),this._setReferenceSchemaFilter(r,this._pageColumnsList)}),this.activityColumnControl.valueChanges.subscribe(r=>{this._setActivityColumnName(r?.value),this._setReferenceSchemaFilter(r,this._activityColumnsList)})}_getFilteredColumnsList(r,t){return((0,y.isEmpty)(this._referenceSchemaName)||!t?r:r?.filter(a=>a.referenceSchemaName===this._referenceSchemaName))?.map(a=>this._mapLookupValue(a))}_setReferenceSchemaFilter(r,t){const n=r?t?.find(a=>a.name===r.value):null;(!(0,y.isEmpty)(n?.referenceSchemaName)||!this.activityColumnControl.value&&!this.pageColumnControl.value)&&(this._referenceSchemaName=n?.referenceSchemaName)}_updatePageColumnControl(){if((0,y.isEmpty)(this._bindingColumn?.formAttributeName)||!this._pageColumnsList)return;const r=this._designerSchemaService.getViewModelAttribute(this._bindingColumn.formAttributeName);if(!r||(0,y.isEmpty)(r.modelConfig?.path))return;const t=r.modelConfig.path.split(".")[1],n=this._pageColumnsList.find(a=>a.name===t);this.pageColumnControl.setValue(this._mapLookupValue(n))}_updateActivityColumnControl(){if((0,y.isEmpty)(this._bindingColumn?.activityColumnName)||!this._activityColumnsList)return;const r=this._activityColumnsList.find(t=>t.name===this._bindingColumn.activityColumnName);this.activityColumnControl.setValue(this._mapLookupValue(r))}_mapLookupValue(r){return r?{value:r.name,displayValue:r.caption}:null}_getEntityColumnsList(r){return this._entitySchemaProvider.getSchemaByName(r).pipe((0,d.map)(t=>t?.columns||[]),(0,d.map)(t=>t.filter(n=>n.isLookupType)))}onDeleteMaping(){this.deleteMaping.emit(this._bindingColumn)}}gn.\u0275fac=function(r){return new(r||gn)(e.\u0275\u0275directiveInject(e.Injector))},gn.\u0275cmp=e.\u0275\u0275defineComponent({type:gn,selectors:[["crt-activity-column-maping"]],inputs:{bindingColumn:"bindingColumn"},outputs:{deleteMaping:"deleteMaping",columnChange:"columnChange"},decls:6,vars:12,consts:[[1,"activity-column-map"],["labelPosition","above",1,"activity-column-map-source",3,"items","control","useStaticFiltering","label"],["labelPosition","above",1,"activity-column-map-target",3,"items","control","useStaticFiltering","label"],["color","default","icon","delete-icon","iconPosition","only-icon","shape","rounded",1,"activity-column-map-delete",3,"clicked"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-combobox",1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275element(3,"crt-combobox",2),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementStart(5,"crt-button",3),e.\u0275\u0275listener("clicked",function(){return t.onDeleteMaping()}),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("items",t.pageColumnsList)("control",t.pageColumnControl)("useStaticFiltering",!0)("label",e.\u0275\u0275pipeBind1(2,8,"InterfaceDesigner.PropertiesPages.ActivityColumnsMapingComponent.PageColumn")),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.activityColumnsList)("control",t.activityColumnControl)("useStaticFiltering",!0)("label",e.\u0275\u0275pipeBind1(4,10,"InterfaceDesigner.PropertiesPages.ActivityColumnsMapingComponent.ActivityColumn")))},dependencies:[s.CrtButtonComponent,s.CrtComboBoxComponent,P.TranslatePipe],styles:[".activity-column-map[_ngcontent-%COMP%]{display:grid;grid-template-columns:calc(50% - 25px) calc(50% - 25px) 30px;gap:10px;align-items:center}.activity-column-map-source[_ngcontent-%COMP%]{grid-column:1}.activity-column-map-target[_ngcontent-%COMP%]{grid-column:2}.activity-column-map-delete[_ngcontent-%COMP%]{grid-column:3}"]});function ol(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-activity-column-maping",4),e.\u0275\u0275listener("deleteMaping",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onDeleteMaping(a))})("columnChange",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onColumnsChange())}),e.\u0275\u0275elementEnd()}if(o&2){const t=r.$implicit;e.\u0275\u0275property("bindingColumn",t)}}function al(o,r){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275elementContainerEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.translate("EmailLinksBlankSlate")," ")}}class Be{constructor(r){this.injector=r,this._translatePrefix="InterfaceDesigner.PropertiesPages.ActivityColumnsMapingComponent",this.columnsChange=new e.EventEmitter,this._translateService=this.injector.get(P.TranslateService)}onColumnsChange(){this.columnsChange.emit()}onAddColumnMappingClick(){this.bindingColumns.find(r=>(0,y.isEmpty)(r.formAttributeName)||(0,y.isEmpty)(r.activityColumnName))||(this.bindingColumns.push({activityColumnName:"",formAttributeName:""}),this.onColumnsChange())}onDeleteMaping(r){const t=this.bindingColumns.indexOf(r);t<0||(this.bindingColumns.splice(t,1),this.onColumnsChange())}translate(r){return this._translateService.instant(`${this._translatePrefix}.${r}`)}}Be.\u0275fac=function(r){return new(r||Be)(e.\u0275\u0275directiveInject(e.Injector))},Be.\u0275cmp=e.\u0275\u0275defineComponent({type:Be,selectors:[["crt-activity-columns-maping"]],inputs:{bindingColumns:"bindingColumns"},outputs:{columnsChange:"columnsChange"},decls:4,vars:3,consts:[["togglePosition","after","expanded","true","toggleType","material",3,"title"],["tools","","icon","plus-icon","iconPosition","only-icon","displayType","text","shape","rounded",3,"clicked"],[3,"bindingColumn","deleteMaping","columnChange",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"bindingColumn","deleteMaping","columnChange"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",0)(1,"crt-button",1),e.\u0275\u0275listener("clicked",function(){return t.onAddColumnMappingClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,ol,1,1,"crt-activity-column-maping",2),e.\u0275\u0275template(3,al,2,1,"ng-container",3),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275propertyInterpolate("title",t.translate("EmailLinksCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.bindingColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.bindingColumns||t.bindingColumns.length===0))},dependencies:[f.NgForOf,f.NgIf,s.CrtButtonComponent,s.CrtExpansionPanelComponent,gn],encapsulation:2});let Ge=class extends W{get bindingColumns(){return(!this.params||this.params&&!this.params.bindingColumns)&&(this.params={bindingColumns:[]}),this.params.bindingColumns}onBindingColumnsChange(){this.paramsChange.emit(this.params)}};Ge.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Ge)))(t||Ge)}}(),Ge.\u0275cmp=e.\u0275\u0275defineComponent({type:Ge,selectors:[["crt-create-email-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[1,"properties-form","create-email-request-properties-panel"],[3,"bindingColumns","columnsChange"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"crt-activity-columns-maping",1),e.\u0275\u0275listener("columnsChange",function(){return t.onBindingColumnsChange()}),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("bindingColumns",t.bindingColumns))},dependencies:[Be],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .create-email-request-properties-panel[_ngcontent-%COMP%]{width:100%;display:block}"],changeDetection:0}),Ge=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.CreateEmailRequestPropertiesPanelComponent",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Ge);class Mn extends W{constructor(r,t){super(),this.translateService=r,this.cdr=t,this.destroyed$=new d.Subject,this.translatePrefix=null,this.entitySelectControl=new p.FormControl,this.entityOptions=[]}get entityUId(){return this.entitySelectControl.value?.entityUId}onOptionsLoaded(r){this.entityOptions=this.filterReferenceSchemas(r);const t=r.find(n=>n.value===this.params?.entityName);this.entitySelectControl.setValue(t),this.cdr.detectChanges()}filterReferenceSchemas(r){return r}onEntitySelect(r){this.params=r?{entityName:r}:null,this.onParamsChanged()}onParamsChanged(){this.cdr.detectChanges(),this.paramsChange.emit(this.params)}translate(r){return this.translateService.instant(`${this.translatePrefix}.${r}`)}ngOnInit(){this.loadEntityOptions(),this.entitySelectControl.valueChanges.pipe((0,d.takeUntil)(this.destroyed$)).subscribe({next:r=>{r?.value!==this.params?.entityName&&this.onEntitySelect(r?.value)}})}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}Mn.\u0275fac=function(r){return new(r||Mn)(e.\u0275\u0275directiveInject(P.TranslateService),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},Mn.\u0275dir=e.\u0275\u0275defineDirective({type:Mn,features:[e.\u0275\u0275InheritDefinitionFeature]});class hn extends Mn{constructor(r,t,n){super(r,t),this.designerEntityService=n}loadEntityOptions(){this.designerEntityService.getReferenceSchemasLookupItems().pipe((0,c.takeUntil)(this.destroyed$)).subscribe({next:this.onOptionsLoaded.bind(this)})}}hn.\u0275fac=function(r){return new(r||hn)(e.\u0275\u0275directiveInject(P.TranslateService),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(m.DesignerEntityService))},hn.\u0275dir=e.\u0275\u0275defineDirective({type:hn,features:[e.\u0275\u0275InheritDefinitionFeature]});var il=T(41156);function ll(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"crt-attribute-mapping",3),e.\u0275\u0275elementEnd()),o&2){const t=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName",t.attributeName)}}class Cn{get form(){return this._form}constructor(r,t,n,a){this._cdr=r,this._structureExplorer=t,this._recordPageInfo=n,this._maskService=a,this._form=new p.FormGroup({}),this._isEntityAttributesLoaded$=new d.BehaviorSubject(!1),this.attributesChange=new e.EventEmitter,this.attributeConfigs$=new d.BehaviorSubject([])}_createForm(){this._form=new p.FormGroup({}),this.attributes.forEach(r=>this._form.addControl(r.attributeName,new p.FormControl({...this._entityAttributes.find(t=>t.attributeName===r.attributeName),value:r.value}))),this._formChangesSubscription?.unsubscribe(),this._formChangesSubscription=this._form.valueChanges.subscribe({next:()=>this._applyFormChanges()}),this._cdr.detectChanges()}_updateEntityAttributes(){this._isEntityAttributesLoaded$.next(!1),this._recordPageInfo.getAttributeValueConfigs(this.entityUId).pipe((0,c.take)(1)).subscribe(r=>{this._entityAttributes=r,this._updateAttributeConfigs(),this._isEntityAttributesLoaded$.next(!0)})}_updateAttributeConfigs(){const r=this.attributes.map(t=>this._entityAttributes.find(n=>n.attributeName===t.attributeName));this.attributeConfigs$.next(r),this._createForm()}_applyFormChanges(){const r=this._form.value;this.attributes=this.attributes.map(t=>t.attributeName in r?{...r[t.attributeName]}:t),this.attributesChange.emit(this.attributes)}_showStructureExplorer(){const r=this._entityAttributes.filter(t=>this.attributes.find(n=>t.attributeName===n.attributeName)).map(t=>t.uId);return this._structureExplorer.show({providers:[{name:il.StructureExplorerConst.Providers.ENTITY_SCHEMA,options:{entitySchemaUId:this.entityUId,firstColumnsOnly:!0,selectedMetaPaths:r}}],enableMultiSelection:!0,returnDialogResult:!0})}_getDefaultAttributeValue(){return this._maskService.showBodyMask(),this._isEntityAttributesLoaded$.pipe((0,c.first)(r=>r),(0,c.tap)(()=>this._maskService.hideBodyMask()),(0,c.switchMap)(()=>this._showStructureExplorer()),(0,c.filter)(r=>r?.dialogResult===Dn.StructureExplorerDialogResult.Selected))}ngOnChanges(r){r.entityUId&&r.entityUId.currentValue?this._updateEntityAttributes():r.attributes&&this.entityUId&&this._updateAttributeConfigs()}onAddDefaultAttributeValueClick(){this._defaultAttributeValueSubscription?.unsubscribe(),this._defaultAttributeValueSubscription=this._getDefaultAttributeValue().subscribe(r=>{const{selectedItems:t}=r,n=t.map(a=>this._recordPageInfo.castToAttributeValueConfig(a.data));this.attributes=fo(n,this.attributes),this._updateAttributeConfigs(),this._applyFormChanges()})}ngOnDestroy(){this._formChangesSubscription?.unsubscribe(),this._defaultAttributeValueSubscription?.unsubscribe()}}Cn.\u0275fac=function(r){return new(r||Cn)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(z.StructureExplorerService),e.\u0275\u0275directiveInject(xt),e.\u0275\u0275directiveInject(E.MaskService))},Cn.\u0275cmp=e.\u0275\u0275defineComponent({type:Cn,selectors:[["crt-default-attribute-values"]],inputs:{entityUId:"entityUId",attributes:"attributes"},outputs:{attributesChange:"attributesChange"},features:[e.\u0275\u0275NgOnChangesFeature],decls:6,vars:7,consts:[[1,"default-attribute-values","properties-panel-wrap",3,"formGroup"],[4,"ngFor","ngForOf"],["color","primary","shape","rounded",3,"clicked"],[3,"formControlName"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,ll,2,1,"div",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"crt-button",2),e.\u0275\u0275listener("clicked",function(){return t.onAddDefaultAttributeValueClick()}),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275property("formGroup",t.form),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(2,3,t.attributeConfigs$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,5,"InterfaceDesigner.PropertiesPages.DefaultAttributeValues.AddAttribute")))},dependencies:[f.NgForOf,s.CrtButtonComponent,p.NgControlStatus,p.NgControlStatusGroup,p.FormGroupDirective,p.FormControlName,Z,f.AsyncPipe,P.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .default-attribute-values[_ngcontent-%COMP%]{width:100%;display:block}"],changeDetection:0});function sl(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",4),e.\u0275\u0275element(1,"crt-label",5),e.\u0275\u0275elementStart(2,"crt-default-attribute-values",6),e.\u0275\u0275listener("attributesChange",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onAttributesChange(a))}),e.\u0275\u0275elementEnd()()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("caption",t.defaultAttributeValuesLabel),e.\u0275\u0275advance(1),e.\u0275\u0275property("entityUId",t.entityUId)("attributes",t.attributes)}}let qt=class extends hn{constructor(r,t,n,a){super(r,t,n),this.translateService=r,this.cdr=t,this.designerEntityService=n,this._designerSchemaService=a,this.translatePrefix="InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.CreateRecordRequest",this.entitySelectLabel=this.translate("WhichRecordToCreateLabel"),this.defaultAttributeValuesLabel=this.translate("DefaultAttributeValuesLabel")}get attributes(){return this.params?.defaultValues||[]}_setEntityNameUsingReferenceAttributeName(){const t=this._designerSchemaService.getMappedDataSourceAttributePath("Items").split(".")[0],n=this._designerSchemaService.getDataSourceConfigByName(t);this.params={...this.params,entityName:n.entitySchemaName}}onAttributesChange(r){this.params={entityName:this.params.entityName};const t=yo(r);t&&(this.params.defaultValues=t),this.onParamsChanged()}ngOnInit(){setTimeout(()=>{!this.params?.entityName&&this.params?.itemsAttributeName&&this._setEntityNameUsingReferenceAttributeName(),super.ngOnInit()})}};qt.\u0275fac=function(r){return new(r||qt)(e.\u0275\u0275directiveInject(P.TranslateService),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(m.DesignerEntityService),e.\u0275\u0275directiveInject(_.DesignerSchemaService))},qt.\u0275cmp=e.\u0275\u0275defineComponent({type:qt,selectors:[["crt-create-record-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:5,consts:[["cdkScrollable","",1,"create-record-request-properties-panel","properties-panel-wrap"],[1,"properties-form"],[3,"control","items","label","config"],["class","form-field-wrapper",4,"ngIf"],[1,"form-field-wrapper"],["labelType","caption",1,"default-attribute-values-label",3,"caption"],[3,"entityUId","attributes","attributesChange"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"crt-entity-schema-select",2),e.\u0275\u0275template(3,sl,3,3,"div",3),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.entitySelectControl)("items",t.entityOptions)("label",t.entitySelectLabel)("config",t.config),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(t.params==null?null:t.params.entityName)&&t.attributes))},dependencies:[f.NgIf,s.CrtLabelComponent,x.CdkScrollable,Cn,de],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .create-record-request-properties-panel[_ngcontent-%COMP%]{width:100%;display:block}[_nghost-%COMP%]   .default-attribute-values-label[_ngcontent-%COMP%]{padding-bottom:16px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{margin-top:initial}"],changeDetection:0}),qt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.CreateRecordRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[P.TranslateService,e.ChangeDetectorRef,m.DesignerEntityService,_.DesignerSchemaService])],qt);class fn{}fn.\u0275fac=function(r){return new(r||fn)},fn.\u0275mod=e.\u0275\u0275defineNgModule({type:fn}),fn.\u0275inj=e.\u0275\u0275defineInjector({providers:[xt,m.DesignerEntityService,Dt,E.MaskService]});class In extends L{constructor(r){super(r),this.injector=r,this.isEmbedded=!1,this.canShowLookupView=!1,this.attributeTitle=[],this.crtControlStateAdapter=this.injector.get(w.CrtControlStateAdapter)}setTitle(r){this.attributeTitle=[...r].filter(t=>t.value)}onTypeChanged(r){}get dsAttributeNameIsReadonly(){return this._dsAttributeNameIsReadonly}set dsAttributeNameIsReadonly(r){this._dsAttributeNameIsReadonly=r}validateCaption(r){return null}getPropertiesConfig(){return{...super.getPropertiesConfig(),name:{path:"name",dataValueType:l.DataValueType.Text,controlInitialConfig:{value:"",validatorOrOpts:[this.requiredValidator.validateFn]}},caption:{path:"caption",dataValueType:l.DataValueType.LOCALIZABLE_STRING,controlInitialConfig:{validatorOrOpts:[this.validateCaption.bind(this)]}}}}ngOnInit(){super.ngOnInit(),this.getControl("caption").valueChanges.pipe((0,c.filter)(()=>this.dataLoaded),(0,c.takeUntil)(this.destroyed$)).subscribe(r=>{this.setTitle(r)})}}In.\u0275fac=function(r){return new(r||In)(e.\u0275\u0275directiveInject(e.Injector))},In.\u0275dir=e.\u0275\u0275defineDirective({type:In,hostVars:2,hostBindings:function(r,t){r&2&&e.\u0275\u0275classProp("embedded-properties-panel",t.isEmbedded)},inputs:{isEmbedded:"isEmbedded"},features:[e.\u0275\u0275InheritDefinitionFeature]});function pl(o,r){if(o&1&&(e.\u0275\u0275element(0,"crt-properties-panel-header",5),e.\u0275\u0275pipe(1,"lczToString")),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("simpleTitle",e.\u0275\u0275pipeBind1(1,1,t.attributeTitle))}}let Ut=class extends In{constructor(r,t,n){super(r),this.injector=r,this._lczToString=t,this._designerDataSourceManager=n,this._designerEntityService=(0,e.inject)(m.DesignerEntityService),this._dialogService=(0,e.inject)(E.DialogService),this.translatePrefix="InterfaceDesigner.PropertiesPages.DataSourceAttributePropertiesPanel",this.emitEventsOnlyWhenDataLoaded=!0,this.isReadonly=!0}get showEditReferenceSchemaIcon(){return Boolean(this._createdLookupEntity)}getPropertiesConfig(){return{...super.getPropertiesConfig(),...this._commonPropertiesComponent.getStaticPropertiesConfig()}}getPropertiesValues(r){return{caption:r.caption,name:r.name}}beforeSetLookupControlValue(r,t,n){return r==="requirementType"&&(t=t.toString()),super.beforeSetLookupControlValue(r,t,n)}afterGetLookupControlValue(r,t){const n=super.afterGetLookupControlValue(r,t);return r==="requirementType"?Number(n):n}_initializeDataProvider(r){const t=r?.itemConfig?.propertiesPanelDataProviderToken;this._attributePropertiesDataProvider=this.injector.get(t)}_setProperties([r,t,n]){this.setValidators(t);const a=r.attributeConfigProvider.getAttributeEditablePropertiesByType(n.type);return(a.includes("referenceSchema")?this._attributePropertiesDataProvider.getReferenceSchemaLookupItems():(0,d.of)([])).pipe((0,c.tap)(u=>{const h=this._attributePropertiesDataProvider.getFormatLookupItems(n.type);this.setLookupItems("type",h);const b=this._attributePropertiesDataProvider.getRequirementTypeLookupItems();this.setLookupItems("requirementType",b),this.setLookupItems("referenceSchema",u),this._commonPropertiesComponent.initProperties({editableProperties:a,dataValueType:n.type,lookupItems:{requirementType:b,format:h,referenceSchema:u}}),this._setReadonlyState(n.isReadonly),this.setTitle(n.caption)}),(0,c.map)(()=>n))}_setReadonlyState(r){this.isReadonly=r,r?this.propertiesForm?.disable():this.propertiesForm?.enable()}_getReferenceSchemaNames(){const t=this.getLookupItems("referenceSchema").map(n=>n.name);return(0,d.of)(new Set(t))}_prepareDataForLookupEntityDialog(){return(0,d.forkJoin)([this._designerEntityService.schemaNamePrefix.pipe((0,c.first)()),this._designerEntityService.getEntitySchemaNameLengthLimit().pipe((0,c.first)()),this._getReferenceSchemaNames(),(0,d.of)(this._createdLookupEntity)]).pipe((0,c.map)(([r,t,n,a])=>({schemaNamePrefix:r,entitySchemaNameLengthLimit:t,referenceSchemas:n,createdLookupEntity:a})))}_setNewReferenceSchema(){const r=this.beforeSetLookupControlValue("referenceSchema",this._createdLookupEntity.uId,this.getLookupItems("referenceSchema"));this.propertiesForm.get("referenceSchema").patchValue(r)}_setLookupItemsForReferenceSchema(){return this._attributePropertiesDataProvider.getReferenceSchemaLookupItems().pipe((0,c.map)(r=>(this._commonPropertiesComponent.referenceSchemaLookupItems=r,this.setLookupItems("referenceSchema",r))))}_handleLookupEntityDialogResult(r){return r?.status==="created"||r?.status==="updated"?(this._createdLookupEntity=r.createdLookupEntity,this._setLookupItemsForReferenceSchema().pipe((0,c.tap)(()=>{this._setNewReferenceSchema()}))):(0,d.of)(null)}set config(r){this._initializeDataProvider(r),super.config=r}get config(){return super.config}ngOnInit(){super.ngOnInit(),this._commonPropertiesComponent.propertiesForm=this.propertiesForm}shouldEmitChanges(r){return super.shouldEmitChanges(r)&&!this.isReadonly&&r.every(t=>!this.propertiesForm.get(t.path)?.errors)}openCreateOrEditLookupEntityDialog(){this._prepareDataForLookupEntityDialog().pipe((0,c.mergeMap)(r=>this._dialogService.open(an,{panelClass:"dialog-top-border",data:r}).pipe((0,c.mergeMap)(t=>this._handleLookupEntityDialogResult(t))))).subscribe()}loadData(r){this.propertiesForm.markAsPristine();const t=r.itemConfig,n=t.dataSourceName,a=t.dataSourceAttributeName;return(0,d.forkJoin)([this._designerDataSourceManager.getDataSourceServiceByDataSourceName(n).pipe((0,c.take)(1)),this._attributePropertiesDataProvider.getFieldsValidators(n,a),this._attributePropertiesDataProvider.getAttributeData(n,a)]).pipe((0,c.switchMap)(i=>this._setProperties(i)))}};Ut.\u0275fac=function(r){return new(r||Ut)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(g.LczToStringPipe),e.\u0275\u0275directiveInject(m.DesignerDataSourceManager))},Ut.\u0275cmp=e.\u0275\u0275defineComponent({type:Ut,selectors:[["crt-data-source-attribute-properties-panel"]],viewQuery:function(r,t){if(r&1&&e.\u0275\u0275viewQuery(on,7),r&2){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(t._commonPropertiesComponent=n.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:8,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[3,"propertiesForm","isReadonly","showEditReferenceSchemaIcon","canShowLookupView","createOrEditButtonClick"],[3,"simpleTitle"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,pl,2,3,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3)(4,"crt-data-source-attribute-common-properties",4),e.\u0275\u0275listener("createOrEditButtonClick",function(){return t.openCreateOrEditLookupEntityDialog()}),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isEmbedded),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("propertiesForm",t.propertiesForm)("isReadonly",t.isReadonly)("showEditReferenceSchemaIcon",t.showEditReferenceSchemaIcon)("canShowLookupView",t.canShowLookupView))},dependencies:[f.NgIf,s.CrtExpansionPanelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,D,on,g.LczToStringPipe],styles:[`crt-data-source-attribute-properties-panel{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-data-source-attribute-properties-panel form{width:100%}crt-data-source-attribute-properties-panel crt-expansion-panel{height:auto;overflow:inherit}crt-data-source-attribute-properties-panel .properties-panel-wrap{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-data-source-attribute-properties-panel.embedded-properties-panel{height:auto}crt-data-source-attribute-properties-panel .properties-form .form-field-wrapper{width:100%;margin-top:12px}crt-data-source-attribute-properties-panel .properties-form .form-field-wrapper .structure-explorer-input{width:80%}crt-data-source-attribute-properties-panel .properties-form .form-field-wrapper .structure-explorer-icon{float:right;width:16px;height:16px;padding-right:2px}crt-data-source-attribute-properties-panel .properties-form .crt-control-form-field-wrapper{margin-top:12px;padding-bottom:1.25em}crt-data-source-attribute-properties-panel .embedded-properties-panel{width:100%;display:block}
`],encapsulation:2}),Ut=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.DataSourceAttributePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,g.LczToStringPipe,m.DesignerDataSourceManager])],Ut);let Wt=class extends L{get bindingColumns(){const r=this.config?.itemConfig;return r&&!r.bindingColumns&&(r.bindingColumns=[]),r?.bindingColumns}constructor(r){super(r),this.translatePrefix="InterfaceDesigner.PropertiesPages.EmailComposerPropertiesPage",this._designerSchemaService=r.get(_.DesignerSchemaService),this._isCaseForm=this._getDefaultEntitySchema()==="Case"}_getDefaultEntitySchema(){const r=this._designerSchemaService.getPrimaryDataSourceName()||"PDS";return this._designerSchemaService.getDataSourceConfigByName(r)?.entitySchemaName}getPropertiesConfig(){const r=[{value:s.DefaultSenderRequestType.DefaultMailbox,displayValue:this.translate("DefaultMailbox")}];return this._isCaseForm&&r.push({value:s.DefaultSenderRequestType.CaseMailbox,displayValue:this.translate("CaseMailbox")}),{...super.getPropertiesConfig(),bindingColumns:{path:"itemConfig.bindingColumns",dataValueType:l.DataValueType.OBJECT_LIST},defaultSenderRequest:{path:"itemConfig.defaultSenderRequest",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[]},options:{items:r}}}}};Wt.\u0275fac=function(r){return new(r||Wt)(e.\u0275\u0275directiveInject(e.Injector))},Wt.\u0275cmp=e.\u0275\u0275defineComponent({type:Wt,selectors:[["crt-email-composer-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:8,vars:10,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],["labelPosition","above","data-qa","default-sender-type-list",3,"items","control","label"],[3,"bindingColumns"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3),e.\u0275\u0275element(4,"crt-combobox",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"crt-activity-columns-maping",5)(6,"crt-properties-panel-visibility-settings",1)(7,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("DefaultSenderType")),e.\u0275\u0275property("items",t.getLookupItems("defaultSenderRequest"))("control",t.getControl("defaultSenderRequest")),e.\u0275\u0275advance(1),e.\u0275\u0275property("bindingColumns",t.bindingColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,Be,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),Wt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.EmailComposerPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector])],Wt);var Zn=T(38626);function cl(o,r){if(o&1&&(e.\u0275\u0275element(0,"crt-properties-panel-header",13),e.\u0275\u0275pipe(1,"lczToString")),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("simpleTitle",e.\u0275\u0275pipeBind1(1,1,t.attributeTitle))}}function ul(o,r){o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.Validations.RequiredNameCaption")," "))}let oe=class extends In{get defaultValue(){const t=this.getControl("defaultValue").value;return{valueSourceType:t.valueSourceType?.value??l.DefaultValueSource.None,valueSource:t.valueSource,value:t.value,sequencePrefix:t.sequencePrefix,sequenceNumberOfChars:t.sequenceNumberOfChars}}set defaultValue(r){const t={...r,valueSourceType:this._getDefaultValueSourceTypeOption(r.valueSourceType)};this.getControl("defaultValue").patchValue(t),this.changeDetector.detectChanges()}constructor(r,t,n,a){super(r),this.injector=r,this.designerEntityService=t,this._designerEntityDataSourceService=n,this._featureService=a,this._constDataValueTypes=[l.DataValueType.Boolean,l.DataValueType.Lookup,l.DataValueType.Text,l.DataValueType.SHORT_TEXT,l.DataValueType.PHONE_TEXT,l.DataValueType.WEB_TEXT,l.DataValueType.EMAIL_TEXT,l.DataValueType.MEDIUM_TEXT,l.DataValueType.LONG_TEXT,l.DataValueType.MAXSIZE_TEXT,l.DataValueType.Color,l.DataValueType.RICH_TEXT].concat(g.DataValueTypeGroup.DateTime).concat(g.DataValueTypeGroup.Number),this._autonumberDataValueTypes=[l.DataValueType.Text,l.DataValueType.SHORT_TEXT,l.DataValueType.MEDIUM_TEXT,l.DataValueType.LONG_TEXT,l.DataValueType.MAXSIZE_TEXT],this._columIsInherited=!1,this.translatePrefix="InterfaceDesigner.PropertiesPages.EntityDataSourceAttributePropertiesPanel",this.validators=[],this.confirmValidators=[],this._notifyService=r.get(E.NotifyService)}_getAllowedDataValueTypes(r){const t=g.ChangeColumnTypeRules.getAllowedChangeTypes(r).map(n=>n.type);return[r,...t]}_getDefaultValueSourceTypeOption(r){const t=Object.keys(l.DefaultValueSource).find(a=>l.DefaultValueSource[a]===r),n="SchemaDesigners.EntitySchemaDesigner.ColumnEditor.DefaultValueTypes";return{value:r,displayValue:this.translateService.instant(`${n}.${t}`)}}_setDefaultValueSourceTypeOptions(r){const t=[this._getDefaultValueSourceTypeOption(l.DefaultValueSource.None)];this._constDataValueTypes.includes(r)&&t.push(this._getDefaultValueSourceTypeOption(l.DefaultValueSource.Const)),t.push(this._getDefaultValueSourceTypeOption(l.DefaultValueSource.Settings)),t.push(this._getDefaultValueSourceTypeOption(l.DefaultValueSource.SystemValue)),this.getIsAutonumberAvailable(r)&&t.push(this._getDefaultValueSourceTypeOption(l.DefaultValueSource.Sequence)),this.setLookupItems("defaultValue.valueSourceType",t)}_validateNamePrefix(r,t){return r.startsWith(t)?null:{invalidValueSyntax:{message:wt.String.format(this?.translateService?.instant("SchemaDesigners.EntitySchemaDesigner.ColumnEditor.Validations.PatternPrefixTemplate"),t)}}}_checkNameForDuplicates(r,t){if([...t.columns??[],...t.inheritedColumns??[]].map(i=>i.name).filter(i=>i===r).length>0){const i=this.translateService.instant("SchemaDesigners.EntitySchemaDesigner.ColumnEditor.Validations.DuplicateNameCaption");return this._notifyService.warn({message:i,translate:!1}).then(),Promise.resolve(!1)}return Promise.resolve(!0)}_getNamePrefixValidator(r){return t=>this._validateNamePrefix(t.value,r)}_setNameValidators(r,t,n,a){const i=[this.crtControlStateAdapter.transform({instance:this.requiredValidator}),this.crtControlStateAdapter.transform({instance:new w.MaxLengthValidator(this.injector),params:{maxLength:n}})];a&&i.push(this._getNamePrefixValidator(t)),this.validators=i,this.confirmValidators=[u=>this._checkNameForDuplicates(u,r)]}_getRequirementTypeOption(r){const a=`SchemaDesigners.EntitySchemaDesigner.ColumnEditor.RequirementType.${Zn.ENTITY_SCHEMA_COLUMN_REQUIREMENT_TYPE_ITEMS[r].name}Caption`;return{value:r.toString(),displayValue:this.translateService.instant(a)}}_getDataValueTypeOptionPayload(r){const t=r,n=this.translateService.instant(g.DataValueTypeItems[r].translateKey);return{value:t,displayValue:n}}_setDataValueTypeOptions(r){const t=this._getAllowedDataValueTypes(r).map(n=>this._getDataValueTypeOptionPayload(n));this.setLookupItems("type",t)}afterGetLookupControlValue(r,t){return r==="requirementType"&&t?.value?Number(t.value):t?.value==null?null:t.value}beforeSetLookupControlValue(r,t,n){return n.find(a=>a.value===t)||null}getPropertiesConfig(){return{...super.getPropertiesConfig(),description:{path:"description",dataValueType:l.DataValueType.LOCALIZABLE_STRING},type:{path:"type",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}},isValueCloneable:{path:"isValueCloneable",dataValueType:l.DataValueType.Boolean},value:{path:"itemConfig.control",dataValueType:l.DataValueType.Text},defaultValue:{valueSourceType:{path:"defValue.valueSourceType",dataValueType:l.DataValueType.Lookup},value:{path:"defValue.value",dataValueType:l.DataValueType.CUSTOM_OBJECT},valueSource:{path:"defValue.valueSource",dataValueType:l.DataValueType.Text},sequenceNumberOfChars:{path:"defValue.sequenceNumberOfChars",dataValueType:l.DataValueType.Integer},sequencePrefix:{path:"defValue.sequencePrefix",dataValueType:l.DataValueType.Text}}}}shouldEmitChanges(r){return r.length!==0&&r.every(t=>!this.propertiesForm.get(t.path)?.errors)}getPropertiesValues(r){return{caption:r.caption,name:r.name,description:r.description,type:r.type,isValueCloneable:r.isValueCloneable,defValue:r.defValue}}getRequirementTypeOptions(r=[Zn.EntitySchemaColumnRequirementType.NO,Zn.EntitySchemaColumnRequirementType.YES]){return r.map(t=>this._getRequirementTypeOption(t))}emitChanges(r){let[t,n]=(0,y.partition)(r,a=>a.path.includes("defValue"));t.length!==0&&(t=[{path:"defValue",value:this.defaultValue}]),super.emitChanges([...n,...t])}getIsAutonumberAvailable(r){return this._autonumberDataValueTypes.includes(r)}validateCaption(r){const t=r.value;let n=!0;return typeof t=="string"?n=!1:n=t?.find(a=>a.value)!==void 0,n?null:{invalidValueSyntax:{message:this?.translateService?.instant("SchemaDesigners.EntitySchemaDesigner.ColumnEditor.Validations.RequiredNameCaption")}}}get columIsInherited(){return this._columIsInherited}ngOnInit(){super.ngOnInit(),this.getControl("type").valueChanges.pipe((0,c.takeUntil)(this.destroyed$)).subscribe(r=>this.onTypeChanged(r?.value))}_getColumnInfo(r){return this._designerEntityDataSourceService.getDataSourcesInfo$().pipe((0,c.take)(1),(0,c.map)(t=>t.find(n=>n.dataSourceName===r.dataSourceName)),(0,c.mergeMap)(t=>this.designerEntityService.getExistingColumns(t.entitySchemaName).pipe((0,c.mergeMap)(n=>this.designerEntityService.schemaNamePrefix.pipe((0,c.map)(a=>({columns:n,dataSource:t,schemaNamePrefix:a})))))),(0,c.map)(({dataSource:t,schemaNamePrefix:n,columns:a})=>{const{entitySchema:i}=t,u=[...i.columns,...i.inheritedColumns].find(b=>b.name===r.dataSourceAttributeName),h=u.isInherited||a.find(b=>b.name===u.name)!==void 0;return{entitySchema:i,schemaNamePrefix:n,column:u,columnExists:h}}))}_getRenameSavedEntityInPageDesignerAllowed(){return this._featureService.getFeatureState("DisableRenameSavedEntityInPageDesigner").pipe((0,c.map)(r=>!r))}loadData(r){const t=r.itemConfig;return this.propertiesForm.markAsPristine(),(0,d.forkJoin)([this._getColumnInfo(t),this._getRenameSavedEntityInPageDesignerAllowed()]).pipe((0,c.tap)(([{entitySchema:n,column:a,columnExists:i},u])=>{this._columnUId=a.uId,this._columIsInherited=a.isInherited,this._setDataValueTypeOptions(a.type),this._setDefaultValueSourceTypeOptions(a.type),this.dsAttributeNameIsReadonly=u?n.isReadOnly||a.isInherited:i,this.setTitle(a.caption)}),(0,c.mergeMap)(([{entitySchema:n,schemaNamePrefix:a,column:i,columnExists:u}])=>this.designerEntityService.getEntitySchemaNameLengthLimit().pipe((0,c.tap)(h=>{this._setNameValidators(n,a,h,!i.isInherited&&!u)}),(0,c.map)(()=>this.getPropertiesValues(i)))))}};oe.\u0275fac=function(r){return new(r||oe)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(m.DesignerEntityService),e.\u0275\u0275directiveInject(m.DesignerEntityDataSourceService),e.\u0275\u0275directiveInject(B.FeatureService))},oe.\u0275cmp=e.\u0275\u0275defineComponent({type:oe,selectors:[["crt-entity-data-source-attribute-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:28,vars:42,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","required","label"],["caption",""],[4,"ngIf"],[1,"crt-control-form-field-wrapper"],[3,"control","readonly","labelText","validators","confirmValidators","infoIconText"],[3,"items","useStaticFiltering","control","labelPosition","label"],["iconLineType","bold",3,"formControlName","label"],[3,"control","labelPosition","label"],[3,"simpleTitle"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,cl,2,3,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3)(4,"mat-form-field",4)(5,"mat-label"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ts-localizable-text-input",5,6),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275template(11,ul,3,3,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",8),e.\u0275\u0275element(13,"crt-confirming-input",9),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",8),e.\u0275\u0275element(17,"crt-combobox",10),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"mat-form-field",4)(20,"mat-label"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(23,"ts-localizable-text-input",11),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",8),e.\u0275\u0275element(26,"crt-checkbox",12),e.\u0275\u0275pipe(27,"translate"),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isEmbedded),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,26,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName","caption")("required",!0)("label",e.\u0275\u0275pipeBind1(10,28,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.getControl("caption").errors),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("name"))("readonly",t.dsAttributeNameIsReadonly)("labelText",e.\u0275\u0275pipeBind1(14,30,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EnglishNameCaption"))("validators",t.validators)("confirmValidators",t.confirmValidators)("infoIconText",e.\u0275\u0275pipeBind1(15,32,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EditCodeInfoIconCaption")),e.\u0275\u0275advance(4),e.\u0275\u0275property("items",t.getLookupItems("type"))("useStaticFiltering",!0)("control",t.getControl("type"))("labelPosition","above")("label",e.\u0275\u0275pipeBind1(18,34,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.FormatCaption")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(22,36,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.DescriptionCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName","description")("label",e.\u0275\u0275pipeBind1(24,38,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.DescriptionCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("control",t.getControl("isValueCloneable"))("labelPosition","right")("label",e.\u0275\u0275pipeBind1(27,40,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.CanMakeCopyCaption")))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.FormGroupDirective,p.FormControlName,x.CdkScrollable,D,$,P.TranslatePipe,g.LczToStringPipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"],changeDetection:0}),oe=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.EntityDataSourceAttributePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,m.DesignerEntityService,m.DesignerEntityDataSourceService,B.FeatureService])],oe);function dl(o,r){if(o&1&&(e.\u0275\u0275element(0,"crt-properties-panel-header",15),e.\u0275\u0275pipe(1,"lczToString")),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("simpleTitle",e.\u0275\u0275pipeBind1(1,1,t.attributeTitle))}}function ml(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.translate("Validations.RequiredNameCaption")," ")}}function gl(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275element(1,"crt-combobox",10),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("items",t.getLookupItems("requirementType"))("useStaticFiltering",!0)("control",t.getControl("requirementType"))("labelPosition","above")("label",t.translate("GeneralGroup.RequiredCaption"))}}let je=class extends oe{constructor(){super(...arguments),this.translatePrefix="SchemaDesigners.EntitySchemaDesigner.ColumnEditor"}_getRequirementTypeOptions(){return this.getRequirementTypeOptions()}getPropertiesConfig(){return{...super.getPropertiesConfig(),requirementType:{path:"requirementType",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}}}}getPropertiesValues(r){return{...super.getPropertiesValues(r),requirementType:r.requirementType.toString()}}loadData(r){return this.setLookupItems("requirementType",this._getRequirementTypeOptions()),super.loadData(r)}};je.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(je)))(t||je)}}(),je.\u0275cmp=e.\u0275\u0275defineComponent({type:je,selectors:[["ts-entity-data-source-color-attribute-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:21,vars:29,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","required","label"],["caption",""],[4,"ngIf"],[1,"crt-control-form-field-wrapper"],[3,"control","readonly","labelText","validators","confirmValidators","infoIconText"],[3,"items","useStaticFiltering","control","labelPosition","label"],[3,"caption"],["iconLineType","bold",3,"formControlName","label"],["class","crt-control-form-field-wrapper",4,"ngIf"],[3,"control","labelPosition","label"],[3,"simpleTitle"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,dl,2,3,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3)(4,"mat-form-field",4)(5,"mat-label"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"ts-localizable-text-input",5,6),e.\u0275\u0275template(9,ml,2,1,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275element(11,"crt-confirming-input",9),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",8),e.\u0275\u0275element(14,"crt-combobox",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"mat-form-field",4),e.\u0275\u0275element(16,"crt-label",11)(17,"ts-localizable-text-input",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(18,gl,2,5,"div",13),e.\u0275\u0275elementStart(19,"div",8),e.\u0275\u0275element(20,"crt-checkbox",14),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isEmbedded),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("GeneralGroup.Caption"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.translate("GeneralGroup.TitleCaption")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","caption")("required",!0)("label",t.translate("GeneralGroup.TitleCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.getControl("caption").errors),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("name"))("readonly",t.dsAttributeNameIsReadonly)("labelText",t.translate("GeneralGroup.EnglishNameCaption"))("validators",t.validators)("confirmValidators",t.confirmValidators)("infoIconText",e.\u0275\u0275pipeBind1(12,27,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EditCodeInfoIconCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("items",t.getLookupItems("type"))("useStaticFiltering",!0)("control",t.getControl("type"))("labelPosition","above")("label",t.translate("GeneralGroup.FormatCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",t.translate("GeneralGroup.DescriptionCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","description")("label",t.translate("GeneralGroup.DescriptionCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("isValueCloneable"))("labelPosition","right")("label",t.translate("GeneralGroup.CanMakeCopyCaption")))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.FormGroupDirective,p.FormControlName,x.CdkScrollable,D,$,P.TranslatePipe,g.LczToStringPipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"],changeDetection:0}),je=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.EntityDataSourceColorAttributePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],je);function hl(o,r){if(o&1&&(e.\u0275\u0275element(0,"crt-properties-panel-header",13),e.\u0275\u0275pipe(1,"lczToString")),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("simpleTitle",e.\u0275\u0275pipeBind1(1,1,t.attributeTitle))}}function Cl(o,r){o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.Validations.RequiredNameCaption")," "))}let ze=class extends oe{_getRequirementTypeOptions(){return this.getRequirementTypeOptions()}getPropertiesConfig(){return{...super.getPropertiesConfig(),requirementType:{path:"requirementType",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}}}}getPropertiesValues(r){return{...super.getPropertiesValues(r),requirementType:r.requirementType.toString()}}loadData(r){return this.setLookupItems("requirementType",this._getRequirementTypeOptions()),super.loadData(r)}};ze.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(ze)))(t||ze)}}(),ze.\u0275cmp=e.\u0275\u0275defineComponent({type:ze,selectors:[["crt-entity-data-source-date-time-attribute-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:31,vars:49,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","required","label"],["caption",""],[4,"ngIf"],[1,"crt-control-form-field-wrapper"],[3,"control","readonly","labelText","validators","confirmValidators","infoIconText"],[3,"items","useStaticFiltering","control","labelPosition","label"],["iconLineType","bold",3,"formControlName","label"],[3,"control","labelPosition","label"],[3,"simpleTitle"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,hl,2,3,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3)(4,"mat-form-field",4)(5,"mat-label"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ts-localizable-text-input",5,6),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275template(11,Cl,3,3,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",8),e.\u0275\u0275element(13,"crt-confirming-input",9),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",8),e.\u0275\u0275element(17,"crt-combobox",10),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"mat-form-field",4)(20,"mat-label"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(23,"ts-localizable-text-input",11),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",8),e.\u0275\u0275element(26,"crt-combobox",10),e.\u0275\u0275pipe(27,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",8),e.\u0275\u0275element(29,"crt-checkbox",12),e.\u0275\u0275pipe(30,"translate"),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isEmbedded),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,31,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName","caption")("required",!0)("label",e.\u0275\u0275pipeBind1(10,33,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.getControl("caption").errors),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("name"))("readonly",t.dsAttributeNameIsReadonly)("labelText",e.\u0275\u0275pipeBind1(14,35,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EnglishNameCaption"))("validators",t.validators)("confirmValidators",t.confirmValidators)("infoIconText",e.\u0275\u0275pipeBind1(15,37,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EditCodeInfoIconCaption")),e.\u0275\u0275advance(4),e.\u0275\u0275property("items",t.getLookupItems("type"))("useStaticFiltering",!0)("control",t.getControl("type"))("labelPosition","above")("label",e.\u0275\u0275pipeBind1(18,39,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.FormatCaption")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(22,41,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.DescriptionCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName","description")("label",e.\u0275\u0275pipeBind1(24,43,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.DescriptionCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("items",t.getLookupItems("requirementType"))("useStaticFiltering",!0)("control",t.getControl("requirementType"))("labelPosition","above")("label",e.\u0275\u0275pipeBind1(27,45,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.RequiredCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("control",t.getControl("isValueCloneable"))("labelPosition","right")("label",e.\u0275\u0275pipeBind1(30,47,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.CanMakeCopyCaption")))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.FormGroupDirective,p.FormControlName,x.CdkScrollable,D,$,P.TranslatePipe,g.LczToStringPipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"],changeDetection:0}),ze=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.EntityDataSourceDateTimeAttributePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],ze);function fl(o,r){if(o&1&&(e.\u0275\u0275element(0,"crt-properties-panel-header",17),e.\u0275\u0275pipe(1,"lczToString")),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("simpleTitle",e.\u0275\u0275pipeBind1(1,1,t.attributeTitle))}}function yl(o,r){o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.Validations.RequiredNameCaption")," "))}function Sl(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275element(1,"crt-lookup-view-properties",19),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("propertiesForm",t.propertiesForm)}}let qe=class extends oe{get createOrEditLookupSvgIconName(){return this._createdLookupEntity?"edit-lookup-entity-icon":"add-button-icon"}get canShowLookupViewPropertiesControl(){return this.canShowLookupView&&!this._featureValues.DisableShowLookupViewProperties}constructor(r,t,n,a,i,u,h){super(r,t,n,h),this._dialogService=a,this._matIconRegistry=i,this._domSanitizer=u,this._featureValues=(0,e.inject)(g.FEATURE_VALUES),this.canShowLookupView=!1,this._registerIcons()}_registerIcons(){this._matIconRegistry.addSvgIconLiteral("edit-lookup-entity-icon",this._domSanitizer.bypassSecurityTrustHtml(T(67526)))}_castMetaItemsToLookupValues(r){return r.map(t=>({displayValue:t.caption,value:t.uId}))}_setLookupItemsForReferenceSchema(){return this.designerEntityService.getAvailableReferenceSchemas().pipe((0,c.map)(r=>(this._referenceSchemas=r,this.setLookupItems("referenceSchema",this._castMetaItemsToLookupValues(r)))))}_setLookupsItems(){return this.setLookupItems("requirementType",this.getRequirementTypeOptions()),this._setLookupItemsForReferenceSchema()}_prepareDataForLookupEntityDialog(){return(0,d.forkJoin)([this.designerEntityService.schemaNamePrefix.pipe((0,c.first)()),this.designerEntityService.getEntitySchemaNameLengthLimit().pipe((0,c.first)()),this.designerEntityService.getAvailableReferenceSchemas().pipe((0,c.map)(r=>new Set(r.map(t=>t.name.toLowerCase()))),(0,c.first)()),(0,d.of)(this._createdLookupEntity)]).pipe((0,c.map)(([r,t,n,a])=>({schemaNamePrefix:r,entitySchemaNameLengthLimit:t,referenceSchemas:n,createdLookupEntity:a})))}_setNewReferenceSchema(){const r=this.beforeSetLookupControlValue("referenceSchema",this._createdLookupEntity.uId,this.getLookupItems("referenceSchema"));this.propertiesForm.get("referenceSchema").patchValue(r)}_handleLookupEntityDialogResult(r){return r?.status==="created"||r?.status==="updated"?(this._createdLookupEntity=r.createdLookupEntity,this._setLookupItemsForReferenceSchema().pipe((0,c.tap)(()=>{this._setNewReferenceSchema()}))):(0,d.of)(null)}_setCreatedLookupEntity(){return this.designerEntityService.getIsNewSchemaByUId(this._columnRefSchemaUId).pipe((0,c.mergeMap)(r=>r?this.designerEntityService.getByName(this._columnRefSchemaName).pipe((0,c.take)(1),(0,c.map)(t=>{t&&(this._createdLookupEntity={uId:t.uId,caption:t.caption,name:t.name})})):(0,d.of)(null)))}getPropertiesConfig(){return{...super.getPropertiesConfig(),isSimpleLookup:{path:"isSimpleLookup",dataValueType:l.DataValueType.Boolean},requirementType:{path:"requirementType",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}},referenceSchema:{path:"referenceSchema",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}}}}getPropertiesValues(r){return this._columnRefSchemaName=r.referenceSchema?.name,this._columnRefSchemaUId=r.referenceSchema?.uId,{...super.getPropertiesValues(r),requirementType:r.requirementType.toString(),referenceSchema:r.referenceSchema?.uId,isSimpleLookup:r.isSimpleLookup}}loadData(r){return this._createdLookupEntity=void 0,this._setLookupsItems().pipe((0,c.switchMap)(()=>super.loadData(r))).pipe((0,c.mergeMap)(t=>this._setCreatedLookupEntity().pipe((0,c.map)(()=>t))))}createOrEditLookupEntity(){this._prepareDataForLookupEntityDialog().pipe((0,c.mergeMap)(r=>this._dialogService.open(an,{panelClass:"dialog-top-border",data:r}).pipe((0,c.mergeMap)(t=>this._handleLookupEntityDialogResult(t))))).subscribe()}ngOnInit(){super.ngOnInit(),this.propertiesForm.get("referenceSchema").valueChanges.pipe((0,c.mergeMap)(t=>(this._columnRefSchemaUId=t?.value,this._columnRefSchemaName=this._referenceSchemas.find(n=>n.uId===t?.value)?.name,this._setCreatedLookupEntity().pipe((0,c.tap)(()=>{this._createdLookupEntity&&this._createdLookupEntity.uId!==t?.value&&(this._createdLookupEntity=void 0)})))),(0,c.takeUntil)(this.destroyed$)).subscribe()}};qe.\u0275fac=function(r){return new(r||qe)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(m.DesignerEntityService),e.\u0275\u0275directiveInject(m.DesignerEntityDataSourceService),e.\u0275\u0275directiveInject(E.DialogService),e.\u0275\u0275directiveInject(I.MatIconRegistry),e.\u0275\u0275directiveInject(te.DomSanitizer),e.\u0275\u0275directiveInject(B.FeatureService))},qe.\u0275cmp=e.\u0275\u0275defineComponent({type:qe,selectors:[["crt-entity-data-source-lookup-attribute-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:33,vars:51,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","required","label"],["caption",""],[4,"ngIf"],[1,"crt-control-form-field-wrapper"],[3,"control","readonly","labelText","validators","confirmValidators","infoIconText"],[1,"crt-control-form-field-wrapper","reference-schema-control"],[1,"control",3,"items","useStaticFiltering","control","labelPosition","label"],["data-qa","create-or-edit-lookup-entity","ariaLabel","ariaLabel","iconPosition","only-icon","shape","rounded",1,"create-or-edit-lookup-entity-button",3,"icon","clicked"],["class","crt-control-form-field-wrapper view-lookup",4,"ngIf"],["iconLineType","bold",3,"formControlName","label"],[3,"items","useStaticFiltering","control","labelPosition","label"],[3,"control","labelPosition","label"],[3,"simpleTitle"],[1,"crt-control-form-field-wrapper","view-lookup"],[3,"propertiesForm"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,fl,2,3,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3)(4,"mat-form-field",4)(5,"mat-label"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ts-localizable-text-input",5,6),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275template(11,yl,3,3,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",8),e.\u0275\u0275element(13,"crt-confirming-input",9),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",10),e.\u0275\u0275element(17,"crt-combobox",11),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275elementStart(19,"crt-button",12),e.\u0275\u0275listener("clicked",function(){return t.createOrEditLookupEntity()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(20,Sl,2,1,"div",13),e.\u0275\u0275elementStart(21,"mat-form-field",4)(22,"mat-label"),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(25,"ts-localizable-text-input",14),e.\u0275\u0275pipe(26,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",8),e.\u0275\u0275element(28,"crt-combobox",15),e.\u0275\u0275pipe(29,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",8),e.\u0275\u0275element(31,"crt-checkbox",16),e.\u0275\u0275pipe(32,"translate"),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isEmbedded),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,33,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName","caption")("required",!0)("label",e.\u0275\u0275pipeBind1(10,35,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.getControl("caption").errors),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("name"))("readonly",t.dsAttributeNameIsReadonly)("labelText",e.\u0275\u0275pipeBind1(14,37,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EnglishNameCaption"))("validators",t.validators)("confirmValidators",t.confirmValidators)("infoIconText",e.\u0275\u0275pipeBind1(15,39,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EditCodeInfoIconCaption")),e.\u0275\u0275advance(4),e.\u0275\u0275property("items",t.getLookupItems("referenceSchema"))("useStaticFiltering",!0)("control",t.getControl("referenceSchema"))("labelPosition","above")("label",e.\u0275\u0275pipeBind1(18,41,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.ReferenceSchemaCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("icon",t.createOrEditLookupSvgIconName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.canShowLookupViewPropertiesControl),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(24,43,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.DescriptionCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName","description")("label",e.\u0275\u0275pipeBind1(26,45,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.DescriptionCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("items",t.getLookupItems("requirementType"))("useStaticFiltering",!0)("control",t.getControl("requirementType"))("labelPosition","above")("label",e.\u0275\u0275pipeBind1(29,47,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.RequiredCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("control",t.getControl("isValueCloneable"))("labelPosition","right")("label",e.\u0275\u0275pipeBind1(32,49,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.CanMakeCopyCaption")))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.FormGroupDirective,p.FormControlName,x.CdkScrollable,D,$,nn,P.TranslatePipe,g.LczToStringPipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .reference-schema-control[_ngcontent-%COMP%]{display:flex;padding-bottom:0}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .reference-schema-control[_ngcontent-%COMP%]   crt-combobox[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .reference-schema-control[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{height:26px;display:flex}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .reference-schema-control[_ngcontent-%COMP%]   .create-or-edit-lookup-entity-button[_ngcontent-%COMP%]{align-self:center}"]}),qe=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.EntityDataSourceLookupAttributePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,m.DesignerEntityService,m.DesignerEntityDataSourceService,E.DialogService,I.MatIconRegistry,te.DomSanitizer,B.FeatureService])],qe);function bl(o,r){if(o&1&&(e.\u0275\u0275element(0,"crt-properties-panel-header",12),e.\u0275\u0275pipe(1,"lczToString")),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("simpleTitle",e.\u0275\u0275pipeBind1(1,1,t.attributeTitle))}}function Pl(o,r){o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.Validations.RequiredNameCaption")," "))}let Ue=class extends qe{};Ue.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Ue)))(t||Ue)}}(),Ue.\u0275cmp=e.\u0275\u0275defineComponent({type:Ue,selectors:[["crt-entity-data-source-image-lookup-attribute-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:25,vars:35,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","required","label"],["caption",""],[4,"ngIf"],[1,"crt-control-form-field-wrapper"],[3,"control","readonly","labelText","validators","confirmValidators","infoIconText"],["iconLineType","bold",3,"formControlName","label"],[3,"control","labelPosition","label"],[3,"simpleTitle"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,bl,2,3,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3)(4,"mat-form-field",4)(5,"mat-label"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ts-localizable-text-input",5,6),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275template(11,Pl,3,3,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",8),e.\u0275\u0275element(13,"crt-confirming-input",9),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"mat-form-field",4)(17,"mat-label"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"ts-localizable-text-input",10),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",8),e.\u0275\u0275element(23,"crt-checkbox",11),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isEmbedded),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,21,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName","caption")("required",!0)("label",e.\u0275\u0275pipeBind1(10,23,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.getControl("caption").errors),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("name"))("readonly",t.dsAttributeNameIsReadonly)("labelText",e.\u0275\u0275pipeBind1(14,25,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EnglishNameCaption"))("validators",t.validators)("confirmValidators",t.confirmValidators)("infoIconText",e.\u0275\u0275pipeBind1(15,27,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EditCodeInfoIconCaption")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(19,29,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.DescriptionCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName","description")("label",e.\u0275\u0275pipeBind1(21,31,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.DescriptionCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("control",t.getControl("isValueCloneable"))("labelPosition","right")("label",e.\u0275\u0275pipeBind1(24,33,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.CanMakeCopyCaption")))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.FormGroupDirective,p.FormControlName,x.CdkScrollable,D,$,P.TranslatePipe,g.LczToStringPipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .reference-schema-control[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .reference-schema-control[_ngcontent-%COMP%]   crt-combobox[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .reference-schema-control[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{height:26px;display:flex}"]}),Ue=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.EntityDataSourceImageLookupAttributePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Ue);function _l(o,r){if(o&1&&(e.\u0275\u0275element(0,"crt-properties-panel-header",13),e.\u0275\u0275pipe(1,"lczToString")),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("simpleTitle",e.\u0275\u0275pipeBind1(1,1,t.attributeTitle))}}function vl(o,r){o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.Validations.RequiredNameCaption")," "))}let We=class extends oe{_getRequirementTypeOptions(){return this.getRequirementTypeOptions()}getPropertiesConfig(){return{...super.getPropertiesConfig(),requirementType:{path:"requirementType",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}}}}getPropertiesValues(r){return{...super.getPropertiesValues(r),requirementType:r.requirementType.toString()}}loadData(r){return this.setLookupItems("requirementType",this._getRequirementTypeOptions()),super.loadData(r)}};We.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(We)))(t||We)}}(),We.\u0275cmp=e.\u0275\u0275defineComponent({type:We,selectors:[["crt-entity-data-source-number-attribute-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:31,vars:49,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","required","label"],["caption",""],[4,"ngIf"],[1,"crt-control-form-field-wrapper"],[3,"control","readonly","labelText","validators","confirmValidators","infoIconText"],[3,"items","useStaticFiltering","control","labelPosition","label"],["iconLineType","bold",3,"formControlName","label"],[3,"control","labelPosition","label"],[3,"simpleTitle"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,_l,2,3,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3)(4,"mat-form-field",4)(5,"mat-label"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ts-localizable-text-input",5,6),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275template(11,vl,3,3,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",8),e.\u0275\u0275element(13,"crt-confirming-input",9),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",8),e.\u0275\u0275element(17,"crt-combobox",10),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"mat-form-field",4)(20,"mat-label"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(23,"ts-localizable-text-input",11),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",8),e.\u0275\u0275element(26,"crt-combobox",10),e.\u0275\u0275pipe(27,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",8),e.\u0275\u0275element(29,"crt-checkbox",12),e.\u0275\u0275pipe(30,"translate"),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isEmbedded),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,31,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName","caption")("required",!0)("label",e.\u0275\u0275pipeBind1(10,33,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.getControl("caption").errors),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("name"))("readonly",t.dsAttributeNameIsReadonly)("labelText",e.\u0275\u0275pipeBind1(14,35,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EnglishNameCaption"))("validators",t.validators)("confirmValidators",t.confirmValidators)("infoIconText",e.\u0275\u0275pipeBind1(15,37,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EditCodeInfoIconCaption")),e.\u0275\u0275advance(4),e.\u0275\u0275property("items",t.getLookupItems("type"))("useStaticFiltering",!0)("control",t.getControl("type"))("labelPosition","above")("label",e.\u0275\u0275pipeBind1(18,39,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.FormatCaption")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(22,41,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.DescriptionCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName","description")("label",e.\u0275\u0275pipeBind1(24,43,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.DescriptionCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("items",t.getLookupItems("requirementType"))("useStaticFiltering",!0)("control",t.getControl("requirementType"))("labelPosition","above")("label",e.\u0275\u0275pipeBind1(27,45,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.RequiredCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("control",t.getControl("isValueCloneable"))("labelPosition","right")("label",e.\u0275\u0275pipeBind1(30,47,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.CanMakeCopyCaption")))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.FormGroupDirective,p.FormControlName,x.CdkScrollable,D,$,P.TranslatePipe,g.LczToStringPipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"],changeDetection:0}),We=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.EntityDataSourceNumberAttributePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],We);function Tl(o,r){if(o&1&&(e.\u0275\u0275element(0,"crt-properties-panel-header",13),e.\u0275\u0275pipe(1,"lczToString")),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("simpleTitle",e.\u0275\u0275pipeBind1(1,1,t.dataSourceTitle))}}function wl(o,r){o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.Validations.RequiredNameCaption")," "))}function Dl(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-expansion-panel",14)(1,"crt-button",15),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openSetupBusinessRulesAddonsDialog())}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("title",t.translate("BusinessRulesGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"SchemaDesigners.EntitySchemaDesigner.EntityEditor.EntityBusinessRules.OpenBusinessRulesButtonCaption"))}}let Qt=class extends L{get dsNameIsReadonly(){return this._allowRenameSavedEntityInPageDesigner?this._entitySchema?this._entitySchema.isReadOnly||this._entitySchema.extendParent:!1:this._schemaPublished}get businessRulesEnabled(){return this._businessRulesEnabled}constructor(r,t,n,a,i,u,h,b){super(r),this.injector=r,this._designerEntityDataSourceService=t,this._designerEntityService=n,this._schemaService=a,this._dialogService=i,this._messageDialogProvider=u,this._commandFactoryService=h,this._featureService=b,this._requiredValidator=new w.RequiredValidator(this.injector),this.translatePrefix="InterfaceDesigner.PropertiesPages.EntityDataSourcePropertiesPanel",this.dataSourceTitle=[],this.validators=[],this.confirmValidators=[],this.isPrimaryDataSource=new p.UntypedFormControl(""),this.isEmbedded=!1,this._crtControlStateAdapter=this.injector.get(w.CrtControlStateAdapter),this._notifyService=this.injector.get(E.NotifyService)}_getCaptionValidator(r){const t=r.value;let n=!0;return typeof t=="string"?n=!1:n=t?.find(a=>a.value)!==void 0,n?null:{invalidValueSyntax:{message:this?.translateService?.instant("SchemaDesigners.EntitySchemaDesigner.EntityEditor.Validations.RequiredNameCaption")}}}_validateNamePrefix(r,t){return r.startsWith(t)?null:{invalidValueSyntax:{message:wt.String.format(this?.translateService?.instant("SchemaDesigners.EntitySchemaDesigner.EntityEditor.Validations.PatternPrefixTemplate"),t)}}}_checkNameForDuplicates(r,t){return(0,d.lastValueFrom)(this._designerEntityService.checkUniqueSchemaName(r,t).pipe((0,c.take)(1),(0,c.map)(n=>{if(n.value)return!0;const a=this.translateService.instant("SchemaDesigners.EntitySchemaDesigner.EntityEditor.Validations.DuplicateNameCaption");return this._notifyService.warn({message:a,translate:!1}).then(),!1}),(0,c.catchError)(()=>(0,d.of)(null))))}_getNamePrefixValidator(r){return t=>this._validateNamePrefix(t.value,r)}_setNameValidators(r,t,n){const a=[this._crtControlStateAdapter.transform({instance:this._requiredValidator}),this._crtControlStateAdapter.transform({instance:new w.MaxLengthValidator(this.injector),params:{maxLength:n}})];this.dsNameIsReadonly||(a.push(this._getNamePrefixValidator(r)),this.confirmValidators=[i=>this._checkNameForDuplicates(i,t)]),this.validators=a}_setTitle(r){this.dataSourceTitle=[...r]}_getIsPrimaryDataSource(r){return this._schemaService.getPrimaryDataSourceName()===r}_setIsPrimaryDataSource(r){this._dsName=r;const t=this._getIsPrimaryDataSource(r);this.isPrimaryDataSource.setValue(t,{emitEvent:!1}),t?this.isPrimaryDataSource.disable({emitEvent:!1}):this.isPrimaryDataSource.enable({emitEvent:!1})}getPropertiesConfig(){return{...super.getPropertiesConfig(),caption:{path:"caption",dataValueType:l.DataValueType.LOCALIZABLE_STRING,controlInitialConfig:{validatorOrOpts:[this._getCaptionValidator]},isTitle:!0},description:{path:"description",dataValueType:l.DataValueType.LOCALIZABLE_STRING},name:{path:"name",dataValueType:l.DataValueType.Text,controlInitialConfig:{value:"",validatorOrOpts:[this._requiredValidator.validateFn]}}}}getPropertiesValues(r){return{caption:r.caption,description:r.description,name:r.name}}loadData(r){const t=r.itemConfig;return this.propertiesForm.markAsPristine(),this._setIsPrimaryDataSource(t.dataSourceName),this._featureService.getFeaturesState(["BRules-SetupDisabled","DisableRenameSavedEntityInPageDesigner"]).pipe((0,c.tap)(([n,a])=>{this._businessRulesEnabled=!n,this._allowRenameSavedEntityInPageDesigner=!a}),(0,c.mergeMap)(()=>this._designerEntityDataSourceService.getDataSourcesInfo$().pipe((0,c.take)(1))),(0,c.map)(n=>n.find(a=>a.dataSourceName===t.dataSourceName)),(0,c.mergeMap)(n=>(0,d.forkJoin)({schemaNamePrefix:this._designerEntityService.schemaNamePrefix,schemaIsNotPublished:this._designerEntityService.getIsNewSchemaByUId(n.entitySchema.uId),entitySchema:(0,d.of)(n.entitySchema),entitySchemaNameLengthLimit:this._designerEntityService.getEntitySchemaNameLengthLimit()})),(0,c.map)(n=>(this._entitySchema=n.entitySchema,this._setTitle(n.entitySchema.caption),this._schemaPublished=!n.schemaIsNotPublished,this._setNameValidators(n.schemaNamePrefix,n.entitySchema.uId,n.entitySchemaNameLengthLimit),this.getPropertiesValues(n.entitySchema))))}openSetupBusinessRulesAddonsDialog(){this._dialogService.open(Wn.BusinessRulesDialogComponent,{data:[{schema:this._entitySchema,applicabilityType:uo.ApplicabilityType.DataSource}],panelClass:["business-rules-dialog"],hasBackdrop:!1,width:"100vw",height:"100vh",disableClose:!0,maxWidth:"100vw"}).subscribe()}ngOnInit(){super.ngOnInit(),this.getControl("caption").valueChanges.pipe((0,c.takeUntil)(this.destroyed$)).subscribe(r=>{this._setTitle(r)}),this.isPrimaryDataSource.valueChanges.pipe((0,c.mergeMap)(r=>r&&!this._getIsPrimaryDataSource(this._dsName)?this._messageDialogProvider.open({data:{message:this.translate("PrimaryDataSourceChangeConfirm"),actions:[s.DEFAULT_DIALOG_ACTIONS.NO,s.DEFAULT_DIALOG_ACTIONS.YES]}}):(0,d.of)(null)),(0,c.mergeMap)(r=>r===s.DEFAULT_DIALOG_ACTIONS.YES.key?(0,d.from)((0,m.executeCommand)(this._commandFactoryService,"crt.ChangePrimaryDataSource",{dataSourceName:this._dsName})).pipe((0,c.tap)(()=>{this.isPrimaryDataSource.disable({emitEvent:!1})})):(r!=null&&this.isPrimaryDataSource.setValue(!1,{emitEvent:!1}),(0,d.of)(null))),(0,c.takeUntil)(this.destroyed$)).subscribe()}};Qt.\u0275fac=function(r){return new(r||Qt)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(m.DesignerEntityDataSourceService),e.\u0275\u0275directiveInject(m.DesignerEntityService),e.\u0275\u0275directiveInject(R.SchemaService),e.\u0275\u0275directiveInject(E.DialogService),e.\u0275\u0275directiveInject(s.MessageDialogProvider),e.\u0275\u0275directiveInject(m.DesignerCommandFactoryService),e.\u0275\u0275directiveInject(B.FeatureService))},Qt.\u0275cmp=e.\u0275\u0275defineComponent({type:Qt,selectors:[["crt-entity-data-source-properties-panel"]],hostVars:2,hostBindings:function(r,t){r&2&&e.\u0275\u0275classProp("embedded-properties-panel",t.isEmbedded)},inputs:{isEmbedded:"isEmbedded"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:25,vars:34,consts:[[1,"properties-panel-wrap"],[3,"simpleTitle",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","required","label"],["caption",""],[4,"ngIf"],[1,"crt-control-form-field-wrapper"],[3,"control","readonly","labelText","validators","confirmValidators","infoIconText"],["iconLineType","bold",3,"formControlName","label"],[3,"control","labelPosition","label"],["togglePosition","after","expanded","true","toggleType","material","class","business-rules-group-panel",3,"title","extraStyles",4,"ngIf"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"business-rules-group-panel",3,"title","extraStyles"],["color","primary","shape","rounded","data-qa","open-setup-business-rules-dialog",3,"clicked"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Tl,2,3,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3)(4,"mat-form-field",4)(5,"mat-label"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ts-localizable-text-input",5,6),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275template(11,wl,3,3,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",8),e.\u0275\u0275element(13,"crt-confirming-input",9),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"mat-form-field",4)(17,"mat-label"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"ts-localizable-text-input",10),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",8),e.\u0275\u0275element(23,"crt-checkbox",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(24,Dl,4,5,"crt-expansion-panel",12),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isEmbedded),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,22,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName","caption")("required",!0)("label",e.\u0275\u0275pipeBind1(10,24,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.getControl("caption").errors),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("name"))("readonly",t.dsNameIsReadonly)("labelText",e.\u0275\u0275pipeBind1(14,26,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EnglishNameCaption"))("validators",t.validators)("confirmValidators",t.confirmValidators)("infoIconText",e.\u0275\u0275pipeBind1(15,28,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EditCodeInfoIconCaption")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(19,30,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.DescriptionCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName","description")("label",e.\u0275\u0275pipeBind1(21,32,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.DescriptionCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("control",t.isPrimaryDataSource)("labelPosition","right")("label",t.translate("PrimaryDataSource")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.businessRulesEnabled))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtCheckboxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.FormGroupDirective,p.FormControlName,D,$,P.TranslatePipe,g.LczToStringPipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"],changeDetection:0}),Qt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.EntityDataSourcePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,m.DesignerEntityDataSourceService,m.DesignerEntityService,R.SchemaService,E.DialogService,s.MessageDialogProvider,m.DesignerCommandFactoryService,B.FeatureService])],Qt);class En{modifyVisibilityConfig(r){r.isLocalizableTextPropertyVisible=!1,r.isMaskedPropertyVisible=!1,r.isMultilinePropertyVisible=!1,r.isFormatValidationPropertyVisible=!0}}En.\u0275fac=function(r){return new(r||En)},En.\u0275prov=e.\u0275\u0275defineInjectable({token:En,factory:En.\u0275fac});class Fn{modifyVisibilityConfig(r){r.isLocalizableTextPropertyVisible=!1}}Fn.\u0275fac=function(r){return new(r||Fn)},Fn.\u0275prov=e.\u0275\u0275defineInjectable({token:Fn,factory:Fn.\u0275fac});class xl{modifyVisibilityConfig(r){}}class Vn{modifyVisibilityConfig(r){r.isMaskedPropertyVisible=!1}}Vn.\u0275fac=function(r){return new(r||Vn)},Vn.\u0275prov=e.\u0275\u0275defineInjectable({token:Vn,factory:Vn.\u0275fac});class An{modifyVisibilityConfig(r){r.isLocalizableTextPropertyVisible=!1,r.isMaskedPropertyVisible=!1,r.isMultilinePropertyVisible=!1}}An.\u0275fac=function(r){return new(r||An)},An.\u0275prov=e.\u0275\u0275defineInjectable({token:An,factory:An.\u0275fac});class no{getPropertiesVisibilityService(r){switch(r){case l.DataValueType.RICH_TEXT:return new Vn;case l.DataValueType.PHONE_TEXT:return new Fn;case l.DataValueType.WEB_TEXT:return new An;case l.DataValueType.EMAIL_TEXT:return new En;default:return new xl}}}function Ml(o,r){if(o&1&&(e.\u0275\u0275element(0,"crt-properties-panel-header",13),e.\u0275\u0275pipe(1,"lczToString")),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("simpleTitle",e.\u0275\u0275pipeBind1(1,1,t.attributeTitle))}}function Il(o,r){o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.Validations.RequiredNameCaption")," "))}function El(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275element(1,"crt-checkbox",14),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.isAutonumberControl)("labelPosition","right")("label",e.\u0275\u0275pipeBind1(2,3,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.isAutonumber"))}}function Fl(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275element(1,"crt-checkbox",14),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("isLocalizableText"))("labelPosition","right")("label",e.\u0275\u0275pipeBind1(2,3,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.IsLocalizableTextCaption"))}}function Vl(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275element(1,"crt-checkbox",14),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("isMasked"))("labelPosition","right")("label",e.\u0275\u0275pipeBind1(2,3,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.IsMaskedCaption"))}}function Al(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275element(1,"crt-checkbox",14),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("isFormatValidated"))("labelPosition","right")("label",e.\u0275\u0275pipeBind1(2,3,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.IsFormatValidationCaption"))}}function Ol(o,r){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",8),e.\u0275\u0275element(2,"crt-checkbox",14),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Fl,3,5,"div",12),e.\u0275\u0275template(5,Vl,3,5,"div",12),e.\u0275\u0275template(6,Al,3,5,"div",12),e.\u0275\u0275elementContainerEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("isValueCloneable"))("labelPosition","right")("label",e.\u0275\u0275pipeBind1(3,6,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.CanMakeCopyCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.propertiesVisibilityConfig.isLocalizableTextPropertyVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.propertiesVisibilityConfig.isMaskedPropertyVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.propertiesVisibilityConfig.isFormatValidationPropertyVisible)}}function kl(o,r){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",8),e.\u0275\u0275element(2,"crt-input",14),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",8),e.\u0275\u0275element(5,"crt-number-input",14),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("defaultValue.sequencePrefix"))("labelPosition","above")("label",e.\u0275\u0275pipeBind1(3,6,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.DefaultValueDialog.sequencePrefix")),e.\u0275\u0275advance(3),e.\u0275\u0275property("control",t.getControl("defaultValue.sequenceNumberOfChars"))("labelPosition","above")("label",e.\u0275\u0275pipeBind1(6,8,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.DefaultValueDialog.sequenceNumberOfChars"))}}let Ht=class extends oe{get isAutonumber(){return this._getIsAutonumber(this.defaultValue)}get isAutonumberVisible(){const t=this.getControl("type").value?.value;return this.getIsAutonumberAvailable(t)}constructor(r,t,n,a,i){super(r,t,n,i),this.injector=r,this.designerEntityService=t,this.designerEntityDataSourceService=n,this._propertiesVisibilityFactory=a,this.isAutonumberControl=new p.FormControl(!1),this.propertiesVisibilityConfig={isLocalizableTextPropertyVisible:!0,isMaskedPropertyVisible:!0,isMultilinePropertyVisible:!0,isFormatValidationPropertyVisible:!1}}_getRequirementTypeOptions(){return this.getRequirementTypeOptions()}_setIsMasked(r,t,n){const a=this.getControl("isMasked"),i=r===l.DataValueType.PHONE_TEXT;i?a.enable({emitEvent:t}):a.disable({emitEvent:t}),a.setValue(i&&n,{emitEvent:t})}_getIsAutonumber(r){return r?.valueSourceType===l.DefaultValueSource.Sequence}_setIsAutonumber(r,t){const n=this._getIsAutonumber(r);if(this.isAutonumberControl.setValue(n,{emitEvent:t}),n){const a=this.getControl("isMasked"),i=this.getControl("isValueCloneable"),u=this.getControl("isLocalizableText"),h=this.getControl("isMultiLineText"),b=this.getControl("isFormatValidated");a.setValue(!1,{emitEvent:t}),b.setValue(!1,{emitEvent:t}),i.setValue(!1,{emitEvent:t}),u.setValue(!1,{emitEvent:t}),h.setValue(!1,{emitEvent:t})}}_modifyVisibilityConfig(r){this._resetPropertiesVisibilityConfig(),this._propertiesVisibilityFactory.getPropertiesVisibilityService(r).modifyVisibilityConfig(this.propertiesVisibilityConfig)}_resetPropertiesVisibilityConfig(){this.propertiesVisibilityConfig={isLocalizableTextPropertyVisible:!0,isMaskedPropertyVisible:!0,isMultilinePropertyVisible:!0,isFormatValidationPropertyVisible:!1}}getPropertiesConfig(){return{...super.getPropertiesConfig(),isLocalizableText:{path:"isLocalizableText",dataValueType:l.DataValueType.Boolean},requirementType:{path:"requirementType",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}},isMasked:{path:"isMasked",dataValueType:l.DataValueType.Boolean},isFormatValidated:{path:"isFormatValidated",dataValueType:l.DataValueType.Boolean},isMultiLineText:{path:"isMultiLineText",dataValueType:l.DataValueType.Boolean}}}getPropertiesValues(r){return{...super.getPropertiesValues(r),requirementType:r.requirementType.toString(),isLocalizableText:r.isLocalizableText,isMasked:r.isMasked,isFormatValidated:r.isFormatValidated,isMultiLineText:r.isMultiLineText}}onTypeChanged(r){super.onTypeChanged(r),this._setIsMasked(r,!0,!1),this._modifyVisibilityConfig(r),this.isAutonumberControl.value&&!this.getIsAutonumberAvailable(r)&&this.isAutonumberControl.setValue(!1)}loadData(r){return this.setLookupItems("requirementType",this._getRequirementTypeOptions()),super.loadData(r).pipe((0,c.tap)(t=>{this._setIsMasked(t.type,!1,t.isMasked),this._modifyVisibilityConfig(t.type),this._setIsAutonumber(t.defValue,!1)}))}ngOnInit(){super.ngOnInit(),this.getControl("defaultValue").valueChanges.pipe((0,c.distinctUntilChanged)(),(0,c.takeUntil)(this.destroyed$)).subscribe(()=>this._setIsAutonumber(this.defaultValue,!0)),this.isAutonumberControl.valueChanges.pipe((0,c.filter)(r=>this._getIsAutonumber(this.defaultValue)!==r),(0,c.takeUntil)(this.destroyed$)).subscribe(r=>{const t={valueSourceType:l.DefaultValueSource.None,valueSource:null,value:null,sequencePrefix:null,sequenceNumberOfChars:0};r&&(t.valueSourceType=l.DefaultValueSource.Sequence,t.sequencePrefix="",t.sequenceNumberOfChars=Zn.DEFAULT_SEQUENCE_NUMBER_OF_CHARS),this.defaultValue=t})}};Ht.\u0275fac=function(r){return new(r||Ht)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(m.DesignerEntityService),e.\u0275\u0275directiveInject(m.DesignerEntityDataSourceService),e.\u0275\u0275directiveInject(no),e.\u0275\u0275directiveInject(B.FeatureService))},Ht.\u0275cmp=e.\u0275\u0275defineComponent({type:Ht,selectors:[["crt-entity-data-source-text-attribute-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:31,vars:47,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","required","label"],["caption",""],[4,"ngIf"],[1,"crt-control-form-field-wrapper"],[3,"control","readonly","labelText","validators","confirmValidators","infoIconText"],[3,"items","useStaticFiltering","control","labelPosition","label"],["iconLineType","bold",3,"formControlName","label"],["class","crt-control-form-field-wrapper",4,"ngIf"],[3,"simpleTitle"],[3,"control","labelPosition","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Ml,2,3,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3)(4,"mat-form-field",4)(5,"mat-label"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ts-localizable-text-input",5,6),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275template(11,Il,3,3,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",8),e.\u0275\u0275element(13,"crt-confirming-input",9),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",8),e.\u0275\u0275element(17,"crt-combobox",10),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"mat-form-field",4)(20,"mat-label"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(23,"ts-localizable-text-input",11),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",8),e.\u0275\u0275element(26,"crt-combobox",10),e.\u0275\u0275pipe(27,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(28,El,3,5,"div",12),e.\u0275\u0275template(29,Ol,7,8,"ng-container",7),e.\u0275\u0275template(30,kl,7,10,"ng-container",7),e.\u0275\u0275elementEnd()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isEmbedded),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,31,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName","caption")("required",!0)("label",e.\u0275\u0275pipeBind1(10,33,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.getControl("caption").errors),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("name"))("readonly",t.dsAttributeNameIsReadonly)("labelText",e.\u0275\u0275pipeBind1(14,35,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EnglishNameCaption"))("validators",t.validators)("confirmValidators",t.confirmValidators)("infoIconText",e.\u0275\u0275pipeBind1(15,37,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EditCodeInfoIconCaption")),e.\u0275\u0275advance(4),e.\u0275\u0275property("items",t.getLookupItems("type"))("useStaticFiltering",!0)("control",t.getControl("type"))("labelPosition","above")("label",e.\u0275\u0275pipeBind1(18,39,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.FormatCaption")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(22,41,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.DescriptionCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName","description")("label",e.\u0275\u0275pipeBind1(24,43,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.DescriptionCaption")),e.\u0275\u0275advance(3),e.\u0275\u0275property("items",t.getLookupItems("requirementType"))("useStaticFiltering",!0)("control",t.getControl("requirementType"))("labelPosition","above")("label",e.\u0275\u0275pipeBind1(27,45,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.RequiredCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isAutonumberVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isAutonumber),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAutonumber))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtInputComponent,s.CrtNumberInputComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.FormGroupDirective,p.FormControlName,x.CdkScrollable,D,$,P.TranslatePipe,g.LczToStringPipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"],changeDetection:0}),Ht=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.EntityDataSourceTextAttributePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,m.DesignerEntityService,m.DesignerEntityDataSourceService,no,B.FeatureService])],Ht);function Ll(o,r){if(o&1&&(e.\u0275\u0275element(0,"crt-properties-panel-header",9),e.\u0275\u0275pipe(1,"lczToString")),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("simpleTitle",e.\u0275\u0275pipeBind1(1,1,t.title))}}let Jt=class extends L{constructor(r,t,n){super(r),this.designerEntityDataSourceService=t,this.designerEntityService=n,this.isEmbedded=!1,this.translatePrefix="InterfaceDesigner.PropertiesPages.EntityDataSourceAttributePropertiesPanel"}getPropertiesConfig(){return{...super.getPropertiesConfig(),caption:{path:"caption",dataValueType:l.DataValueType.LOCALIZABLE_STRING,isTitle:!0},name:{path:"name",dataValueType:l.DataValueType.Text,controlInitialConfig:{validatorOrOpts:[p.Validators.required]}}}}shouldEmitChanges(r){return!1}loadData(r){this.propertiesForm.disable();const t=r.itemConfig;return this.designerEntityDataSourceService.getDataSources$().pipe((0,c.map)(n=>n.find(a=>a.dataSourceName===t.dataSourceName)),(0,c.mergeMap)(n=>n.getSchema().pipe((0,c.mergeMap)(a=>{const i=a.dataSourceConfig.config.entitySchemaName;return this.designerEntityService.getReferenceColumn(`${i}.${t.dataSourceAttributeName}`).pipe((0,c.map)(u=>({name:u.name,caption:u.caption})))}))))}};Jt.\u0275fac=function(r){return new(r||Jt)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(m.DesignerEntityDataSourceService),e.\u0275\u0275directiveInject(m.DesignerEntityService))},Jt.\u0275cmp=e.\u0275\u0275defineComponent({type:Jt,selectors:[["crt-entity-forward-reference-attribute-properties-panel"]],hostVars:2,hostBindings:function(r,t){r&2&&e.\u0275\u0275classProp("embedded-properties-panel",t.isEmbedded)},inputs:{isEmbedded:"isEmbedded"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:14,vars:17,consts:[[1,"properties-panel-wrap"],[3,"simpleTitle",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"form-field-wrapper"],["iconLineType","bold",3,"required","formControlName","label"],["caption",""],[1,"crt-control-form-field-wrapper"],[3,"control","readonly","labelText"],[3,"simpleTitle"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Ll,2,3,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3)(4,"mat-form-field",4)(5,"mat-label"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ts-localizable-text-input",5,6),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",7),e.\u0275\u0275element(12,"crt-confirming-input",8),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isEmbedded),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,11,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("required",!0)("formControlName","caption")("label",e.\u0275\u0275pipeBind1(10,13,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.TitleCaption")),e.\u0275\u0275advance(4),e.\u0275\u0275property("control",t.getControl("name"))("readonly",!0)("labelText",e.\u0275\u0275pipeBind1(13,15,"SchemaDesigners.EntitySchemaDesigner.ColumnEditor.GeneralGroup.EnglishNameCaption")))},dependencies:[f.NgIf,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.FormGroupDirective,p.FormControlName,D,$,P.TranslatePipe,g.LczToStringPipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),Jt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.EntityForwardReferenceAttributePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,m.DesignerEntityDataSourceService,m.DesignerEntityService])],Jt);function Nl(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-input",11),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("label",t.translate("SchemaNameLabel"))("value",t.dataSourceCaption)}}function Rl(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-label"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.translate("EmptyDataSourceHint"))}}function Bl(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",8)(1,"crt-slide-toggle",9),e.\u0275\u0275listener("toggleChange",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onAskUserToChangeSchemaChanged(a))}),e.\u0275\u0275elementEnd()()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AskUserToChangeSchema")),e.\u0275\u0275property("default",t.askUserToChangeSchema)}}let Zt=class extends L{get hasObjectId(){return!!this._sysModuleId||!!this._uId}get saveOnChange(){return this.getControl("saveOnChange").value}get askUserToChangeSchema(){return this.getControl("askUserToChangeSchema").value}constructor(r,t,n){super(n),this._environment=r,this._window=t,this.injector=n,this.translatePrefix="InterfaceDesigner.PropertiesPages.EntityStagePropertiesPanel",this._designerSchemaService=this.injector.get(_.DesignerSchemaService),this._designerEntityDataSourceService=this.injector.get(m.DesignerEntityDataSourceService),this._entitiesListLoaderService=this.injector.get(Se),this._schemaInfoService=this.injector.get(B.SchemaInfoService),this._featureService=this.injector.get(B.FeatureService),this._maskService=this.injector.get(E.MaskService),this._commandFactoryService=this.injector.get(_.DesignerCommandFactoryService),this._messageDialogProvider=this.injector.get(s.MessageDialogProvider),this._entitySchemaDesignerService=this.injector.get(le.EntitySchemaDesignerService)}_getPrimaryDataSource(r){if(!r?.length)return null;const t=this._designerSchemaService.getPrimaryDataSourceName();return r.find(n=>n.dataSourceName===t)}_checkIsEntitySchemaChanged(){return this._entitySchemaDesignerService.getIsSchemaModified(this._entitySchemaName)}_saveEntity(){var r=this;return(0,k.Z)(function*(){r._maskService.showBodyMask();const t=yield(0,_.executeCommand)(r._commandFactoryService,"crt.SaveEntityDataSourcesCommand");r._maskService.hideBodyMask(),t.success&&(r._entitySchemaDesignerService.deleteDesignItem(r._entitySchemaName),yield r._openEntityStageProcessEditPage())})()}_saveEntityWithConfirmation(){var r=this;return(0,k.Z)(function*(){const t=r.translate("SaveEntityConfirmationDialog.Message");(yield(0,d.firstValueFrom)(r._messageDialogProvider.open({data:{message:t,actions:[s.DEFAULT_DIALOG_ACTIONS.CANCEL,s.DEFAULT_DIALOG_ACTIONS.SAVE]}})))===s.DEFAULT_DIALOG_ACTIONS.SAVE.key&&(yield r._saveEntity())})()}_openEntityStageProcessEditPage(){const r=this._environment.defaultApplicationUrl+"?vm=SectionCasesWizard#Cases/",t=this._useDcmForGeneralObject?this._uId:this._sysModuleId,n=(0,g.getWorkspaceBaseUrl)()+r+t+`/${this._packageUId}`;this._window.open(n).focus()}_fillEntitySchemaProperties(r){return r?this._entitiesListLoaderService.getEntityModuleInfo(r).pipe((0,c.tap)(t=>{t?.length&&(this._sysModuleId=t[0].sysModuleId)}),(0,d.switchMap)(()=>(0,d.from)(this._schemaInfoService.getSchemaUIdByName(r))),(0,d.map)(t=>{this._uId=t})):(0,d.of)(void 0)}getPropertiesConfig(){return{...super.getPropertiesConfig(),entityName:{path:"itemConfig.entityName",dataValueType:l.DataValueType.Text},saveOnChange:{path:"itemConfig.saveOnChange",dataValueType:l.DataValueType.Boolean},askUserToChangeSchema:{path:"itemConfig.askUserToChangeSchema",dataValueType:l.DataValueType.Boolean}}}loadData(r){return this._packageUId=r.packageUId,this._designerEntityDataSourceService.getDataSources$().pipe((0,d.switchMap)(t=>{const n=this._getPrimaryDataSource(t);return n?n.getSchema():(0,d.of)(null)}),(0,d.switchMap)(t=>(t&&(this.dataSourceCaption=t.caption.toString(),this._entitySchemaName=t.name),this._entitySchemaName?this._fillEntitySchemaProperties(this._entitySchemaName):(0,d.of)(void 0))),(0,d.switchMap)(()=>super.loadData(r)))}onGoToCasesClick(){var r=this;return(0,k.Z)(function*(){r._checkIsEntitySchemaChanged()?yield r._saveEntityWithConfirmation():r._openEntityStageProcessEditPage()})()}ngOnInit(){super.ngOnInit(),this._featureService.getFeatureState("UseDcmForGeneralObject").subscribe(r=>{this._useDcmForGeneralObject=r}),this._featureService.getFeatureState("EntityStageProgressbar-ShowSnackbar").subscribe(r=>{this.showSnackbar=r})}onSaveOnChangeChanged(r){this.getControl("saveOnChange").setValue(r.checked)}onAskUserToChangeSchemaChanged(r){this.getControl("askUserToChangeSchema").setValue(r.checked)}};Zt.\u0275fac=function(r){return new(r||Zt)(e.\u0275\u0275directiveInject("environment"),e.\u0275\u0275directiveInject(U.WINDOW_TOKEN),e.\u0275\u0275directiveInject(e.Injector))},Zt.\u0275cmp=e.\u0275\u0275defineComponent({type:Zt,selectors:[["crt-entity-stage-progress-bar-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:15,vars:13,consts:[[1,"properties-panel-wrap"],[1,"properties-form",3,"formGroup"],["expanded","true","togglePosition","after","toggleType","material",3,"title","extraStyles"],["class","control","labelPosition","above","readonly","true",3,"label","value",4,"ngIf"],[4,"ngIf"],[1,"cases-container"],["shape","rounded","color","primary",3,"caption","disabled","clicked"],[3,"formGroup"],[1,"crt-control-form-field-wrapper"],["data-item-marker","editable",3,"default","title","toggleChange"],["class","crt-control-form-field-wrapper",4,"ngIf"],["labelPosition","above","readonly","true",1,"control",3,"label","value"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1)(2,"crt-properties-panel-header"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"crt-expansion-panel",2)(5,"div"),e.\u0275\u0275template(6,Nl,1,2,"crt-input",3),e.\u0275\u0275template(7,Rl,2,1,"crt-label",4),e.\u0275\u0275elementStart(8,"div",5)(9,"crt-button",6),e.\u0275\u0275listener("clicked",function(){return t.onGoToCasesClick()}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275element(10,"crt-properties-panel-visibility-settings",7),e.\u0275\u0275elementStart(11,"crt-properties-panel-advanced-settings",7)(12,"div",8)(13,"crt-slide-toggle",9),e.\u0275\u0275listener("toggleChange",function(a){return t.onSaveOnChangeChanged(a)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(14,Bl,2,2,"div",10),e.\u0275\u0275elementEnd()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("HeaderLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("GeneralGroup"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.dataSourceCaption),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.dataSourceCaption),e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",t.translate("CasesCaption"))("disabled",!t.hasObjectId),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("title",t.translate("SaveOnChange")),e.\u0275\u0275property("default",t.saveOnChange),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showSnackbar))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtExpansionPanelComponent,s.CrtInputComponent,s.CrtLabelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,E.SlideToggleComponent,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .cases-container[_ngcontent-%COMP%]{display:flex;justify-content:center}"],changeDetection:0}),Zt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.EntityStageProgressBarPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[Object,Object,e.Injector])],Zt);const jn=[S.CONTAINER_COLOR_TRANSPARENT,...Object.values(S.CONTAINER_BASE_COLORS).map(({value:o})=>o),"#000000","#757575","#004fd5","#098401","#d2310d","#0c2e4d","#fd3f11","#fd6534","#fd8701","#fdab06","#a5dd01","#00c753","#21ab13","#00bea4","#fdd8cf","#fddfd5","#fde6cb","#fdedcc","#edf8cb","#cbf4db","#d1edcf","#cbf1ec","#009587","#f92f7e","#b77cce","#7848ed","#4f43c1","#0057ee","#03a8f4","#0090e9","#cbe9e6","#fdd5e4","#f0e4f4","#e3d9fc","#dbd8f2","#cbddfc","#ccedfc","#cbe8fa"];class oo extends L{constructor(){super(...arguments),this.translatePrefix="PropertiesPages.ContainerPropertiesPage",this.colors=jn,this.sizeLookupOptions=this.getSizeLookupOptions(),this._alignItemsOptions=[{value:"stretch",displayValue:this.translate("AlignItems.Stretch")},{value:"flex-start",displayValue:this.translate("AlignItems.Start")},{value:"center",displayValue:this.translate("AlignItems.Center")},{value:"flex-end",displayValue:this.translate("AlignItems.End")}]}get alignItemsOptions(){return this._alignItemsOptions}getSizeLookupOptions(){return eo(this.translate.bind(this))}getControlSizeValue({config:r,alternatePath:t,defaultSize:n=S.SizeEnum.None}){let a=(0,y.get)(this.itemMetadata,r.path);!a&&t&&(a=(0,y.get)(this.itemMetadata,t));let i;if(a&&!(0,y.isPlainObject)(a))if((0,S.isSizeEnum)(a)){const u=r.options.items,h=a.toLowerCase();i=u.find(b=>b.value===h)}else{const u=(0,S.isNumber)(a)?"px":"";i={value:a,displayValue:`${a}${u}`}}else i=this.getSizeLookupOptions().items.find(h=>h.value===n);return i}getPropertiesConfig(){return{...super.getPropertiesConfig(),color:{path:"itemConfig.color",dataValueType:l.DataValueType.Text},borderRadius:{path:"itemConfig.borderRadius",dataValueType:l.DataValueType.Lookup,options:this.sizeLookupOptions},paddingTop:{path:"itemConfig.padding.top",dataValueType:l.DataValueType.Lookup,options:this.sizeLookupOptions},paddingRight:{path:"itemConfig.padding.right",dataValueType:l.DataValueType.Lookup,options:this.sizeLookupOptions},paddingBottom:{path:"itemConfig.padding.bottom",dataValueType:l.DataValueType.Lookup,options:this.sizeLookupOptions},paddingLeft:{path:"itemConfig.padding.left",dataValueType:l.DataValueType.Lookup,options:this.sizeLookupOptions},stretch:{path:"itemConfig.stretch",dataValueType:l.DataValueType.Boolean},fitContent:{path:"itemConfig.fitContent",dataValueType:l.DataValueType.Boolean},alignItems:{path:"itemConfig.alignItems",dataValueType:l.DataValueType.Lookup,options:{items:this.alignItemsOptions}}}}beforeSetControlValue(r,t,n){switch(t){case"borderRadius":return this.getControlSizeValue({config:n});case"paddingTop":case"paddingRight":case"paddingBottom":case"paddingLeft":return this.getControlSizeValue({config:n,alternatePath:"itemConfig.padding"});case"color":if(r){if(S.BaseContainerComponent.isBaseColorKey(r))return S.BaseContainerComponent.getBaseColorValue(r)}else return S.CONTAINER_COLOR_TRANSPARENT;break;case"alignItems":if(!r)return this._alignItemsOptions.find(a=>a.value===S.CONTAINER_DEFAULT_VALUES.alignItems);break}return super.beforeSetControlValue(r,t,n)}afterGetControlValue(r,t,n){if(t==="color"&&S.BaseContainerComponent.isBaseColorValue(r))return S.BaseContainerComponent.getBaseColorKey(r);if(!(t==="alignItems"&&r===S.CONTAINER_DEFAULT_VALUES.alignItems))return super.afterGetControlValue(r,t,n)}}function Gl(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-properties-panel-slider",15),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("label",t.translate("TitleWidthCaption")),e.\u0275\u0275property("config",t.fullWidthSliderConfig)("control",t.getControl("titleWidth"))}}let Kt=class extends oo{constructor(r,t){super(r),this.injector=r,this._crtControlStateAdapter=t,this.translatePrefix="InterfaceDesigner.PropertiesPages.ExpansionPanelPropertiesPage",this._fullWidthSliderConfig={color:"default",step:10,minValue:10,maxValue:90},this._toggleTypeOptions=[{icon:"expansion-panel-toggle-type-default",caption:this.translate("DefaultToggleTypeLabel"),value:"default"},{icon:"expansion-panel-toggle-type-material",caption:this.translate("MaterialToggleTypeLabel"),value:"material"}],this._togglePositionOptions=[{icon:"expansion-panel-toggle-position-before",caption:this.translate("BeforeTogglePositionLabel"),value:"before"},{icon:"expansion-panel-toggle-position-after",caption:this.translate("AfterTogglePositionLabel"),value:"after"}]}get toggleTypeOptions(){return this._toggleTypeOptions}get togglePositionOptions(){return this._togglePositionOptions}get headerColors(){return jn}get fullWidthSliderConfig(){return this._fullWidthSliderConfig}get isFullWidthHeader(){return(0,y.get)(this.itemMetadata?.itemConfig,"fullWidthHeader")}getPropertiesConfig(){const r=super.getPropertiesConfig();return delete r.color,delete r.borderRadius,{...r,title:{path:"itemConfig.title",dataValueType:l.DataValueType.LOCALIZABLE_STRING,isTitle:!0,controlInitialConfig:{validatorOrOpts:[p.Validators.required,this._crtControlStateAdapter.transform({instance:new w.EmptyWhiteSpaceValidator(this.injector)})],value:""}},toggleType:{path:"itemConfig.toggleType",dataValueType:l.DataValueType.CUSTOM_OBJECT,options:{items:this.toggleTypeOptions}},togglePosition:{path:"itemConfig.togglePosition",dataValueType:l.DataValueType.CUSTOM_OBJECT,options:{items:this.togglePositionOptions}},labelColor:{path:"itemConfig.labelColor",dataValueType:l.DataValueType.Text},fullWidthHeader:{path:"itemConfig.fullWidthHeader",dataValueType:l.DataValueType.Boolean},titleWidth:{path:"itemConfig.titleWidth",dataValueType:l.DataValueType.Integer}}}loadData(r){const t=r.itemConfig;return t.padding||(t.padding={top:S.SizeEnum.Small,bottom:S.SizeEnum.Small,left:S.SizeEnum.Medium,right:S.SizeEnum.Medium}),super.loadData(r)}};Kt.\u0275fac=function(r){return new(r||Kt)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(w.CrtControlStateAdapter))},Kt.\u0275cmp=e.\u0275\u0275defineComponent({type:Kt,selectors:[["crt-expansion-panel-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:25,vars:38,consts:[[1,"properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"control"],["required","","labelType","caption",3,"caption"],["iconLineType","bold",3,"formControlName","label"],["title",""],[1,"control",3,"items","control","label"],["pickerMode","extended",1,"control",3,"label","colors","control"],[3,"title"],[1,"padding-group-container"],["labelPosition","above",1,"control",3,"control","label","items"],["labelPosition","right",1,"control",3,"control","label"],["class","control",3,"config","control","label",4,"ngIf"],[1,"control",3,"config","control","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3)(4,"mat-form-field",4),e.\u0275\u0275element(5,"crt-label",5)(6,"ts-localizable-text-input",6,7),e.\u0275\u0275elementStart(8,"mat-error"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(11,"crt-icon-radio-button",8)(12,"crt-icon-radio-button",8)(13,"crt-properties-panel-color-picker",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"crt-properties-panel-visibility-settings",1),e.\u0275\u0275elementStart(15,"crt-properties-panel-group",10)(16,"div",11),e.\u0275\u0275element(17,"crt-combobox",12)(18,"crt-combobox",12)(19,"crt-combobox",12)(20,"crt-combobox",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275element(22,"crt-checkbox",13),e.\u0275\u0275template(23,Gl,1,3,"crt-properties-panel-slider",14),e.\u0275\u0275element(24,"crt-properties-panel-container-settings",1),e.\u0275\u0275elementEnd()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",t.translate("TitleLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","title")("label",t.translate("TitleLabel")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,36,"Validators.Required.Message")," "),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",t.translate("ToggleTypeLabel")),e.\u0275\u0275property("items",t.getLookupItems("toggleType"))("control",t.getControl("toggleType")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("TogglePositionLabel")),e.\u0275\u0275property("items",t.getLookupItems("togglePosition"))("control",t.getControl("togglePosition")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("ColorLabel")),e.\u0275\u0275property("colors",t.headerColors)("control",t.getControl("labelColor")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("PaddingGroup")),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("paddingTop"))("label",t.translate("Padding.Top"))("items",t.getLookupItems("paddingTop")),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("paddingBottom"))("label",t.translate("Padding.Bottom"))("items",t.getLookupItems("paddingBottom")),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("paddingLeft"))("label",t.translate("Padding.Left"))("items",t.getLookupItems("paddingLeft")),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("paddingRight"))("label",t.translate("Padding.Right"))("items",t.getLookupItems("paddingRight")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("FullWidthHeaderCaption")),e.\u0275\u0275property("control",t.getControl("fullWidthHeader")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isFullWidthHeader),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,s.CrtIconRadioButtonComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.FormGroupDirective,p.FormControlName,D,ne,dn,F,A,ce,re,P.TranslatePipe],styles:[".padding-group-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;column-gap:24px}.padding-group-container[_ngcontent-%COMP%]     .mat-form-field-infix{width:auto}[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"],changeDetection:0}),Kt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ExpansionPanelPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,w.CrtControlStateAdapter])],Kt);class On extends W{constructor(r){super(),this.injector=r,this._subscriptions=new d.Subscription,this.viewControl=new p.FormControl,this.views=[],this.loading=!0,this.injectDependencies()}_initializeData(){var r=this;return(0,k.Z)(function*(){const t=[...r._getDataGridViewConfigs()];r.views=yield r.getViews(t),r._setupSelectedViewControlValue()})()}_getDataGridViewConfigs(){return this.designerSchemaService.getViewConfigInfoByProperty("type","crt.DataGrid").map(r=>r.viewConfig)}_getElementTypeCaption(r){const n=l.InterfaceDesignerItemRegistry.interfaceDesignerItemRegistrationInfos.get(r)?.typeCaption;return n?this.translateService.instant(n):""}_convertDataGridViewConfigsToLookupValues(r){var t=this;return r.map(function(){var n=(0,k.Z)(function*(a){const i=t.displayValueCreatorFactoryService.get(a?.type),u=yield(0,d.firstValueFrom)(i.getDisplayValue(a)),h=(0,g.getFullViewElementCaption)({name:a?.name,caption:u,typeCaption:t._getElementTypeCaption(a?.type)});return{value:a.name,displayValue:h}});return function(a){return n.apply(this,arguments)}}())}_setupSelectedViewControlValue(){const r=this.views.find(t=>t.value===this.params?.viewName);this.viewControl.setValue(r)}_getFiltersRequestParams(r){const t=this._getDataGridViewConfigs().find(i=>i.name===r),n=(0,R.isBindingExpression)(t?.items)&&(0,R.parseExpression)(t?.items).attributePath;if(!n)return null;const a=this.designerSchemaService.getMappedDataSourceAttributePath(n);return a?this.filteringRequestParamsBindingConfigCreator.createCollectionFilteringParams(a,{supportEmptySelection:!0}):null}_subscribeViewControlChanges(){this._subscriptions.add(this.viewControl.valueChanges.subscribe(r=>{const t=r?.value;t!==this.params?.viewName&&this.applyViewToParams(t)}))}injectDependencies(){this.designerSchemaService=this.injector.get(_.DesignerSchemaService),this.displayValueCreatorFactoryService=this.injector.get(m.DisplayValueCreatorFactoryService),this.translateService=this.injector.get(P.TranslateService),this.filteringRequestParamsBindingConfigCreator=this.injector.get(se),this.changeDetectorRef=this.injector.get(e.ChangeDetectorRef)}applyViewToParams(r){this.params=this.getParamsWithViewName(r),this.paramsChange.emit(this.params)}getParamsWithViewName(r){const t=this._getFiltersRequestParams(r)||{};return r?{viewName:r,...t}:null}getViews(r){return Promise.all(this._convertDataGridViewConfigsToLookupValues(r))}ngOnInit(){var r=this;setTimeout((0,k.Z)(function*(){yield r._initializeData(),r._subscribeViewControlChanges(),r.loading=!1,r.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this._subscriptions.unsubscribe()}}On.\u0275fac=function(r){return new(r||On)(e.\u0275\u0275directiveInject(e.Injector))},On.\u0275dir=e.\u0275\u0275defineDirective({type:On,features:[e.\u0275\u0275InheritDefinitionFeature]});let Qe=class extends On{};Qe.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Qe)))(t||Qe)}}(),Qe.\u0275cmp=e.\u0275\u0275defineComponent({type:Qe,selectors:[["crt-export-data-grid-to-excel-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:6,consts:[["cdkScrollable","",1,"properties-panel-wrap"],["labelPosition","above",3,"items","useStaticFiltering","control","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-combobox",1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(2,4,"InterfaceDesigner.PropertiesPages.ExportDataGridToExcelRequestPropertiesPanel.ViewSelectCaption")),e.\u0275\u0275property("items",t.views)("useStaticFiltering",!0)("control",t.viewControl))},dependencies:[s.CrtComboBoxComponent,x.CdkScrollable,P.TranslatePipe],encapsulation:2}),Qe=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ExportDataGridToExcelRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Qe);function jl(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-combobox",8),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("label",t.translate("FeedDataSourceCaption")),e.\u0275\u0275property("items",t.getLookupItems("dataSourceName"))("control",t.dataSourceNameSchemaControl)}}let He=class extends L{get dataSourceNameSchemaControl(){return this._dataSourceNameSchemaControl}get dataSources(){return this._dataSources}get dataSourceRequire(){return this._viewItemConfig?.feedType===s.FeedSourceType.Record}get feedTypeTooltip(){return this.dataSourceRequire?this.translate("FeedTypeRecordTooltipCaption"):this.translate("FeedTypeGeneralTooltipCaption")}get allowExternalPost(){return this.getControl("allowExternalPost")?.value??!1}get showBlankSlate(){return this.getControl("showBlankSlate")?.value??!0}constructor(r,t,n){super(r),this._designerSchemaService=t,this._designerEntityDataSourceService=n,this.translatePrefix="InterfaceDesigner.PropertiesPages.FeedPropertiesPage"}_actualizeDataSourceConfig(){if(!this._dataSourceName){this._viewItemConfig.dataSourceName=null,this._viewItemConfig.entitySchemaName=null;return}const r=this._designerSchemaService.getDataSourceConfigByName(this._dataSourceName);this._viewItemConfig.dataSourceName=this._dataSourceName,this._viewItemConfig.entitySchemaName=r.entitySchemaName}_getPrimaryDataSource(r){if(!r||r.length===0)return null;const t=this._designerSchemaService.getPrimaryDataSourceName();return r.find(n=>n.dataSourceName===t)}getPropertiesConfig(){return{...super.getPropertiesConfig(),feedType:{path:"itemConfig.feedType",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[]},options:{items:[{value:s.FeedSourceType.Record,displayValue:this.translate("FeedTypeRecord")},{value:s.FeedSourceType.User,displayValue:this.translate("FeedTypeUser")}]}},dataSourceName:{path:"itemConfig.dataSourceName",dataValueType:l.DataValueType.Lookup,options:{items:[]}},entitySchemaName:{path:"itemConfig.entitySchemaName",dataValueType:l.DataValueType.Text},allowExternalPost:{path:"itemConfig.allowExternalPost",dataValueType:l.DataValueType.Boolean},showBlankSlate:{path:"itemConfig.showBlankSlate",dataValueType:l.DataValueType.Boolean}}}loadData(r){this._viewItemConfig=r.itemConfig;let t=this._viewItemConfig.dataSourceName;return this._designerEntityDataSourceService.getDataSources$().pipe((0,c.switchMap)(n=>{const a=n.map(u=>({value:u.dataSourceName,displayValue:u.dataSourceName}));this.setLookupItems("dataSourceName",a);const i=t?n.find(u=>u.dataSourceName===t):this._getPrimaryDataSource(n);return t=i?i.dataSourceName:null,this._dataSourceName=t,this.dataSourceNameSchemaControl.setValue({value:t,displayValue:t}),(0,d.of)(r)}))}ngOnInit(){super.ngOnInit(),this._dataSourceNameSchemaControl=new p.FormControl,this._dataSourceNameSchemaControl.valueChanges.subscribe(r=>{this._dataSourceName=r?r.value:null,this._actualizeDataSourceConfig()})}onSliderChange(r,t){this.getControl(t).setValue(r?.checked??!1)}};He.\u0275fac=function(r){return new(r||He)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(m.DesignerEntityDataSourceService))},He.\u0275cmp=e.\u0275\u0275defineComponent({type:He,selectors:[["crt-feed-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:17,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],["labelPosition","above","data-qa","feed-type-list",3,"items","control","label","tooltip"],["labelPosition","above","data-qa","data-source-list",3,"items","control","label",4,"ngIf"],["data-qa","show-blank-slate",3,"default","title","toggleChange"],["data-qa","allow-external-post",3,"default","title","toggleChange"],["labelPosition","above","data-qa","data-source-list",3,"items","control","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3),e.\u0275\u0275element(4,"crt-combobox",4),e.\u0275\u0275template(5,jl,1,3,"crt-combobox",5),e.\u0275\u0275elementStart(6,"crt-slide-toggle",6),e.\u0275\u0275listener("toggleChange",function(a){return t.onSliderChange(a,"showBlankSlate")}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"crt-expansion-panel",3)(8,"crt-slide-toggle",7),e.\u0275\u0275listener("toggleChange",function(a){return t.onSliderChange(a,"allowExternalPost")}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(9,"crt-properties-panel-visibility-settings",1)(10,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("FeedTypeCaption")),e.\u0275\u0275property("items",t.getLookupItems("feedType"))("control",t.getControl("feedType"))("tooltip",t.feedTypeTooltip),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.dataSourceRequire),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("ShowBlankSlateCaption")),e.\u0275\u0275property("default",t.showBlankSlate),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("ExternalUsersGroupCaption"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AllowExternalPostCaption")),e.\u0275\u0275property("default",t.allowExternalPost),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,E.SlideToggleComponent,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),He=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.FeedPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,_.DesignerSchemaService,m.DesignerEntityDataSourceService])],He);function zl(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-combobox",8),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("label",t.translate("FeedDataSourceCaption")),e.\u0275\u0275property("items",t.getLookupItems("dataSourceName"))("control",t.dataSourceNameSchemaControl)}}let Xt=class extends He{constructor(r,t,n){super(r,t,n)}getPropertiesConfig(){const r=super.getPropertiesConfig(),t=r.feedType.options.items;return r.feedType.options.items=t.filter(n=>n.value!==s.FeedSourceType.User),r}};Xt.\u0275fac=function(r){return new(r||Xt)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(m.DesignerEntityDataSourceService))},Xt.\u0275cmp=e.\u0275\u0275defineComponent({type:Xt,selectors:[["crt-feed-composer-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:17,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],["labelPosition","above","data-qa","feed-type-list",3,"items","control","label","tooltip"],["labelPosition","above","data-qa","data-source-list",3,"items","control","label",4,"ngIf"],["data-qa","show-blank-slate",3,"default","title","toggleChange"],["data-qa","allow-external-post",3,"default","title","toggleChange"],["labelPosition","above","data-qa","data-source-list",3,"items","control","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3),e.\u0275\u0275element(4,"crt-combobox",4),e.\u0275\u0275template(5,zl,1,3,"crt-combobox",5),e.\u0275\u0275elementStart(6,"crt-slide-toggle",6),e.\u0275\u0275listener("toggleChange",function(a){return t.onSliderChange(a,"showBlankSlate")}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"crt-expansion-panel",3)(8,"crt-slide-toggle",7),e.\u0275\u0275listener("toggleChange",function(a){return t.onSliderChange(a,"allowExternalPost")}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(9,"crt-properties-panel-visibility-settings",1)(10,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("FeedTypeCaption")),e.\u0275\u0275property("items",t.getLookupItems("feedType"))("control",t.getControl("feedType"))("tooltip",t.feedTypeTooltip),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.dataSourceRequire),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("ShowBlankSlateCaption")),e.\u0275\u0275property("default",t.showBlankSlate),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("ExternalUsersGroupCaption"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AllowExternalPostCaption")),e.\u0275\u0275property("default",t.allowExternalPost),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,E.SlideToggleComponent,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),Xt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.FeedComposerPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,_.DesignerSchemaService,m.DesignerEntityDataSourceService])],Xt);function ql(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-label",13),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.translate("EmptyDataSourceHint"))}}function Ul(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-icon-radio-button",14),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("label",t.translate("TileSizeFieldLabel")),e.\u0275\u0275property("items",t.tileSizeOptions)("control",t.getControl("tileSize"))}}function Wl(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-input",15),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("control",t.getControl("tag"))("label",t.translate("TagLabel"))("tooltip",t.translate("TagHint"))("placeholder",t.translate("TagPlaceholder"))}}function Ql(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-combobox",16),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("label",t.translate("FileEntitySchemaLabel")),e.\u0275\u0275property("control",t.fileEntitySchemaControl)("items",t.fileEntitySchemas)("useStaticFiltering",!0)("labelPosition","above")("readonly",t.isSourceReadonly)}}let Yt=class extends L{get viewType(){return this._viewType}get listViewTypeOptions(){return this._listViewTypeOptions}get fileEntitySchemaControl(){return this._fileEntitySchemaControl}get fileGroupFormControl(){return this._fileGroupControl}get masterRecordControl(){return this._masterRecordControl}set fileGroup(r){this._fileGroup=r}get fileGroup(){return this._fileGroup}get fileGroupItems(){return this._fileGroupItems}get hasDataSource(){return this._hasDataSource}get extraDataProviderConfig(){return this._extraDataProviderConfig}get fileEntitySchemas(){return this._fileEntitySchemas}get entitySchemas(){return this._entitySchemas}get isSourceReadonly(){return this._isSourceReadonly}constructor(r,t,n,a,i){super(r),this.injector=r,this._designerSchemaService=t,this._designerFileEntityService=n,this._designerEntityService=a,this._crtControlStateAdapter=i,this.translatePrefix="InterfaceDesigner.PropertiesPages.FileListPropertiesPage",this.bindingAttributePath="masterRecordColumnValue",this._defaultFileEntitySchemaName="SysFile",this._defaultRecordColumnName="RecordId",this._fileGroupItems=[{value:w.FileGroupEnum.Attachments,displayValue:this.translate("FileGroups.Attachments")}],this._listViewTypeOptions=[{value:s.FileListViewTypeEnum.List,caption:this.translate("ViewTypeOption.List")},{value:s.FileListViewTypeEnum.Gallery,caption:this.translate("ViewTypeOption.Gallery")}],this.tileSizeOptions=[{icon:"button-size-s-icon",value:S.SizeEnum.Small,caption:this.translate("Sizes.Small")},{icon:"button-size-m-icon",value:S.SizeEnum.Medium,caption:this.translate("Sizes.Medium")},{icon:"button-size-l-icon",value:S.SizeEnum.Large,caption:this.translate("Sizes.Large")},{icon:"button-size-xl-icon",value:S.SizeEnum.ExtraLarge,caption:this.translate("Sizes.ExtraLarge")}],this._fileEntitySchemas=[],this._entitySchemas=[],this._primaryDataSourceName="",this._primaryDataSourceSchemaName="",this._extraDataProviderConfig={itemsCustomFilterFunction:this.filterStructureExplorerItems.bind(this)},this._isSourceReadonly=!1,this._designerEntityDataSourceService=r.get(m.DesignerEntityDataSourceService),this._fileListStateHandler=r.get(m.DesignerFileListStateHandler)}_getPrimaryDataSource(r){if(!r||r.length===0)return null;const t=this._designerSchemaService.getPrimaryDataSourceName(),n=r.find(i=>i.dataSourceName===t);this._primaryDataSourceName=t;const a=n;return this._primaryDataSourceSchemaName=a?.initialConfig?.entitySchemaName,n}_initMasterRecordControlValue(r){if(!this.hasDataSource)return;const t=r??this.config.itemConfig.masterRecordColumnValue;this.masterRecordControl.setValue({attributeName:"masterRecordColumnValue",value:t,caption:this.translate("AttributeToAttachFiles"),dataValueType:l.DataValueType.Guid}),this._masterRecordChanged$=this.masterRecordControl.valueChanges.pipe((0,c.takeUntil)(this.destroyed$)).subscribe(n=>this.getControl("masterRecordColumnValue").setValue(n.value)),this.changeDetector.detectChanges()}_initUnexpectedFileSchema(){this.fileEntitySchemaControl.setValue({value:this._fileEntitySchemaName,displayValue:this._fileEntitySchemaName}),this._recordColumnName=this._viewItemConfig.recordColumnName,this._recordEntitySchemaName=null,this._initMasterRecordControlValue()}emitChanges(r){const t=r.find(i=>i.path==="itemConfig.fileGroup");t&&t.value&&(t.value=[t.value]);const n=r.find(i=>i.path==="itemConfig.tag");n&&!n.value&&(n.value=void 0);const a=r.find(i=>i.path==="itemConfig.viewType");if(a){const i=a.value;this._viewType=i}super.emitChanges(r)}beforeSetControlValue(r,t,n){switch(t){case"tag":return r||null;case"viewType":return r||s.FileListViewTypeEnum.List;case"tileSize":return r||S.SizeEnum.Medium}return super.beforeSetControlValue(r,t,n)}getPropertiesConfig(){return{...super.getPropertiesConfig(),tag:{path:"itemConfig.tag",dataValueType:l.DataValueType.Text,applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override},fileGroups:{path:"itemConfig.fileGroups",dataValueType:l.DataValueType.COLLECTION,applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override},masterRecordColumnValue:{path:"itemConfig.masterRecordColumnValue",dataValueType:l.DataValueType.Text},recordColumnName:{path:"itemConfig.recordColumnName",dataValueType:l.DataValueType.Text},viewType:{path:"itemConfig.viewType",dataValueType:l.DataValueType.CUSTOM_OBJECT,options:{items:this.listViewTypeOptions}},tileSize:{path:"itemConfig.tileSize",dataValueType:l.DataValueType.Text}}}setFormValue(r,t){super.setFormValue(r,t),this.fileGroupFormControl.setValue(this.fileGroup,{emitEvent:!1})}filterStructureExplorerItems(r){return this._fileEntitySchemaName===this._defaultFileEntitySchemaName||this._recordColumnName===this._defaultRecordColumnName||!this._recordEntitySchemaName?[l.DataValueType.Lookup,l.DataValueType.Guid].includes(r.data?.item.dataValueType)&&r.data?.item?.referenceSchemaName!==this._fileEntitySchemaName:r.data?.item?.referenceSchemaName===this._recordEntitySchemaName||r.metaPath===`${this._primaryDataSourceName}.Id`&&this._primaryDataSourceSchemaName===this._recordEntitySchemaName}loadData(r){this._masterRecordChanged$?.unsubscribe(),this._viewItemConfig=r.itemConfig,this._viewType=this._viewItemConfig.viewType||s.FileListViewTypeEnum.List;const t=this._viewItemConfig.fileGroups&&this._viewItemConfig.fileGroups[0]||w.FileGroupEnum.Attachments;this.fileGroup=this.fileGroupItems.find(i=>i.value===t);const n=this._viewItemConfig.items?.toString(),a=n?.startsWith("$")?n.slice(1):n;return this._fileDataSourceName=this._designerSchemaService.getMappedDataSourceAttributePath(a),this._designerEntityDataSourceService.getDataSources$().pipe((0,d.switchMap)(i=>{const u=i.find(h=>h.dataSourceName===this._fileDataSourceName);return this._hasDataSource=!!this._getPrimaryDataSource(i),u?u.getSchema():(0,d.of)(null)}),(0,d.switchMap)(i=>(this._fileEntitySchemaName=i?.dataSourceConfig?.config?.entitySchemaName||this._defaultFileEntitySchemaName,this._designerFileEntityService.getFileEntitySchemaInfos())),(0,d.switchMap)(i=>(this._fileEntitySchemas=i,this._designerEntityService.getAvailableReferenceSchemas())),(0,d.switchMap)(i=>{this._entitySchemas=i.map(h=>({value:h.name,displayValue:h.caption}));let u=this.fileEntitySchemas.find(h=>h.value===this._fileEntitySchemaName);if(!u){this._isSourceReadonly=!0;const h=this.entitySchemas.find(b=>b.value===this._fileEntitySchemaName);if(!h)return this._initUnexpectedFileSchema(),super.loadData(r);u={...h,recordColumnName:this._viewItemConfig.recordColumnName},this.fileEntitySchemas.push(u)}return this.fileEntitySchemaControl.setValue(u||null),this._recordColumnName=u.recordColumnName||this._defaultRecordColumnName,this._viewItemConfig.recordColumnName=this._recordColumnName,this._recordEntitySchemaName=u.recordSchemaName||null,this._initMasterRecordControlValue(),super.loadData(r)}))}ngOnInit(){super.ngOnInit(),this._fileGroupControl=new p.FormControl(null,[p.Validators.required]),this._masterRecordControl=new p.FormControl,this._fileEntitySchemaControl=new p.FormControl(null,[this._crtControlStateAdapter.transform({instance:new w.RequiredValidator(this.injector)})]),this._fileGroupControl.valueChanges.subscribe(r=>{const t=[];r&&t.push(r.value),this.getControl("fileGroups").setValue(t)}),this._fileEntitySchemaControl.valueChanges.subscribe(r=>{if(!r||!r.value){this._fileEntitySchemaName=null,this._recordColumnName=null,this._recordEntitySchemaName=null,this.changeDetector.detectChanges();return}if(r.value!==this._fileEntitySchemaName){const t=r.recordSchemaName,n=this._primaryDataSourceSchemaName===t?"$Id":null;this.masterRecordControl.setValue({...this.masterRecordControl.value,value:n}),this._fileEntitySchemaName=r.value,this._recordColumnName=r.recordColumnName,this.getControl("recordColumnName").setValue(this._recordColumnName),this._recordEntitySchemaName=t,this._viewItemConfig.columns=null,this._fileListStateHandler.handleEntitySelect(this._viewItemConfig,this._fileEntitySchemaName,this._fileDataSourceName).subscribe(()=>this.changeDetector.detectChanges())}})}};Yt.\u0275fac=function(r){return new(r||Yt)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(m.DesignerFileEntityService),e.\u0275\u0275directiveInject(m.DesignerEntityService),e.\u0275\u0275directiveInject(w.CrtControlStateAdapter))},Yt.\u0275cmp=e.\u0275\u0275defineComponent({type:Yt,selectors:[["crt-file-list-properties-panel"]],features:[e.\u0275\u0275ProvidersFeature([m.DesignerFileListStateHandler,m.DesignerFileEntityService,g.FileApiService]),e.\u0275\u0275InheritDefinitionFeature],decls:14,vars:17,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],["class","control",4,"ngIf"],["ngDefaultControl","",3,"formControl","extraStructureExplorerProviderConfig"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],["direction","column","data-item-marker","viewType",1,"control",3,"items","control","label"],["class","control size-control","data-item-marker","tileSize",3,"items","control","label",4,"ngIf"],[3,"formGroup"],[1,"crt-control-form-field-wrapper"],["labelPosition","above",3,"control","label","tooltip","placeholder",4,"ngIf"],["class","control",3,"control","label","items","useStaticFiltering","labelPosition","readonly",4,"ngIf"],[1,"control"],["data-item-marker","tileSize",1,"control","size-control",3,"items","control","label"],["labelPosition","above",3,"control","label","tooltip","placeholder"],[1,"control",3,"control","label","items","useStaticFiltering","labelPosition","readonly"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3),e.\u0275\u0275template(4,ql,2,1,"crt-label",4),e.\u0275\u0275element(5,"crt-attribute-mapping",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"crt-expansion-panel",6),e.\u0275\u0275element(7,"crt-icon-radio-button",7),e.\u0275\u0275template(8,Ul,1,3,"crt-icon-radio-button",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"crt-properties-panel-visibility-settings",9),e.\u0275\u0275elementStart(10,"crt-properties-panel-advanced-settings",9)(11,"div",10),e.\u0275\u0275template(12,Wl,1,4,"crt-input",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,Ql,1,6,"crt-combobox",12),e.\u0275\u0275elementEnd()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.hasDataSource),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControl",t.masterRecordControl)("extraStructureExplorerProviderConfig",t.extraDataProviderConfig),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("AppearanceGroup"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("ViewTypeLabel")),e.\u0275\u0275property("items",t.getLookupItems("viewType"))("control",t.getControl("viewType")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.viewType==="gallery"),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.hasDataSource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasDataSource))},dependencies:[f.NgIf,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtInputComponent,s.CrtLabelComponent,s.CrtIconRadioButtonComponent,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,x.CdkScrollable,D,Z,F,A],styles:[`crt-file-list-properties-panel{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-file-list-properties-panel form{width:100%}crt-file-list-properties-panel crt-expansion-panel{height:auto;overflow:inherit}crt-file-list-properties-panel .properties-panel-wrap{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-file-list-properties-panel.embedded-properties-panel{height:auto}crt-file-list-properties-panel .properties-form .form-field-wrapper{width:100%;margin-top:12px}crt-file-list-properties-panel .properties-form .form-field-wrapper .structure-explorer-input{width:80%}crt-file-list-properties-panel .properties-form .form-field-wrapper .structure-explorer-icon{float:right;width:16px;height:16px;padding-right:2px}crt-file-list-properties-panel .properties-form .crt-control-form-field-wrapper{margin-top:12px;padding-bottom:1.25em}crt-file-list-properties-panel .size-control .crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .crt-icon-radio-item.icon-radio-item .radio-icon-wrap .radio-icon.mat-icon{width:32px;height:32px;padding:0}crt-file-list-properties-panel .size-control .crt-icon-radio-button svg text{direction:initial}crt-file-list-properties-panel .properties-form .crt-control-form-field-wrapper{margin-top:0}
`],encapsulation:2,changeDetection:0}),Yt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.FileListPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,_.DesignerSchemaService,m.DesignerFileEntityService,m.DesignerEntityService,w.CrtControlStateAdapter])],Yt);function Hl(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getBindToDataSourceErrorMessage())}}let $t=class extends J{constructor(r,t,n,a,i,u,h,b){super(r,t,n,a,i,u,h,b),this.translatePrefix="InterfaceDesigner.PropertiesPages.FilePropertiesPage",this._crtControlStateAdapter=this.injector.get(w.CrtControlStateAdapter)}set config(r){super.config=r,this.getControl("maxSize").setValidators([this._crtControlStateAdapter.transform({instance:new w.MinValidator(this.injector),params:{min:1}})]),this.getControl("maxSize").updateValueAndValidity()}getPropertiesConfig(){return{...super.getPropertiesConfig(),accept:{path:"itemConfig.accept",dataValueType:l.DataValueType.Text},maxSize:{path:"itemConfig.maxSize",dataValueType:l.DataValueType.Integer},dataSource:{path:"itemConfig.dataSource",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}},titleOnPage:{path:"itemConfig.label",dataValueType:l.DataValueType.LOCALIZABLE_STRING,isTitle:!0},readonly:{path:"itemConfig.readonly",dataValueType:l.DataValueType.Boolean},labelPosition:{path:"itemConfig.labelPosition",dataValueType:l.DataValueType.Lookup,options:{items:this.getLabelPositionItems()},controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]}},placeholderValue:{path:"itemConfig.placeholder",dataValueType:l.DataValueType.LOCALIZABLE_STRING}}}};$t.\u0275fac=function(r){return new(r||$t)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(z.StructureExplorerService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(g.LczToStringPipe),e.\u0275\u0275directiveInject(m.DesignerDataSourceManager),e.\u0275\u0275directiveInject(_.AttributeConfigProvider),e.\u0275\u0275directiveInject(I.MatIconRegistry),e.\u0275\u0275directiveInject(te.DomSanitizer))},$t.\u0275cmp=e.\u0275\u0275defineComponent({type:$t,selectors:[["crt-file-properties-panel"]],features:[e.\u0275\u0275ProvidersFeature([]),e.\u0275\u0275InheritDefinitionFeature],decls:31,vars:33,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"crt-control-form-field-wrapper"],[3,"control","labelPosition","label"],[3,"formGroup"],[3,"items","useStaticFiltering","control","labelPosition","label"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","label"],["titleOnPage",""],["placeholder",""],["labelPosition","above","multiline","true",3,"control","label","tooltip"],["labelPosition","above",3,"control","label","tooltip"],["floatLabel","always",1,"form-field-wrapper"],["matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl","errorStateMatcher"],["svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[4,"ngIf"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2)(3,"crt-expansion-panel",3)(4,"div",4),e.\u0275\u0275element(5,"crt-checkbox",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(6,"crt-properties-panel-visibility-settings",6),e.\u0275\u0275elementStart(7,"crt-expansion-panel",3)(8,"div",4),e.\u0275\u0275element(9,"crt-combobox",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"mat-form-field",8)(11,"mat-label"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(13,"ts-localizable-text-input",9,10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"mat-form-field",8)(16,"mat-label"),e.\u0275\u0275text(17),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(18,"ts-localizable-text-input",9,11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"crt-properties-panel-advanced-settings",6)(21,"div",4),e.\u0275\u0275element(22,"crt-input",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",4),e.\u0275\u0275element(24,"crt-number-input",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"mat-form-field",14)(26,"mat-label"),e.\u0275\u0275text(27),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"input",15),e.\u0275\u0275elementStart(29,"mat-icon",16),e.\u0275\u0275listener("click",function(){return t.onSelectDataSourceClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(30,Hl,2,1,"mat-error",17),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.getTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("Editability")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("readonly"))("labelPosition","right")("label",t.translate("EditabilityControls.Readonly")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.getLookupItems("labelPosition"))("useStaticFiltering",!0)("control",t.getControl("labelPosition"))("labelPosition","above")("label",t.translate("LabelPosition")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("TitleOnPage")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","titleOnPage")("label",t.translate("TitleOnPage")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",t.translate("Placeholder")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","placeholderValue")("label",t.translate("Placeholder")),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("accept"))("label",t.translate("AllowedExtensions"))("tooltip",t.translate("AllowedExtensionsEmptyMessage")),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("maxSize"))("label",t.translate("MaxSize"))("tooltip",t.translate("MaxSizeEmptyMessage")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.translate("DataSource")),e.\u0275\u0275advance(1),e.\u0275\u0275property("readonly",!0)("formControl",t.bindToDataSource)("errorStateMatcher",t.anyErrorStateMatcher),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.bindToDataSource.invalid))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtInputComponent,s.CrtNumberInputComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,p.FormControlName,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:0}"],changeDetection:0}),$t=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.FileInputPropertiesPanelComponent",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,z.StructureExplorerService,_.DesignerSchemaService,g.LczToStringPipe,m.DesignerDataSourceManager,_.AttributeConfigProvider,I.MatIconRegistry,te.DomSanitizer])],$t);let er=class extends oo{_getDefaultWrap(r){switch(r||(0,y.get)(this.itemMetadata,"itemConfig.direction")){case"column":case"column-reverse":return"nowrap";case"row":case"row-reverse":return"wrap"}}constructor(r){super(r),this.injector=r,this._directionOptions=[{icon:"flex-row",caption:this.translate("Flex.Row"),value:"row"},{icon:"flex-column",caption:this.translate("Flex.Column"),value:"column"}],this._justifyContentOptions=[{value:"start",displayValue:this.translate("Flex.JustifyContent.Start")},{value:"center",displayValue:this.translate("Flex.JustifyContent.Center")},{value:"end",displayValue:this.translate("Flex.JustifyContent.End")},{value:"space-between",displayValue:this.translate("Flex.JustifyContent.SpaceBetween")}]}get directionOptions(){return this._directionOptions}get justifyContentOptions(){return this._justifyContentOptions}getPropertiesConfig(){return{...super.getPropertiesConfig(),direction:{path:"itemConfig.direction",dataValueType:l.DataValueType.CUSTOM_OBJECT,options:{items:this.directionOptions}},justifyContent:{path:"itemConfig.justifyContent",dataValueType:l.DataValueType.Lookup,options:{items:this.justifyContentOptions}},gap:{path:"itemConfig.gap",dataValueType:l.DataValueType.Lookup,options:this.sizeLookupOptions},wrap:{path:"itemConfig.wrap",dataValueType:l.DataValueType.Boolean}}}beforeSetControlValue(r,t,n){return t==="justifyContent"&&!r?this._justifyContentOptions.find(a=>a.value===S.FLEX_DEFAULT_VALUES.justifyContent):t==="gap"?this.getControlSizeValue({config:n,defaultSize:S.FLEX_DEFAULT_VALUES.gap}):t==="direction"&&!r?S.FLEX_DEFAULT_VALUES.direction:t==="wrap"?(r??this._getDefaultWrap())==="wrap":super.beforeSetControlValue(r,t,n)}afterGetControlValue(r,t,n){if(!(t==="gap"&&r===S.FLEX_DEFAULT_VALUES.gap||t==="justifyContent"&&r===S.FLEX_DEFAULT_VALUES.justifyContent||t==="wrap"&&r===this._getDefaultWrap()))return t==="color"&&S.BaseContainerComponent.isBaseColorValue(r)?S.BaseContainerComponent.getBaseColorKey(r):t==="wrap"?r?"wrap":"nowrap":super.afterGetControlValue(r,t,n)}emitChanges(r){const t=r.find(n=>n.path==="itemConfig.direction");if(t){const n=this._getDefaultWrap(t.value);this.getControl("wrap").setValue(n==="wrap",{emitEvent:!1}),r.push({path:"itemConfig.wrap",value:n})}super.emitChanges(r)}};er.\u0275fac=function(r){return new(r||er)(e.\u0275\u0275directiveInject(e.Injector))},er.\u0275cmp=e.\u0275\u0275defineComponent({type:er,selectors:[["crt-flex-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:21,vars:42,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],[3,"title"],[1,"control",3,"items","control","label"],["pickerMode","extended",1,"control",3,"control","label","colors","rowSize"],["labelPosition","above",1,"control",3,"control","label","items"],[3,"control","labelPosition","label"],[1,"padding-group-container"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-properties-panel-group",3),e.\u0275\u0275element(4,"crt-icon-radio-button",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"crt-properties-panel-visibility-settings",1),e.\u0275\u0275elementStart(6,"crt-properties-panel-group",3),e.\u0275\u0275element(7,"crt-properties-panel-color-picker",5)(8,"crt-combobox",6)(9,"crt-combobox",6)(10,"crt-combobox",6)(11,"crt-combobox",6)(12,"crt-checkbox",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"crt-properties-panel-group",3)(14,"div",8),e.\u0275\u0275element(15,"crt-combobox",6)(16,"crt-combobox",6)(17,"crt-combobox",6)(18,"crt-combobox",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275element(20,"crt-properties-panel-container-settings",1),e.\u0275\u0275elementEnd()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("simpleTitle",t.translate("Flex.PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("GeneralGroup")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("Flex.Direction")),e.\u0275\u0275property("items",t.getLookupItems("direction"))("control",t.getControl("direction")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("AppearanceGroup")),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("color"))("label",t.translate("ColorLabel"))("colors",t.colors)("rowSize",8),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("AlignItemsLabel")),e.\u0275\u0275property("control",t.getControl("alignItems"))("items",t.getLookupItems("alignItems")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("Flex.JustifyContentLabel")),e.\u0275\u0275property("control",t.getControl("justifyContent"))("items",t.getLookupItems("justifyContent")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("Flex.Gap")),e.\u0275\u0275property("control",t.getControl("gap"))("items",t.getLookupItems("gap")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("BorderRadiusLabel")),e.\u0275\u0275property("control",t.getControl("borderRadius"))("items",t.getLookupItems("borderRadius")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("Flex.WrapLabel")),e.\u0275\u0275property("control",t.getControl("wrap"))("labelPosition","right"),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("PaddingGroup")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",t.translate("Padding.Top")),e.\u0275\u0275property("control",t.getControl("paddingTop"))("items",t.getLookupItems("paddingTop")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("Padding.Bottom")),e.\u0275\u0275property("control",t.getControl("paddingBottom"))("items",t.getLookupItems("paddingBottom")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("Padding.Left")),e.\u0275\u0275property("control",t.getControl("paddingLeft"))("items",t.getLookupItems("paddingLeft")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("Padding.Right")),e.\u0275\u0275property("control",t.getControl("paddingRight"))("items",t.getLookupItems("paddingRight")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtIconRadioButtonComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,D,ne,F,A,ce,re],styles:[".padding-group-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;column-gap:24px}.padding-group-container[_ngcontent-%COMP%]     .mat-form-field-infix{width:auto}[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),er=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.FlexPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector])],er);let tr=class extends L{constructor(r,t,n,a){super(r),this.injector=r,this._designerSchemaService=t,this._displayValueCreatorFactoryService=n,this._translateService=a,this._notAvailableProperties=["visible"],this.translatePrefix="InterfaceDesigner.PropertiesPages.FolderTreeActionsPropertiesPage",this._viewType="crt.FolderTree",this._displayValueCreator=this._displayValueCreatorFactoryService.get(this._viewType),this._designerFolderTreeItems$=(0,d.forkJoin)(this._designerSchemaService.getViewConfigInfoByProperty("type",this._viewType).map(i=>this._displayValueCreator.getDisplayValue(i.viewConfig).pipe((0,c.map)(u=>({displayValue:(0,g.getFullViewElementCaption)({name:i.viewConfig.name,caption:u,typeCaption:this._getElementTypeCaption(this._viewType)}),value:i.viewConfig.name})))))}_getElementTypeCaption(r){const n=l.InterfaceDesignerItemRegistry.interfaceDesignerItemRegistrationInfos.get(r)?.typeCaption;return n?this._translateService.instant(n):""}_clearNotAvailableProperties(r){this._notAvailableProperties.forEach(t=>{delete r[t]})}getPropertiesConfig(){const r={...super.getPropertiesConfig(),folderTree:{path:"itemConfig.folderTree",dataValueType:l.DataValueType.Lookup,options:{items:[]}}};return this._clearNotAvailableProperties(r),r}loadData(r){return(0,d.forkJoin)([super.loadData(r),this._designerFolderTreeItems$]).pipe((0,c.map)(([t,n])=>(this.setLookupItems("folderTree",n),t)))}};tr.\u0275fac=function(r){return new(r||tr)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(m.DisplayValueCreatorFactoryService),e.\u0275\u0275directiveInject(P.TranslateService))},tr.\u0275cmp=e.\u0275\u0275defineComponent({type:tr,selectors:[["crt-folder-tree-actions-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:8,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],["labelPosition","above",1,"control",3,"control","label","items"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3),e.\u0275\u0275element(4,"crt-combobox",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("simpleTitle",t.translate("HeaderLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("folderTree"))("label",t.translate("FolderTreeLabel"))("items",t.getLookupItems("folderTree")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,D,F],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),tr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.FolderTreeActionsPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,_.DesignerSchemaService,m.DisplayValueCreatorFactoryService,P.TranslateService])],tr);function Jl(o,r){o&1&&e.\u0275\u0275element(0,"ts-mask",9)}let Je=class extends L{constructor(){super(...arguments),this._designerEntityService=(0,e.inject)(m.DesignerEntityService),this._featureValues=(0,e.inject)(g.FEATURE_VALUES,{optional:!0}),this._notAvailableProperties=["visible"],this._disableUseOldFolderTreeStructureFeatureState=!1,this._referenceSchemasLookupItems=[],this.translatePrefix="InterfaceDesigner.PropertiesPages.FolderTreePropertiesPage"}get sourceSchemaNameReadonlyState(){return this._disableUseOldFolderTreeStructureFeatureState?!0:this.getLookupItems("sourceSchemaName").length<=1}_getSizeLookupOptions(){return eo(this.translate.bind(this))}_clearNotAvailableProperties(r){this._notAvailableProperties.forEach(t=>{delete r[t]})}_emitRootSchemaNameChange(r){const t=["itemConfig.sourceSchemaName"],n=this._getRootSchemaNameChange(r);r=r.filter(a=>!t.includes(a.path)),super.emitChanges(r),this._resetSourceSchemaNameIfNeed(n.value)}_resetSourceSchemaNameIfNeed(r){if(this._disableUseOldFolderTreeStructureFeatureState)return;this._setSourceSchemaNameLookupItems(r);const t=this.getLookupItems("sourceSchemaName").sort((n,a)=>a.value===s.DEFAULT_FOLDER_TREE_SOURCE_SCHEMA_NAME?-1:0).find(n=>n.value===(0,s.getOldFolderEntitySchemaName)(r)||n.value===s.DEFAULT_FOLDER_TREE_SOURCE_SCHEMA_NAME);this.getControl("sourceSchemaName").setValue(t,{emitEvent:!0})}_initializeData(r){return this._disableUseOldFolderTreeStructureFeatureState=this._featureValues.DisableUseOldFolderTreeStructure,(0,d.forkJoin)([this._designerEntityService.getReferenceSchemasLookupItems()]).pipe((0,c.map)(([t])=>{this._referenceSchemasLookupItems=t,this.setLookupItems("rootSchemaName",t);const n=(0,y.get)(r.itemConfig,"rootSchemaName");this._setSourceSchemaNameLookupItems(n)}))}_setSourceSchemaNameLookupItems(r){if((0,y.isEmpty)(r)){const n=this._referenceSchemasLookupItems.filter(a=>a.value===s.DEFAULT_FOLDER_TREE_SOURCE_SCHEMA_NAME);this.setLookupItems("sourceSchemaName",n);return}const t=this._referenceSchemasLookupItems.filter(n=>n.value===s.DEFAULT_FOLDER_TREE_SOURCE_SCHEMA_NAME||!this._disableUseOldFolderTreeStructureFeatureState&&n.value===`${r}Folder`);this.setLookupItems("sourceSchemaName",t)}_isHasRootSchemaNameChange(r){return!!this._getRootSchemaNameChange(r)}_getRootSchemaNameChange(r){return r.find(t=>t.path==="itemConfig.rootSchemaName")}getPropertiesConfig(){const r={...super.getPropertiesConfig(),rootSchemaName:{path:"itemConfig.rootSchemaName",dataValueType:l.DataValueType.Lookup,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override,options:{items:[]}},sourceSchemaName:{path:"itemConfig.sourceSchemaName",dataValueType:l.DataValueType.Lookup,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}},borderRadius:{path:"itemConfig.borderRadius",dataValueType:l.DataValueType.Lookup,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override,options:this._getSizeLookupOptions()}};return this._clearNotAvailableProperties(r),r}emitChanges(r){if(this._isHasRootSchemaNameChange(r)){this._emitRootSchemaNameChange(r);return}super.emitChanges(r)}beforeSetControlValue(r,t,n){return t==="borderRadius"&&(!(0,S.isSizeEnum)(r)||!r)?this._getSizeLookupOptions().items.find(i=>i.value===S.SizeEnum.None):super.beforeSetControlValue(r,t,n)}loadData(r){return(0,d.forkJoin)([super.loadData(r),this._initializeData(r)]).pipe((0,c.map)(([t])=>t))}};Je.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Je)))(t||Je)}}(),Je.\u0275cmp=e.\u0275\u0275defineComponent({type:Je,selectors:[["crt-folder-tree-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:19,consts:[["cdkScrollable","",1,"properties-panel-wrap"],["class","component-mask",4,"ngIf"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],["labelPosition","above",1,"control",3,"label","control","items","useStaticFiltering"],[3,"title"],["labelPosition","above",1,"control",3,"control","label","items"],["labelPosition","above",1,"control",3,"label","control","items","useStaticFiltering","readonly"],[1,"component-mask"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Jl,1,0,"ts-mask",1),e.\u0275\u0275elementStart(2,"form",2),e.\u0275\u0275element(3,"crt-properties-panel-header",3),e.\u0275\u0275elementStart(4,"crt-expansion-panel",4),e.\u0275\u0275element(5,"crt-combobox",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"crt-properties-panel-group",6),e.\u0275\u0275element(7,"crt-combobox",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"crt-properties-panel-advanced-settings",2),e.\u0275\u0275element(9,"crt-combobox",8),e.\u0275\u0275elementEnd()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.dataLoaded),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("simpleTitle",t.translate("HeaderLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralLabel")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("RootSchemaLabel")),e.\u0275\u0275property("control",t.getControl("rootSchemaName"))("items",t.getLookupItems("rootSchemaName"))("useStaticFiltering",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("AppearanceGroup")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("BorderRadiusLabel")),e.\u0275\u0275property("control",t.getControl("borderRadius"))("items",t.getLookupItems("borderRadius")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("SourceSchemaLabel")),e.\u0275\u0275property("control",t.getControl("sourceSchemaName"))("items",t.getLookupItems("sourceSchemaName"))("useStaticFiltering",!0)("readonly",t.sourceSchemaNameReadonlyState))},dependencies:[f.NgIf,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,E.MaskComponent,D,F,ce],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}.component-mask[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}"],changeDetection:0}),Je=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.FolderTreePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Je);function Zl(o,r){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"crt-combobox",4)(2,"crt-combobox",4)(3,"crt-combobox",4),e.\u0275\u0275elementContainerEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("CaptionColumnField")),e.\u0275\u0275property("items",t.getLookupItems("columns.caption"))("useStaticFiltering",!0)("control",t.getControl("columns.caption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("DescriptionColumnField")),e.\u0275\u0275property("items",t.getLookupItems("columns.description"))("useStaticFiltering",!0)("control",t.getControl("columns.description")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("ImageColumnField")),e.\u0275\u0275property("items",t.getLookupItems("columns.image"))("useStaticFiltering",!0)("control",t.getControl("columns.image"))}}function Kl(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",3),e.\u0275\u0275element(1,"crt-checkbox",7),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("title",t.translate("AdditionalCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("SelectableConfigField")),e.\u0275\u0275property("control",t.getControl("additional.selectable"))}}let rr=class extends L{get _currentItemConfig(){return this.getConfig()?.itemConfig||this.config.itemConfig}constructor(r){super(r),this._itemConfigColumnsPath="itemConfig.columns",this._itemConfigAdditionalPath="itemConfig.additional",this._currentEntitySchemaColumns=[],this._referenceSchemaTextColumns=[],this._referenceSchemaImageColumns=[],this.translatePrefix="InterfaceDesigner.PropertiesPages.GalleryPropertiesPanel",this._designerEntityService=r.get(m.DesignerEntityService),this._designerSchemaService=r.get(_.DesignerSchemaService),this._designerEntityDataSourceService=r.get(m.DesignerEntityDataSourceService),this._designerCommandFactoryService=r.get(_.DesignerCommandFactoryService),this._designerDataSchemaRepository=r.get(m.DesignerDataSchemaRepository)}_getViewModelItemsAttributeName(){const r=this._currentItemConfig?.items?.toString();return r?.startsWith("$")?r.slice(1):r}_setLookupsItems(){return this._setLookupItemsForReferenceSchema()}_setLookupItemsForReferenceSchema(){return this._designerEntityService.getAvailableReferenceSchemas().pipe((0,c.map)(r=>this.setLookupItems("referenceSchema",this._castMetaItemsToLookupValues(r))))}_resetDataSource(){if(this._resetControlValues(),this._resetSchemaColumns(),!this._entitySchemaName)return;const r=[...this._updateDataSourceConfigAttributes([],!1),this._updateViewModelConfigAttributes([],!1),this._updateViewItem(this._createEmptyMetaItemPropertyChangesForGalleryReset())];this._executeCommands(r,()=>{delete this._currentItemConfig.items,this._entitySchemaName=void 0})}_setupDataSourceForEntitySchema(r){this._setupDataSource(this._currentItemConfig,r,this.dataSourceName),this._setColumnsLookupsItemsByEntitySchemaModel(r).subscribe()}_setupDataSource(r,t,n){n||(n=this.itemName||`Gallery${(0,l.generateGuid)()}`,n+=w.DATA_SOURCE_PREFIX),this._createOrChangeDataSource(n,t),this._createViewModelAttribute(r,n),this._setupViewItemConfig(),this._setupDataSourceInfo()}_createOrChangeDataSource(r,t){if(this._designerSchemaService.isDataSourceExists(r)){const n=this._designerSchemaService.getDataSourceConfigByName(r);n.entitySchemaName=t,n.attributes={},this._designerSchemaService.bindDataSource(r,n)}else this._designerSchemaService.createDataSource(r,{type:"crt.EntityDataSource",scope:l.DataSourceScope.ViewElement,config:{entitySchemaName:t}})}_createViewModelAttribute(r,t){if(r.items)return;const n=this.itemName||this._designerSchemaService.generateUniqueAttributeNameByType("Gallery");r.items=`$${n}`;const a=this._createEmptyViewModelAttributeConfig(t);this._designerSchemaService.isViewModelAttributeExists(n)||this._designerSchemaService.createViewModelAttribute(n,a)}_setupOptionsChanges(r){const t=[...this._getSetupColumnsChangesCommands(r),...this._getSetupAdditionalChangesCommands(r)];this._executeCommands(t)}_getSetupColumnsChangesCommands(r){const t=this._getColumnValuesChanges(r);return[...this._updateDataSourceConfigAttributes(t),this._updateViewModelConfigAttributes(t),this._updateViewItemAttributes(t)]}_getColumnValuesChanges(r){const t=r.filter(u=>u.path.startsWith(this._itemConfigColumnsPath)),n=t.map(u=>this._trimItemConfigColumnsPath(u.path));return this._getNotChangedColumnValues(n).concat(t.map(u=>({name:this._trimItemConfigColumnsPath(u.path),value:u.value}))).filter(u=>!!u.value)}_getNotChangedColumnValues(r){const t=this.propertiesForm.controls.columns?.controls;return this._getControlsWithValue(t,r)}_getControlsWithValue(r,t){const n=[];for(const a in r){if(t.indexOf(a)>-1)continue;const i=r[a];i.value&&n.push({name:a,value:i.value.value})}return n}_updateDataSourceConfigAttributes(r,t=!0){if(t&&r.length===0)return[];const n=this._getUniqueValuesFromColumnValues(r),a={dataSourceName:this.dataSourceName,dataSourceAttributePaths:n};return[this._designerCommandFactoryService.create("crt.UpdateEntityDataSourceAttributes",a)]}_updateViewModelConfigAttributes(r,t=!0){const a=this._currentItemConfig.items.toString().split("$").pop();t&&this._addSystemColumnValues(r);const i=this._getUniqueValuesFromColumnValues(r),u={attribute:a,dataSourceName:this.dataSourceName,value:i,collectionAttributePrefix:`${this.dataSourceName}_`,strategy:R.ApplyChangedPropertyStrategy.Override};return this._designerCommandFactoryService.create("crt.BindViewModelAttributeCommand",u)}_addSystemColumnValues(r){r.push({name:"id",value:"Id"})}_updateViewItemAttributes(r){const t=this._createMetaItemPropertyChangesForUpdateViewItem(r,`${this.dataSourceName}_`);return this._updateViewItem(t)}_createMetaItemPropertyChangesForUpdateViewItem(r,t){return[{path:"itemConfig.itemConfig.templateValuesMapping",value:this._mapColumnValuesToSingleObject(r,t),applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override}]}_getSetupAdditionalChangesCommands(r){const t=r.filter(n=>n.path.startsWith(this._itemConfigAdditionalPath)).map(n=>(n.path=this._clearAdditionalPath(n.path),n));return t.length===0?[]:[this._updateViewItem(t)]}_updateViewItem(r){const t={name:this.itemName,changes:this._setChangedPropertyStrategyToChanges(r,R.ApplyChangedPropertyStrategy.Override)};return this._designerCommandFactoryService.create("crt.ChangeViewItemCommand",t)}_setChangedPropertyStrategyToChanges(r,t){return r.map(n=>(n.applyPropertyStrategy=t,n))}_mapColumnValuesToSingleObject(r,t){const n={};return r.forEach(a=>{n[a.name]=t+a.value}),n}_getPropertiesValuesByDataSource(){return this._designerEntityDataSourceService.getDataSources$().pipe((0,c.tap)(r=>{this.currentDataSource=r.find(t=>t.dataSourceName===this.dataSourceName)}),(0,c.map)(r=>r.find(t=>t.dataSourceName===this.dataSourceName)),(0,c.mergeMap)(r=>r?r.getSchema():(0,d.of)(null)),(0,c.mergeMap)(r=>this._setColumnsLookupsItemsByEntitySchemaModel(r?.name)),(0,c.map)(r=>this._createGalleryViewItemConfig(r?.name)))}_setColumnsLookupsItemsByEntitySchemaModel(r){return this._resetControlValues(),this._resetSchemaColumns(),this._designerDataSchemaRepository.getSchema(r).pipe((0,c.take)(1),(0,c.tap)(t=>this._entitySchemaName=t?.name),(0,c.tap)(t=>this._setColumnsLookupsItems(t)),(0,c.tap)(()=>this._setLookupsItemsForControls()))}_resetControlValues(){this.getControl("columns.caption").reset(null,{emitEvent:!1}),this.getControl("columns.description").reset(null,{emitEvent:!1}),this.getControl("columns.image").reset(null,{emitEvent:!1}),this.getControl("additional.selectable").reset(!1,{emitEvent:!1})}_resetSchemaColumns(){this._currentEntitySchemaColumns=[],this._referenceSchemaTextColumns=[],this._referenceSchemaImageColumns=[]}_setColumnsLookupsItems(r){if(!r)return;const t=this._castEntitySchemaColumnToLookupValue(r.attributes);this._currentEntitySchemaColumns=this._sortLookupValues(t),this._referenceSchemaTextColumns=this._getReferenceSchemaTextColumns(),this._referenceSchemaImageColumns=this._getReferenceSchemaImageColumns()}_sortLookupValues(r){return r.sort((t,n)=>t.displayValue?.trim().replace(/"/g,"")>n.displayValue?.trim().replace(/"/g,"")&&1||-1)}_getReferenceSchemaTextColumns(){const r=[l.DataValueType.Text,l.DataValueType.SHORT_TEXT,l.DataValueType.MEDIUM_TEXT,l.DataValueType.LONG_TEXT,l.DataValueType.PHONE_TEXT,l.DataValueType.WEB_TEXT,l.DataValueType.EMAIL_TEXT,l.DataValueType.RICH_TEXT,l.DataValueType.MAXSIZE_TEXT];return this._currentEntitySchemaColumns.filter(t=>r.includes(t.type))}_getReferenceSchemaImageColumns(){const r=[l.DataValueType.Lookup,l.DataValueType.IMAGELOOKUP],t="SysImage";return this._currentEntitySchemaColumns.filter(n=>r.includes(n.type)&&n.referenceSchema===t)}_setLookupsItemsForControls(){this.setLookupItems("columns.caption",this._referenceSchemaTextColumns),this.setLookupItems("columns.description",this._referenceSchemaTextColumns),this.setLookupItems("columns.image",this._referenceSchemaImageColumns)}_executeCommands(r,t=()=>{}){(0,d.concat)(...r).pipe((0,c.switchMap)(n=>n.execute()),(0,c.last)(),(0,c.mapTo)(void 0),(0,c.tap)(()=>t()),(0,c.tap)(()=>{this._setupViewItemConfig(),this._setupDataSourceInfo()})).subscribe()}_setupViewItemConfig(){const t={...this._designerSchemaService.getViewConfigInfoByName(this.itemName).viewConfig,items:this._currentItemConfig.items};delete t.referenceSchema,this._designerSchemaService.update({itemConfig:t})}_setupDataSourceInfo(){this._galleryItemsAttributeName=this._getViewModelItemsAttributeName(),this.dataSourceName=this._designerSchemaService.getMappedDataSourceAttributePath(this._galleryItemsAttributeName)}_emitNotOptionsChanges(r){const t=this._getNotOptionsChanges(r);(0,y.isEmpty)(t)||super.emitChanges(t)}_getUniqueValuesFromColumnValues(r){return(0,y.uniq)(r.map(t=>t.value))}_getOptionsChanges(r){return r.filter(t=>t.path.startsWith(this._itemConfigColumnsPath)||t.path.startsWith(this._itemConfigAdditionalPath))}_getNotOptionsChanges(r){return r.filter(t=>t.path!=="itemConfig.referenceSchema"&&!t.path.startsWith(this._itemConfigColumnsPath)&&!t.path.startsWith(this._itemConfigAdditionalPath))}_castEntitySchemaColumnToLookupValue(r){return r.map(t=>({displayValue:t.caption,value:t.name,type:t.dataValueType,referenceSchema:t.referenceSchemaName}))}_castMetaItemsToLookupValues(r){return r.map(t=>({displayValue:t.caption,value:t.name}))}_trimItemConfigColumnsPath(r){return r.split(`${this._itemConfigColumnsPath}.`).pop()}_clearAdditionalPath(r){return"itemConfig."+r.split(`${this._itemConfigAdditionalPath}.`).pop()}_createEmptyMetaItemPropertyChangesForGalleryReset(){return[{path:"itemConfig.itemConfig",value:{}},{path:"itemConfig.items",value:""},{path:"itemConfig.selectable",value:!1}]}_createGalleryViewItemConfig(r){return{referenceSchema:r,columns:{caption:this._findViewConfigValue("itemConfig.templateValuesMapping.caption",!0),description:this._findViewConfigValue("itemConfig.templateValuesMapping.description",!0),image:this._findViewConfigValue("itemConfig.templateValuesMapping.image",!0)},additional:{selectable:this._findViewConfigValue("selectable")}}}_findViewConfigValue(r,t=!1){const n=r.split(".");let a=this._currentItemConfig;for(const i of n){if(!a[i]){a=null;break}a=a[i]}return t&&a&&(a=a?.split(`${this.dataSourceName}_`).pop()),a}_createPropertyConfig(r,t){return{path:r,dataValueType:t,applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override,options:{items:[]}}}_createEmptyViewModelAttributeConfig(r){return{isCollection:!0,modelConfig:{path:r},viewModelConfig:{attributes:{}}}}getPropertiesConfig(){return{...super.getPropertiesConfig(),referenceSchema:this._createPropertyConfig("itemConfig.referenceSchema",l.DataValueType.Lookup),columns:{caption:this._createPropertyConfig(`${this._itemConfigColumnsPath}.caption`,l.DataValueType.Lookup),description:this._createPropertyConfig(`${this._itemConfigColumnsPath}.description`,l.DataValueType.Lookup),image:this._createPropertyConfig(`${this._itemConfigColumnsPath}.image`,l.DataValueType.Lookup)},additional:{selectable:this._createPropertyConfig(`${this._itemConfigAdditionalPath}.selectable`,l.DataValueType.Boolean)}}}_removeBindingInFilterViewItems(){this._designerCommandFactoryService.create("crt.ResetFilterTargetsCommand",{viewAttributeName:this.itemName,collectionAttributeName:this._getViewModelItemsAttributeName()}).pipe((0,c.mergeMap)(r=>r.execute()),(0,c.take)(1)).subscribe()}emitChanges(r){const t=this.getControl("referenceSchema").value?.value;if(!t){this._resetDataSource();return}t&&t!==this._entitySchemaName&&(this._setupDataSourceForEntitySchema(t),this._removeBindingInFilterViewItems());const n=this._getOptionsChanges(r);(0,y.isEmpty)(n)||this._setupOptionsChanges(n),this._emitNotOptionsChanges(r)}loadData(r){return this._setupDataSourceInfo(),this._setLookupsItems().pipe((0,c.switchMap)(()=>this.dataSourceName?this._getPropertiesValuesByDataSource():(this._entitySchemaName=void 0,(0,d.of)(null))),(0,c.switchMap)(t=>super.loadData({...r,itemConfig:{...r.itemConfig,...t}})))}};rr.\u0275fac=function(r){return new(r||rr)(e.\u0275\u0275directiveInject(e.Injector))},rr.\u0275cmp=e.\u0275\u0275defineComponent({type:rr,selectors:[["crt-gallery-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:9,vars:12,consts:[["cdkScrollable","",1,"properties-panel-wrap","gallery-properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],["labelPosition","above",3,"items","useStaticFiltering","control","label"],[4,"ngIf"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles",4,"ngIf"],["labelPosition","right",3,"control","label"]],template:function(r,t){if(r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3),e.\u0275\u0275element(4,"crt-combobox",4),e.\u0275\u0275template(5,Zl,4,12,"ng-container",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,Kl,2,4,"crt-expansion-panel",6),e.\u0275\u0275element(7,"crt-properties-panel-visibility-settings",1)(8,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2){let n,a;e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("DataSourceCaption")),e.\u0275\u0275property("items",t.getLookupItems("referenceSchema"))("useStaticFiltering",!0)("control",t.getControl("referenceSchema")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(n=t.getControl("referenceSchema"))==null?null:n.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(a=t.getControl("referenceSchema"))==null?null:a.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm)}},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),rr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.GalleryPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector])],rr);function Xl(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-combobox",6),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("label",t.translate("AlignItemsLabel")),e.\u0275\u0275property("control",t.getControl("alignItems"))("items",t.getLookupItems("alignItems"))}}let nr=class extends oo{constructor(r,t){super(r),this.injector=r,this._crtControlStateAdapter=t,this._maxCount=12,this.showAlignItemsControl=!1;const n=this.injector.get(g.FEATURE_VALUES,{optional:!0});this.showAlignItemsControl=n?.EnableAlignItemsGridPropertiesPanel===!0}set config(r){super.config=r,this.getControl("columns").setValidators([this._crtControlStateAdapter.transform({instance:new w.RequiredValidator(this.injector)}),this._crtControlStateAdapter.transform({instance:new w.MinValidator(this.injector),params:{min:1}}),this._crtControlStateAdapter.transform({instance:new w.MaxValidator(this.injector),params:{max:this._maxCount}}),this._crtControlStateAdapter.transform({instance:new m.GridColumnsValidator(this.injector),params:{gridName:this.itemName}})]),this.getControl("columns").updateValueAndValidity()}getPropertiesConfig(){return{...super.getPropertiesConfig(),columnGap:{path:"itemConfig.gap.columnGap",dataValueType:l.DataValueType.Lookup,options:this.sizeLookupOptions},rowGap:{path:"itemConfig.gap.rowGap",dataValueType:l.DataValueType.Lookup,options:this.sizeLookupOptions},columns:{path:"itemConfig.columns",dataValueType:l.DataValueType.Integer,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override}}}beforeSetControlValue(r,t,n){return t==="columns"?Array.isArray(r)?r.length:1:t==="rowGap"||t==="columnGap"?this.getControlSizeValue({config:n,alternatePath:"itemConfig.gap"}):super.beforeSetControlValue(r,t,n)}afterGetControlValue(r,t,n){if(t==="columns"){let a;const i=r>this._maxCount?this._maxCount:r,u=(0,y.get)(this.itemMetadata,n.path);if(Array.isArray(u))if(u.length===i)a=u;else if(u.length>i)a=u.splice(0,i);else{let h=u.slice(-1)[0];(!h||!h.includes("minmax"))&&(h=S.GRID_DEFAULT_VALUES.columnsTemplate);const b=i-u.length;a=[...u,...new Array(b).fill(0).map(()=>h)]}else a=new Array(i).fill(0).map(()=>u);return a}return super.afterGetControlValue(r,t,n)}};nr.\u0275fac=function(r){return new(r||nr)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(w.CrtControlStateAdapter))},nr.\u0275cmp=e.\u0275\u0275defineComponent({type:nr,selectors:[["crt-grid-property-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:20,vars:36,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],[3,"title"],["labelPosition","above",1,"control",3,"control","label"],["pickerMode","extended",1,"control",3,"control","label","colors","rowSize"],["labelPosition","above",1,"control",3,"control","label","items"],["class","control","labelPosition","above",3,"control","label","items",4,"ngIf"],[1,"padding-group-container"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-properties-panel-group",3),e.\u0275\u0275element(4,"crt-number-input",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"crt-properties-panel-visibility-settings",1),e.\u0275\u0275elementStart(6,"crt-properties-panel-group",3),e.\u0275\u0275element(7,"crt-properties-panel-color-picker",5)(8,"crt-combobox",6)(9,"crt-combobox",6)(10,"crt-combobox",6),e.\u0275\u0275template(11,Xl,1,3,"crt-combobox",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"crt-properties-panel-group",3)(13,"div",8),e.\u0275\u0275element(14,"crt-combobox",6)(15,"crt-combobox",6)(16,"crt-combobox",6)(17,"crt-combobox",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275element(19,"crt-properties-panel-container-settings",1),e.\u0275\u0275elementEnd()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("simpleTitle",t.translate("Grid.PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("GeneralGroup")),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("columns"))("label",t.translate("Grid.ColumnsLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("AppearanceGroup")),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("color"))("label",t.translate("ColorLabel"))("colors",t.colors)("rowSize",8),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("columnGap"))("label",t.translate("Grid.ColumnGapFieldLabel"))("items",t.getLookupItems("columnGap")),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("rowGap"))("label",t.translate("Grid.RowGapFieldLabel"))("items",t.getLookupItems("rowGap")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("BorderRadiusLabel")),e.\u0275\u0275property("control",t.getControl("borderRadius"))("items",t.getLookupItems("borderRadius")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showAlignItemsControl),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("PaddingGroup")),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("paddingTop"))("label",t.translate("Padding.Top"))("items",t.getLookupItems("paddingTop")),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("paddingBottom"))("label",t.translate("Padding.Bottom"))("items",t.getLookupItems("paddingBottom")),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("paddingLeft"))("label",t.translate("Padding.Left"))("items",t.getLookupItems("paddingLeft")),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("paddingRight"))("label",t.translate("Padding.Right"))("items",t.getLookupItems("paddingRight")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtComboBoxComponent,s.CrtNumberInputComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,D,ne,F,A,ce,re],styles:[".padding-group-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;column-gap:24px}.padding-group-container[_ngcontent-%COMP%]     .mat-form-field-infix{width:auto}[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),nr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.GridPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,w.CrtControlStateAdapter])],nr);const Yl=function(o){return{name:"test",type:o,isEmbedded:!0}};function $l(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0,19,20),e.\u0275\u0275listener("viewElementShow",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onDsAttributePropertiesPanelShow(a))}),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("crtViewElement",e.\u0275\u0275pureFunction1(1,Yl,t.propertiesComponentTypeName))}}function es(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getBindToDataSourceErrorMessage())}}let Ze=class extends J{constructor(){super(...arguments),this.bindingAttributePath="value",this.translatePrefix="InterfaceDesigner.PropertiesPages.ImageInputPropertiesPage",this.sysSettingsService=this.injector.get(B.SysSettingsService),this.crtControlStateAdapter=this.injector.get(w.CrtControlStateAdapter),this.sizeOptions=[{icon:"button-size-s-icon",value:S.SizeEnum.Small,caption:this.translate("Sizes.Small")},{icon:"button-size-m-icon",value:S.SizeEnum.Medium,caption:this.translate("Sizes.Medium")},{icon:"button-size-l-icon",value:S.SizeEnum.Large,caption:this.translate("Sizes.Large")},{icon:"button-size-xl-icon",value:S.SizeEnum.ExtraLarge,caption:this.translate("Sizes.ExtraLarge")}],this.sizeLookupOptions={items:[{value:S.SizeEnum.None,displayValue:this.translate("Sizes.None")},{value:S.SizeEnum.Small,displayValue:this.translate("Sizes.Small")},{value:S.SizeEnum.Medium,displayValue:this.translate("Sizes.Medium")},{value:S.SizeEnum.Large,displayValue:this.translate("Sizes.Large")}]},this.positioningOptions={items:[{value:"cover",displayValue:this.translate("Positioning.Cover")},{value:"scale-down",displayValue:this.translate("Positioning.ScaleDown")}]}}beforeSetControlValue(r,t,n){if(t!=="borderRadius")return super.beforeSetControlValue(r,t,n);if(!r)return this.sizeLookupOptions.items.find(u=>u.value===S.SizeEnum.Medium);if((0,S.isSizeEnum)(r)){const i=n.options.items,u=r.toLowerCase();return i.find(h=>h.value===u)}const a=(0,S.isNumber)(r)?"px":"";return{value:r,displayValue:`${r}${a}`}}getPropertiesConfig(){const r={...super.getPropertiesConfig(),tooltipValue:{path:"itemConfig.tooltip",dataValueType:l.DataValueType.LOCALIZABLE_STRING},readonly:{path:"itemConfig.readonly",dataValueType:l.DataValueType.Boolean},size:{path:"itemConfig.size",dataValueType:l.DataValueType.Text},borderRadius:{path:"itemConfig.borderRadius",dataValueType:l.DataValueType.Lookup,options:this.sizeLookupOptions},positioning:{path:"itemConfig.positioning",dataValueType:l.DataValueType.Lookup,options:this.positioningOptions},maxFileSize:{path:"itemConfig.maxFileSize",dataValueType:l.DataValueType.Integer,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override,controlInitialConfig:{validatorOrOpts:[this.crtControlStateAdapter.transform({instance:new w.MinValidator(this.injector),params:{min:1}})]}}};return r.placeholderValue={path:"itemConfig.placeholder",dataValueType:l.DataValueType.Text},delete r.titleOnPage,r}emitChanges(r){const t=r.find(n=>n.path==="itemConfig.maxFileSize");t&&!t.value&&(t.value=void 0),super.emitChanges(r)}ngOnInit(){super.ngOnInit(),this.sysSettingsService.getByCodes(["MaxImageSize"]).subscribe(r=>{if(r&&r.success){const t=r.values.MaxImageSize?.value||0;this.maxFileSizePlaceholder=wt.String.format(this.translate("MaxSizePlaceholder"),t),this.changeDetector.detectChanges()}})}};Ze.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Ze)))(t||Ze)}}(),Ze.\u0275cmp=e.\u0275\u0275defineComponent({type:Ze,selectors:[["crt-image-input-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:26,vars:34,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[3,"crtViewElement","viewElementShow",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"crt-control-form-field-wrapper"],[3,"control","labelPosition","label"],[3,"formGroup"],["data-item-marker","size",1,"control","size-control",3,"items","control","label"],["labelPosition","above",1,"control",3,"control","label","items"],[1,"control"],["labelType","caption",3,"caption"],["formControlName","tooltipValue","iconLineType","bold",3,"label"],["tooltip",""],["floatLabel","always",1,"form-field-wrapper"],["matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl","errorStateMatcher"],["svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[4,"ngIf"],["labelPosition","above",1,"control",3,"control","label","tooltip","placeholder"],[3,"crtViewElement","viewElementShow"],["DataSourceAttributePropertiesPanel",""]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275template(2,$l,2,3,"ng-container",2),e.\u0275\u0275elementStart(3,"form",3)(4,"crt-expansion-panel",4)(5,"div",5),e.\u0275\u0275element(6,"crt-checkbox",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(7,"crt-properties-panel-visibility-settings",7),e.\u0275\u0275elementStart(8,"crt-expansion-panel",4),e.\u0275\u0275element(9,"crt-icon-radio-button",8)(10,"crt-combobox",9)(11,"crt-combobox",9),e.\u0275\u0275elementStart(12,"mat-form-field",10),e.\u0275\u0275element(13,"crt-label",11)(14,"ts-localizable-text-input",12,13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"crt-properties-panel-advanced-settings",7)(17,"mat-form-field",14)(18,"mat-label"),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"input",15),e.\u0275\u0275elementStart(22,"mat-icon",16),e.\u0275\u0275listener("click",function(){return t.onSelectDataSourceClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(23,es,2,1,"mat-error",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",5),e.\u0275\u0275element(25,"crt-number-input",18),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("simpleTitle",t.getTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.propertiesComponentTypeName),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("Editability")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("readonly"))("labelPosition","right")("label",t.translate("EditabilityControls.Readonly")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("SizeFieldLabel")),e.\u0275\u0275property("items",t.sizeOptions)("control",t.getControl("size")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("BorderRadiusLabel")),e.\u0275\u0275property("control",t.getControl("borderRadius"))("items",t.getLookupItems("borderRadius")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("PositioningLabel")),e.\u0275\u0275property("control",t.getControl("positioning"))("items",t.getLookupItems("positioning")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("caption",t.translate("TooltipLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("TooltipLabel")),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,32,"PropertiesPages.BaseInputPropertiesPanel.BindToDataSourceCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("readonly",!0)("formControl",t.bindToDataSource)("errorStateMatcher",t.anyErrorStateMatcher),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.bindToDataSource.invalid),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("tooltip",t.translate("MaxSizeEmptyMessage")),e.\u0275\u0275propertyInterpolate("placeholder",t.maxFileSizePlaceholder),e.\u0275\u0275property("control",t.getControl("maxFileSize"))("label",t.translate("MaxSize")))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,s.CrtNumberInputComponent,s.CrtIconRadioButtonComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,p.FormControlName,V.ViewElementDirective,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,D,F,A,P.TranslatePipe],styles:[`crt-image-input-properties-panel{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-image-input-properties-panel form{width:100%}crt-image-input-properties-panel crt-expansion-panel{height:auto;overflow:inherit}crt-image-input-properties-panel .properties-panel-wrap{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-image-input-properties-panel.embedded-properties-panel{height:auto}crt-image-input-properties-panel .properties-form .form-field-wrapper{width:100%;margin-top:12px}crt-image-input-properties-panel .properties-form .form-field-wrapper .structure-explorer-input{width:80%}crt-image-input-properties-panel .properties-form .form-field-wrapper .structure-explorer-icon{float:right;width:16px;height:16px;padding-right:2px}crt-image-input-properties-panel .properties-form .crt-control-form-field-wrapper{margin-top:12px;padding-bottom:1.25em}crt-image-input-properties-panel .size-control .crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .crt-icon-radio-item.icon-radio-item .radio-icon-wrap .radio-icon.mat-icon{width:32px;height:32px;padding:0}crt-image-input-properties-panel .size-control .crt-icon-radio-button svg text{direction:initial}
`],encapsulation:2}),Ze=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ImageInputPropertiesPanelComponent",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Ze);let or=class extends W{_subscribeEntitySchemaControlChanges(){this.entitySchemaControl.valueChanges.pipe((0,c.takeUntil)(this._destroyed$)).subscribe(r=>{const t=r?.value;t!==this.params?.entitySchemaName&&(this.params=t?{entitySchemaName:t}:null,this.paramsChange.emit(this.params))})}_initializeEntitySchemaControlValue(){var r=this;return(0,k.Z)(function*(){const t=r.params?.entitySchemaName,n=r.entitySchemas.find(a=>a.value===t);r.entitySchemaControl.setValue(n)})()}_initializeEntitySchemas(){var r=this;return(0,k.Z)(function*(){r.entitySchemas=yield(0,d.firstValueFrom)(r._designerEntityService.getReferenceSchemasLookupItems())})()}_initializeData(){var r=this;return(0,k.Z)(function*(){yield r._initializeEntitySchemas(),yield r._initializeEntitySchemaControlValue()})()}constructor(r){super(),this._designerEntityService=r,this._destroyed$=new d.Subject,this.entitySchemaControl=new p.FormControl,this.entitySchemas=[]}ngOnInit(){var r=this;setTimeout((0,k.Z)(function*(){yield r._initializeData(),r._subscribeEntitySchemaControlChanges()}))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}};or.\u0275fac=function(r){return new(r||or)(e.\u0275\u0275directiveInject(m.DesignerEntityService))},or.\u0275cmp=e.\u0275\u0275defineComponent({type:or,selectors:[["crt-import-data-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:6,consts:[["cdkScrollable","",1,"properties-panel-wrap"],["labelPosition","above",3,"items","useStaticFiltering","control","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-combobox",1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(2,4,"InterfaceDesigner.PropertiesPages.ImportDataRequestPropertiesPanel.EntitySchemaSelectCaption")),e.\u0275\u0275property("items",t.entitySchemas)("useStaticFiltering",!0)("control",t.entitySchemaControl))},dependencies:[s.CrtComboBoxComponent,x.CdkScrollable,P.TranslatePipe],encapsulation:2}),or=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ImportDataRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[m.DesignerEntityService])],or);const ts=["#181818","#757575","#0D2E4E","#004FD6","#D2310D","#FF4013","#0B8500","#E3E3E3","#F1F4FC","#FFFFFF",S.CONTAINER_COLOR_TRANSPARENT];function rs(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"crt-input",10)(2,"mat-icon",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.resetCaptionPropertyValue())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"mat-icon",12),e.\u0275\u0275elementEnd()()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("value",t.getCaptionPropertyValue())("label",t.translate("TitleLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("ClearAttributeBinding")),e.\u0275\u0275advance(1),e.\u0275\u0275property("crtTooltip",t.translate("AttributeBindingCaption"))}}function ns(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",13),e.\u0275\u0275element(1,"crt-label",14)(2,"ts-localizable-text-input",15,16),e.\u0275\u0275elementStart(4,"mat-error"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("caption",t.translate("TitleLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("TitleLabel")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,3,"Validators.Required.Message")," ")}}let Pe=class extends L{constructor(r,t){super(r),this.injector=r,this._crtControlStateAdapter=t,this._captionPropertyName="caption",this.translatePrefix="InterfaceDesigner.PropertiesPages.LabelPropertiesPage",this._textAlignOptions=[{icon:"label-align-left",caption:this.translate("AlignLeftCaption"),value:"start"},{icon:"label-align-center",caption:this.translate("AlignCenterCaption"),value:"center"},{icon:"label-align-right",caption:this.translate("AlignRightCaption"),value:"end"},{icon:"label-align-full",caption:this.translate("AlignJustifyCaption"),value:"justify"}]}get textAlignOptions(){return this._textAlignOptions}get config(){return super.config}set config(r){this._mapLabelType(r),super.config=r}get backgroundColors(){return jn}get fontColors(){return ts}_mapLabelType(r){const t=r.itemConfig.labelType,n=s.LABEL_TYPE_MAPPING[t];return n&&(r.itemConfig.labelType=n),r}_isCaptionFormPath(r){return r===this._captionPropertyName}_checkCaptionCondition(r){return this.useCaptionPropertyBinding()&&this._isCaptionFormPath(r)}afterGetControlValue(r,t,n){return this._checkCaptionCondition(t)?r:super.afterGetControlValue(r,t,n)}beforeSetControlValue(r,t,n){return this._checkCaptionCondition(t)?r:super.beforeSetControlValue(r,t,n)}getPropertiesConfig(){return{...super.getPropertiesConfig(),caption:{path:"itemConfig.caption",dataValueType:l.DataValueType.LOCALIZABLE_STRING,isTitle:!0,controlInitialConfig:{validatorOrOpts:[p.Validators.required,this._crtControlStateAdapter.transform({instance:new w.EmptyWhiteSpaceValidator(this.injector)})],value:""}},labelType:{path:"itemConfig.labelType",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[{value:"large-1",displayValue:this.translate("TypeLarge1Caption")},{value:"large-2",displayValue:this.translate("TypeLarge2Caption")},{value:"large-3",displayValue:this.translate("TypeLarge3Caption")},{value:"large-4",displayValue:this.translate("TypeLarge4Caption")},{value:"headline-1",displayValue:this.translate("TypeHeadline1Caption")},{value:"headline-1-small",displayValue:this.translate("TypeHeadline1SmallCaption")},{value:"headline-2",displayValue:this.translate("TypeHeadline2Caption")},{value:"headline-3",displayValue:this.translate("TypeHeadline3Caption")},{value:"headline-4",displayValue:this.translate("TypeHeadline4Caption")},{value:"body-large",displayValue:this.translate("TypeBodyLargeCaption")},{value:"body",displayValue:this.translate("TypeBodyCaption")},{value:"caption-large",displayValue:this.translate("TypeCaptionLargeCaption")},{value:"caption",displayValue:this.translate("TypeCaptionCaption")},{value:"placeholder-large",displayValue:this.translate("TypePlaceholderLargeCaption")},{value:"placeholder",displayValue:this.translate("TypePlaceholderCaption")},{value:"button",displayValue:this.translate("TypeButtonCaption")},{value:"button-small",displayValue:this.translate("TypeButtonSmallCaption")},{value:"blankslate",displayValue:this.translate("TypeBlankslateCaption")}]}},labelThickness:{path:"itemConfig.labelThickness",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[{value:"light",displayValue:this.translate("ThicknessLightCaption")},{value:"normal",displayValue:this.translate("ThicknessNormalCaption")},{value:"semibold",displayValue:this.translate("ThicknessSemiboldCaption")},{value:"bold",displayValue:this.translate("ThicknessBoldCaption")},{value:"default",displayValue:this.translate("ThicknessDefaultCaption")}]}},labelTextAlign:{path:"itemConfig.labelTextAlign",dataValueType:l.DataValueType.CUSTOM_OBJECT,options:{items:this.textAlignOptions}},labelColor:{path:"itemConfig.labelColor",dataValueType:l.DataValueType.Text},labelBackgroundColor:{path:"itemConfig.labelBackgroundColor",dataValueType:l.DataValueType.Text}}}useCaptionPropertyBinding(){return this.getCaptionPropertyValue()?.startsWith("$")}getCaptionPropertyValue(){return this.config?.itemConfig[this._captionPropertyName]}resetCaptionPropertyValue(){this.getControl(this._captionPropertyName).setValue(new g.LocalizableStringArray([{cultureName:this.translateService.currentLang,value:this.translateService.instant("Components.Label.Caption")}]))}};Pe.\u0275fac=function(r){return new(r||Pe)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(w.CrtControlStateAdapter))},Pe.\u0275cmp=e.\u0275\u0275defineComponent({type:Pe,selectors:[["crt-label-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:13,vars:27,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],["class","caption-property-binding",4,"ngIf"],["class","control",4,"ngIf"],[1,"control",3,"control","label","items","useStaticFiltering","labelPosition"],[1,"control",3,"items","control","label"],["pickerMode","extended",1,"control",3,"label","colors","control"],[1,"caption-property-binding"],["disabled","true","labelPosition","above",3,"value","label"],["matSuffix","","svgIcon","small-close",1,"clear-icon",3,"title","click"],["matSuffix","","svgIcon","info-icon",3,"crtTooltip"],[1,"control"],["required","","labelType","caption",3,"caption"],["formControlName","caption","iconLineType","bold",3,"label"],["caption",""]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3),e.\u0275\u0275template(4,rs,4,4,"div",4),e.\u0275\u0275template(5,ns,7,5,"mat-form-field",5),e.\u0275\u0275element(6,"crt-combobox",6)(7,"crt-combobox",6)(8,"crt-icon-radio-button",7)(9,"crt-properties-panel-color-picker",8)(10,"crt-properties-panel-color-picker",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"crt-properties-panel-visibility-settings",1)(12,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.useCaptionPropertyBinding()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.useCaptionPropertyBinding()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("TypeLabel")),e.\u0275\u0275property("control",t.getControl("labelType"))("items",t.getLookupItems("labelType"))("useStaticFiltering",!0)("labelPosition","above"),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("ThicknessLabel")),e.\u0275\u0275property("control",t.getControl("labelThickness"))("items",t.getLookupItems("labelThickness"))("useStaticFiltering",!0)("labelPosition","above"),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("TextAlignLabel")),e.\u0275\u0275property("items",t.textAlignOptions)("control",t.getControl("labelTextAlign")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("FontColorLabel")),e.\u0275\u0275property("colors",t.fontColors)("control",t.getControl("labelColor")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("BackgroundColorLabel")),e.\u0275\u0275property("colors",t.backgroundColors)("control",t.getControl("labelBackgroundColor")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtInputComponent,s.CrtLabelComponent,s.CrtIconRadioButtonComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacySuffix,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.FormGroupDirective,p.FormControlName,E.TooltipDirective,I.MatIcon,x.CdkScrollable,D,ne,F,A,P.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .caption-property-binding[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-end}[_nghost-%COMP%]   .caption-property-binding[_ngcontent-%COMP%]   .crt-base-edit-input[_ngcontent-%COMP%]{flex-grow:1;padding-bottom:11px}[_nghost-%COMP%]   .caption-property-binding[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{cursor:pointer;opacity:0}[_nghost-%COMP%]   .caption-property-binding[_ngcontent-%COMP%]:hover   .clear-icon[_ngcontent-%COMP%]{opacity:1}"],changeDetection:0}),Pe=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.LabelPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,w.CrtControlStateAdapter])],Pe);function os(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getBindToDataSourceErrorMessage())}}let ar=class extends J{constructor(r){super(r,r.get(z.StructureExplorerService),r.get(_.DesignerSchemaService),r.get(g.LczToStringPipe),r.get(m.DesignerDataSourceManager),r.get(_.AttributeConfigProvider),r.get(I.MatIconRegistry),r.get(te.DomSanitizer)),this.translatePrefix="InterfaceDesigner.PropertiesPages.LocalTimePropertiesPage",this._labelPropertiesPanel=new Pe(r,r.get(w.CrtControlStateAdapter))}set config(r){this._labelPropertiesPanel.config=r,super.config=this._labelPropertiesPanel.config}get config(){return super.config}get textAlignOptions(){return this._labelPropertiesPanel.textAlignOptions}get backgroundColors(){return this._labelPropertiesPanel.fontColors}get fontColors(){return this._labelPropertiesPanel.fontColors}structureExplorerFilterFunc(r,t){if(!super.structureExplorerFilterFunc(r,t))return!1;const a=l.InterfaceDesignerItemRegistry.get(t).referenceSchemaNames||[];if(a.length===0)return!0;const i=r.data.item.referenceSchemaName;return a.includes(i)}getPropertiesConfig(){return{...super.getPropertiesConfig(),...this._labelPropertiesPanel.getPropertiesConfig(),textColor:{path:"itemConfig.textColor",dataValueType:l.DataValueType.Text},backgroundColor:{path:"itemConfig.backgroundColor",dataValueType:l.DataValueType.Text}}}};ar.\u0275fac=function(r){return new(r||ar)(e.\u0275\u0275directiveInject(e.Injector))},ar.\u0275cmp=e.\u0275\u0275defineComponent({type:ar,selectors:[["crt-local-time-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:23,vars:42,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[1,"properties-form",3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],["floatLabel","always",1,"form-field-wrapper"],["required","","matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl","errorStateMatcher"],["svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[4,"ngIf"],[1,"control",3,"control","label","items","useStaticFiltering","labelPosition"],[1,"control",3,"items","control","label"],["pickerMode","extended",1,"control",3,"label","colors","control"],[3,"formGroup"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementStart(5,"mat-form-field",4)(6,"mat-label"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"input",5),e.\u0275\u0275elementStart(9,"mat-icon",6),e.\u0275\u0275listener("click",function(){return t.onSelectDataSourceClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,os,2,1,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"crt-combobox",8),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275element(13,"crt-combobox",8),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275element(15,"crt-icon-radio-button",9),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275element(17,"crt-properties-panel-color-picker",10),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275element(19,"crt-properties-panel-color-picker",10),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"crt-properties-panel-visibility-settings",11)(22,"crt-properties-panel-advanced-settings",11),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",e.\u0275\u0275pipeBind1(4,30,"InterfaceDesigner.PropertiesPages.LabelPropertiesPage.GeneralCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.translate("TimeZoneColumn")),e.\u0275\u0275advance(1),e.\u0275\u0275property("readonly",!0)("formControl",t.bindToDataSource)("errorStateMatcher",t.anyErrorStateMatcher),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.bindToDataSource.invalid),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(12,32,"InterfaceDesigner.PropertiesPages.LabelPropertiesPage.TypeLabel")),e.\u0275\u0275property("control",t.getControl("labelType"))("items",t.getLookupItems("labelType"))("useStaticFiltering",!0)("labelPosition","above"),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(14,34,"InterfaceDesigner.PropertiesPages.LabelPropertiesPage.ThicknessLabel")),e.\u0275\u0275property("control",t.getControl("labelThickness"))("items",t.getLookupItems("labelThickness"))("useStaticFiltering",!0)("labelPosition","above"),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(16,36,"InterfaceDesigner.PropertiesPages.LabelPropertiesPage.TextAlignLabel")),e.\u0275\u0275property("items",t.textAlignOptions)("control",t.getControl("labelTextAlign")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(18,38,"InterfaceDesigner.PropertiesPages.LabelPropertiesPage.FontColorLabel")),e.\u0275\u0275property("colors",t.fontColors)("control",t.getControl("labelColor")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(20,40,"InterfaceDesigner.PropertiesPages.LabelPropertiesPage.BackgroundColorLabel")),e.\u0275\u0275property("colors",t.backgroundColors)("control",t.getControl("labelBackgroundColor")),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtIconRadioButtonComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.FormControlDirective,p.FormGroupDirective,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,D,ne,F,A,P.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),ar=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.LocalTimePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector])],ar);function as(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-view-element-event-properties-panel",11),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("config",t.getConfig())}}function is(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-menu-items-container-properties-panel",12),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("config",t.getConfig())}}let ir=class extends L{constructor(r,t,n){super(t),this._lczToString=r,this.injector=t,this._crtControlStateAdapter=n,this.translatePrefix="InterfaceDesigner.PropertiesPages.MenuItemPropertiesPanel",this.defaultIcon="add-button-icon",this.icons=s.BUTTON_ICONS,this.items=[]}get getTitle(){return this._lczToString.transform(this._getNotEmptyLocalizations(this.title))}_getNotEmptyLocalizations(r){return Array.isArray(r)?new g.LocalizableStringArray(r.filter(t=>t.value)):null}afterGetLookupControlValue(r,t){return t?.value||null}beforeSetLookupControlValue(r,t,n){return n.find(a=>a.value===t)||null}getPropertiesConfig(){return{...super.getPropertiesConfig(),caption:{path:"itemConfig.caption",dataValueType:l.DataValueType.LOCALIZABLE_STRING,isTitle:!0,controlInitialConfig:{validatorOrOpts:[p.Validators.required,this._crtControlStateAdapter.transform({instance:new w.EmptyWhiteSpaceValidator(this.injector)})],value:""}},clicked:{path:"itemConfig.clicked",dataValueType:l.DataValueType.CUSTOM_OBJECT,controlInitialConfig:{},applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override},icon:{path:"itemConfig.icon",dataValueType:l.DataValueType.Text},items:{path:"itemConfig.items",dataValueType:l.DataValueType.COLLECTION,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override}}}loadData(r){const t=(0,y.get)(r.itemConfig,"items");return this.items=t||[],super.loadData(r)}};ir.\u0275fac=function(r){return new(r||ir)(e.\u0275\u0275directiveInject(g.LczToStringPipe),e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(w.CrtControlStateAdapter))},ir.\u0275cmp=e.\u0275\u0275defineComponent({type:ir,selectors:[["crt-menu-item-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:17,vars:24,consts:[[1,"properties-panel-wrap","menu-item-properties-panel"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],[1,"control"],["required","","labelType","caption",3,"caption"],["iconLineType","bold",3,"formControlName","label","autofocus"],["formControlName","clicked",3,"config",4,"ngIf"],["formControlName","items","propertyName","items",3,"config",4,"ngIf"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group","appearance-group",3,"title","extraStyles"],[3,"iconPositionControl","iconControl","icons","usePositionOptions","defaultIcon"],["formControlName","clicked",3,"config"],["formControlName","items","propertyName","items",3,"config"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3)(4,"mat-form-field",4),e.\u0275\u0275element(5,"crt-label",5)(6,"ts-localizable-text-input",6),e.\u0275\u0275elementStart(7,"mat-error"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"crt-expansion-panel",3),e.\u0275\u0275template(11,as,1,1,"crt-view-element-event-properties-panel",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,is,1,1,"crt-menu-items-container-properties-panel",8),e.\u0275\u0275element(13,"crt-properties-panel-visibility-settings",1),e.\u0275\u0275elementStart(14,"crt-expansion-panel",9),e.\u0275\u0275element(15,"crt-properties-panel-icon-settings",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("simpleTitle",t.getTitle),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",t.translate("CaptionLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","caption")("label",t.translate("CaptionLabel"))("autofocus",t.shouldFocusCaption),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,22,"Validators.Required.Message")," "),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("title",t.translate("ActionLabel")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getConfig()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getConfig()),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("iconPositionControl",t.getControl("iconPosition"))("iconControl",t.getControl("icon"))("icons",t.icons)("usePositionOptions",!1)("defaultIcon",t.defaultIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtExpansionPanelComponent,s.CrtLabelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.FormGroupDirective,p.FormControlName,be,D,ge,F,A,Ee,P.TranslatePipe],styles:[`crt-menu-item-properties-panel{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box;height:calc(100% - 35px)}crt-menu-item-properties-panel form{width:100%}crt-menu-item-properties-panel crt-expansion-panel{height:auto;overflow:inherit}crt-menu-item-properties-panel .properties-panel-wrap{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-menu-item-properties-panel.embedded-properties-panel{height:auto}crt-menu-item-properties-panel .properties-form .form-field-wrapper{width:100%;margin-top:12px}crt-menu-item-properties-panel .properties-form .form-field-wrapper .structure-explorer-input{width:80%}crt-menu-item-properties-panel .properties-form .form-field-wrapper .structure-explorer-icon{float:right;width:16px;height:16px;padding-right:2px}crt-menu-item-properties-panel .properties-form .crt-control-form-field-wrapper{margin-top:12px;padding-bottom:1.25em}crt-menu-item-properties-panel .appearance-group .mat-expansion-panel-body{display:flex;flex-direction:column;gap:16px}
`],encapsulation:2,changeDetection:0}),ir=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.MenuItemPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[g.LczToStringPipe,e.Injector,w.CrtControlStateAdapter])],ir);const ls=function(o){return{rowId:o}},ss=function(o){return{$implicit:o}};function ps(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",12,13),e.\u0275\u0275listener("focused",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.setFocusedRow(a.rowId))})("blurred",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.setFocusedRow(null))})("click",function(a){return a.stopPropagation()})("menuClosed",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.setFocusedRow(null))}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275reference(1),n=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("crt-toolbar-visible",(t==null?null:t.menuOpen)||n.rowId===i.focusedRowId),e.\u0275\u0275property("crtMenuTriggerFor",a)("crtMenuTriggerData",e.\u0275\u0275pureFunction1(9,ss,e.\u0275\u0275pureFunction1(7,ls,n.rowId)))("iconPosition","only-icon")("icon","actions-button-icon")("disableRipple",!0)}}function cs(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275template(1,ps,2,11,"crt-button",9),e.\u0275\u0275element(2,"crt-menu",10,11),e.\u0275\u0275elementEnd()),o&2){const t=r.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("menuItems",n.rowMenuItems)}}let lr=class extends L{get items(){return this._items}set items(r){this._items=r,this.setLookupItems("defaultChannel",this._getChannelsAsLookupItems())}set config(r){this._viewItemConfig=r.itemConfig,super.config=r,this._updateView(this._viewItemConfig)}constructor(r,t,n,a,i,u,h){super(r),this._injector=r,this._dialogService=t,this._designerSchemaService=n,this._designerService=a,this._designerConfigService=i,this._designerContainerService=u,this._viewCommandExecutor=h,this._cellClicked=new e.EventEmitter,this.translatePrefix="InterfaceDesigner.PropertiesPages.MessageComposerSelectorPropertiesPage",this.features={rows:{hierarchical:!0},header:{visible:!1}},this.columns=[{id:"caption",code:"caption",caption:"Caption",dataValueType:l.DataValueType.Text,cellView:{linkable:{mode:"preventDefault",clicked:this._cellClicked}}}],this.rowMenuItems=[{caption:this.translate("ContextMenu.Delete"),code:"remove",icon:"delete-icon",type:"action",handler:b=>{this._removeItem(b.rowId),this._designerContainerService.select(this._viewItemConfig.name)}},{caption:this.translate("ContextMenu.Edit"),code:"edit",icon:"pen-icon",type:"action",handler:({rowId:b})=>{this.onCellClick({name:b})}}],Q.setRequestsFilter(null),this._subscribeCellClicked()}_removeItem(r){this._viewCommandExecutor.remove({name:r}).pipe((0,c.switchMap)(t=>t.execute())).subscribe()}_updateView(r){r&&this._prepareObjectsList(r.items)}_prepareObjectsList(r){const t=[];r.length?(0,d.from)(r).pipe((0,c.concatMap)(n=>this._designerConfigService.getCaption(n.data).pipe((0,c.tap)(a=>{t.push({...(0,y.omit)(n,"items"),caption:a})}))),(0,c.last)()).subscribe(n=>{r.length===t.length&&(this.items=[...t].sort((a,i)=>a.caption>i.caption?1:-1),this.changeDetector.detectChanges())}):(this.items=t,this.changeDetector.detectChanges())}_subscribeCellClicked(){this._cellClicked.subscribe(r=>{this.onCellClick(r.payload)})}_subscribeToSchemaChanged(){this._designerSchemaService.schemaChanged$.pipe((0,c.filter)(({changes:{viewConfig:r,parentName:t}})=>{const n=this._viewItemConfig.name;return t===n||r?.name===n})).subscribe(({changes:{viewConfig:r,operation:t}})=>{r?.name===this._viewItemConfig.name&&(this._viewItemConfig=r),this._updateView(this._viewItemConfig),t===m.MetaItemDesignSettingChangesOperation.Insert&&window.requestAnimationFrame(()=>{this.onEditChannelProperties(r)})})}_setOpenPanelAnimationMode(){this.openPanelAnimationService.animationMode$.next("forward")}_addSelectedItems(r){r?.forEach(t=>this._addItem(t))}_addItem(r){const t=this._designerConfigService.getNewViewItemConfig(r,this._viewItemConfig);this._viewCommandExecutor.add(t).pipe((0,c.switchMap)(n=>n.execute())).subscribe()}_getChannelsAsLookupItems(){return this.items.map(r=>({value:r.type,displayValue:r.caption}))}getPropertiesConfig(){return{...super.getPropertiesConfig(),defaultChannel:{path:"itemConfig.defaultChannel",dataValueType:l.DataValueType.Lookup,options:{items:[]}}}}beforeSetLookupControlValue(r,t,n){if(r==="defaultChannel"&&t&&n.length===0){const a=this._viewItemConfig?.items?.find(i=>i.type===t);if(a)return{value:t,displayValue:a.data?.caption}}return super.beforeSetLookupControlValue(r,t,n)}openObjectExplorer(){this._designerService.getPredefinedChannels().subscribe(r=>{const t=this.items.map(a=>a.type),n=r.filter(a=>!t.includes(a.typeName));this._dialogService.open(s.CrtObjectExplorerComponent,{data:{items:n,caption:"Components.MessageComposer.DesignerCustomEntities.SelectChannelsCaption"}}).subscribe(a=>{const i=a.filter(u=>!t.includes(u.typeName));this._addSelectedItems(i),this.changeDetector.detectChanges()})})}ngAfterViewInit(){this._subscribeToSchemaChanged()}setFocusedRow(r){this.focusedRowId=r}onCellClick(r){const t=r.name,{viewConfig:n}=this._designerSchemaService.getViewConfigInfoByName(t);this.onEditChannelProperties(n)}onEditChannelProperties(r){this._setOpenPanelAnimationMode(),this._designerContainerService.select(r.name)}};lr.\u0275fac=function(r){return new(r||lr)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(E.DialogService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(m.DesignerMessageComposerService),e.\u0275\u0275directiveInject(m.DesignerMessageComposerConfigService),e.\u0275\u0275directiveInject(m.DesignerContainerService),e.\u0275\u0275directiveInject(m.ViewItemCommandExecutor))},lr.\u0275cmp=e.\u0275\u0275defineComponent({type:lr,selectors:[["crt-message-composer-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:15,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group","no-horizontal-paddings",3,"title","fullWidthHeader"],["afterLabelContent","","color","default","icon","plus-icon","iconPosition","only-icon","shape","rounded",1,"add-new-item-button",3,"title","clicked"],[1,"menu-items-table",3,"features","columns","primaryColumnName","items"],["crtDataTableRowToolbar","",3,"crtDataTableRowToolbarPosition"],["labelPosition","above","data-qa","default-channel-list",1,"default-channel-combobox",3,"items","control","label"],[1,"crt-row-toolbar-wrapper"],["class","crt-toolbar crt-row-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","iconPosition","icon","disableRipple","crt-toolbar-visible","focused","blurred","click","menuClosed",4,"ngIf"],[3,"menuItems"],["rowMenu",""],[1,"crt-toolbar","crt-row-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","iconPosition","icon","disableRipple","focused","blurred","click","menuClosed"],["trigger","crtMenuTrigger"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3)(4,"crt-button",4),e.\u0275\u0275listener("clicked",function(){return t.openObjectExplorer()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"crt-data-table",5),e.\u0275\u0275template(6,cs,4,2,"ng-template",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"crt-combobox",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"crt-properties-panel-visibility-settings",1)(9,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("ChannelsCaption")),e.\u0275\u0275property("fullWidthHeader",!1),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AddNewItem")),e.\u0275\u0275advance(1),e.\u0275\u0275property("features",t.features)("columns",t.columns)("primaryColumnName","name")("items",t.items),e.\u0275\u0275advance(1),e.\u0275\u0275property("crtDataTableRowToolbarPosition","after"),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("DefaultChannelCaption")),e.\u0275\u0275property("items",t.getLookupItems("defaultChannel"))("control",t.getControl("defaultChannel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtMenuComponent,s.CrtMenuTriggerDirective,s.CrtDataTableComponent,s.CrtDataTableRowToolbarDirective,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .default-channel-combobox[_ngcontent-%COMP%]{padding:0 16px;width:calc(100% - 32px)}"]}),lr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.MessageComposerPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,E.DialogService,_.DesignerSchemaService,m.DesignerMessageComposerService,m.DesignerMessageComposerConfigService,m.DesignerContainerService,m.ViewItemCommandExecutor])],lr);let Ke=class extends L{constructor(){super(...arguments),this.translatePrefix="InterfaceDesigner.PropertiesPages.NextStepsPropertiesPage"}get bindingColumns(){const r=this.config?.itemConfig;return r&&!r.bindingColumns&&(r.bindingColumns=[]),r?.bindingColumns}getPropertiesConfig(){return{...super.getPropertiesConfig(),bindingColumns:{path:"itemConfig.bindingColumns",dataValueType:l.DataValueType.OBJECT_LIST}}}};Ke.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Ke)))(t||Ke)}}(),Ke.\u0275cmp=e.\u0275\u0275defineComponent({type:Ke,selectors:[["crt-next-steps-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:5,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],[3,"bindingColumns"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2)(3,"crt-activity-columns-maping",3)(4,"crt-properties-panel-visibility-settings",1)(5,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("bindingColumns",t.bindingColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,Be,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),Ke=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.NextStepsPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Ke);let sr=class extends Mn{constructor(r,t,n){super(t,n),this._globalSearchEnabledSectionsLoader=r,this.translatePrefix="InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.OpenDuplicatesPageRequest",this.entitySelectLabel=this.translate("WhichObjectToOpenDuplicatesOfLabel")}loadEntityOptions(){this._globalSearchEnabledSectionsLoader.getEntityOptions().pipe((0,d.takeUntil)(this.destroyed$)).subscribe({next:this.onOptionsLoaded.bind(this)})}};sr.\u0275fac=function(r){return new(r||sr)(e.\u0275\u0275directiveInject(le.GlobalSearchEnabledEntitiesLoaderService),e.\u0275\u0275directiveInject(P.TranslateService),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},sr.\u0275cmp=e.\u0275\u0275defineComponent({type:sr,selectors:[["crt-open-duplicates-page-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:6,consts:[["cdkScrollable","",1,"open-duplicates-page-request-properties-panel","properties-panel-wrap"],[1,"properties-form"],[3,"control","appearance","label","labelPosition","items","useStaticFiltering"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"crt-combobox",2),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.entitySelectControl)("appearance","legacy")("label",t.entitySelectLabel)("labelPosition","above")("items",t.entityOptions)("useStaticFiltering",!0))},dependencies:[s.CrtComboBoxComponent,x.CdkScrollable],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .open-duplicates-page-request-properties-panel[_ngcontent-%COMP%]{width:100%;display:block}"],changeDetection:0}),sr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.OpenDuplicatesPageRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[le.GlobalSearchEnabledEntitiesLoaderService,P.TranslateService,e.ChangeDetectorRef])],sr);function us(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.translate("Validations.RequiredCaptionMessage")," ")}}function ds(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",3),e.\u0275\u0275element(1,"crt-appearance-settings-properties-panel"),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("title",t.translate("AppearanceGroup"))("extraStyles",t.getControlGroupStyles())}}let pr=class extends L{constructor(r,t,n,a,i){super(r),this.injector=r,this._designerService=t,this._crtControlStateAdapter=n,this._featureValues=a,this._interfaceDesignerFeature=i,this._requiredValidator=new w.RequiredValidator(this.injector),this.translatePrefix="InterfaceDesigner.PropertiesPages.PagePropertiesPage",this.showAppearanceSettingsPanel=this._featureValues.EnabledAppearanceSettings&&this._interfaceDesignerFeature.showAppearanceSettingsPanel}_checkNameForDuplicates(r,t){const n=r.value;return this._designerService.checkUniqueSchemaName(n,t,"ClientUnitSchemaManager").pipe((0,c.map)(a=>a?null:{invalidValueSyntax:{message:this.translateService?.instant(this.translatePrefix+".Validations.DuplicateNameMessage")}}))}_validateNamePrefix(r,t){return r?.startsWith(t)?null:{invalidValueSyntax:{message:wt.String.Format(this.translateService?.instant(this.translatePrefix+".Validations.PrefixNameMessage"),t)}}}_validateRequiredWithPrefix(r,t){if(r?.startsWith(t)){const n=r.replace(t,""),a={invalidValueSyntax:{message:this.translateService?.instant(this.translatePrefix+".Validations.RequiredNameMessage")}};return n?null:a}return null}_validateNamePattern(r){const t=new RegExp("^[a-zA-Z]+[a-zA-Z0-9._]*$");return r?.match(t)?null:{invalidValueSyntax:{message:this.translateService?.instant(this.translatePrefix+".Validations.PatternNameMessage")}}}_getNameDuplicatesValidator(r){return t=>this._checkNameForDuplicates(t,r)}_getRequiredWithPrefixValidator(r){return t=>this._validateRequiredWithPrefix(t.value,r)}_getNamePrefixValidator(r){return t=>this._validateNamePrefix(t.value,r)}_getPatternValidator(){return r=>this._validateNamePattern(r.value)}_getCaptionValidator(r){const t=r.value;let n=!0;return typeof t=="string"?n=!1:n=t?.find(a=>a.value)!==void 0,n?null:{invalidValueSyntax:{message:this?.translateService?.instant(this.translatePrefix+".Validations.RequiredCaptionMessage")}}}_setNameValidators(r,t){const n=this.propertiesForm.controls.name;n.clearValidators(),n.clearAsyncValidators();const a=[this._crtControlStateAdapter.transform({instance:this._requiredValidator}),this._getPatternValidator()];t&&(a.push(this._getRequiredWithPrefixValidator(t)),a.push(this._getNamePrefixValidator(t))),this.nameIsReadonly||(n.setValidators([...a]),n.setAsyncValidators([this._getNameDuplicatesValidator(r)]),n.updateValueAndValidity({onlySelf:!0}))}getPropertiesConfig(){return{...super.getPropertiesConfig(),caption:{path:"caption",dataValueType:l.DataValueType.LOCALIZABLE_STRING,controlInitialConfig:{validatorOrOpts:[this._getCaptionValidator]},isTitle:!0},name:{path:"name",dataValueType:l.DataValueType.Text,controlInitialConfig:{validatorOrOpts:[this._requiredValidator.validateFn]}},packageName:{path:"packageName",dataValueType:l.DataValueType.Text},description:{path:"description",dataValueType:l.DataValueType.LOCALIZABLE_STRING}}}loadData(r){this.nameIsReadonly=r.extendParent;const t=r.uId,n=r.schemaNamePrefix;return this._setNameValidators(t,n),super.loadData(r)}};pr.\u0275fac=function(r){return new(r||pr)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(le.ClientUnitSchemaDesignerService),e.\u0275\u0275directiveInject(w.CrtControlStateAdapter),e.\u0275\u0275directiveInject(g.FEATURE_VALUES),e.\u0275\u0275directiveInject(m.INTERFACE_DESIGNER_FEATURE_TOKEN))},pr.\u0275cmp=e.\u0275\u0275defineComponent({type:pr,selectors:[["crt-page-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:14,vars:17,consts:[[1,"properties-panel-wrap"],[1,"properties-form",3,"formGroup"],[3,"simpleTitle"],["expanded","true","togglePosition","after","toggleType","material",3,"title","extraStyles"],[1,"control"],["labelType","caption",3,"caption"],["formControlName","caption","iconLineType","bold",3,"label","required"],[4,"ngIf"],["labelPosition","above",1,"control",3,"control","label","readonly"],["formControlName","description","iconLineType","bold",3,"label"],["expanded","true","togglePosition","after","toggleType","material",3,"title","extraStyles",4,"ngIf"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3)(4,"mat-form-field",4),e.\u0275\u0275element(5,"crt-label",5)(6,"ts-localizable-text-input",6),e.\u0275\u0275template(7,us,2,1,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"crt-input",8)(9,"crt-input",8),e.\u0275\u0275elementStart(10,"mat-form-field",4),e.\u0275\u0275element(11,"crt-label",5)(12,"ts-localizable-text-input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(13,ds,2,2,"crt-expansion-panel",10),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("GeneralLabel"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",t.translate("CaptionLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("label",t.translate("CaptionLabel"))("required",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getControl("caption").errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("name"))("label",t.translate("NameLabel"))("readonly",t.nameIsReadonly),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("packageName"))("label",t.translate("PackageLabel"))("readonly",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",t.translate("DescriptionLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("label",t.translate("DescriptionLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showAppearanceSettingsPanel))},dependencies:[f.NgIf,s.CrtExpansionPanelComponent,s.CrtInputComponent,s.CrtLabelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.FormGroupDirective,p.FormControlName,D,cn],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"],changeDetection:0}),pr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.PagePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,le.ClientUnitSchemaDesignerService,w.CrtControlStateAdapter,Object,Object])],pr);function ms(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"crt-button",5),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openPageInDesigner())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("icon","open-button-icon")("title",t.openPageInDesignerTitle)}}function gs(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",5),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.addNewPage())}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("icon","add-button-icon")("title",t.addNewPageTitle)}}let Xe=class extends W{get openPageInDesignerTitle(){return this._translateService.instant(this._panelResourcesKey+"OpenPageInDesignerTitle")}get addNewPageTitle(){return this._translateService.instant(this._panelResourcesKey+"AddNewPage")}get isPageSelected(){return Boolean(this.selectedPage)}constructor(r,t,n,a,i,u,h){super(),this._window=r,this._pageLoaderService=t,this._schemaInfoService=n,this._translateService=a,this._appInfoService=i,this._workspaceOpenCreateDialogService=u,this._broadcastChannelFactory=h,this._panelResourcesKey="InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.OpenPageRequest.",this._openPageTitle=this._panelResourcesKey+"Title",this._subscriptions=new d.Subscription,this._pages=[],this._allItems=[],this.items=[],this.control=new p.FormControl}ngOnInit(){this._subscriptions.add(this._pageLoaderService.getSpecificPages().subscribe(r=>{this._pages=r,this._allItems=(0,g.castPageConfigsToLookups)(this._pages),this.items=this._allItems;const t=this.params?.schemaName;if(t){this.selectedPage=this._pages.find(({value:a})=>a===t)??null;const n=this.items.find(({value:a})=>a===this.selectedPage?.value)??null;this.control.setValue(n)}})),this._subscriptions.add(this.control.valueChanges.subscribe(r=>{this.selectedPage=this._pages.find(t=>t.value===r?.value)??null,this.params={schemaName:this.selectedPage?.value,modelInitConfigs:this.params?.modelInitConfigs},this.paramsChange.emit(this.params)})),this.label=this._translateService.instant(this._openPageTitle)}openPageInDesigner(){this._schemaInfoService.getSchemaUIdByName(this.params.schemaName).then(r=>{const t=(0,g.getWorkspaceBaseUrl)()+(0,g.getAppPath)()+"#/InterfaceDesigner/"+r;this._subscribeOnSavedSchema(),this._window.open(t).focus()})}addNewPage(){this._appInfoService.getAppsInfo().pipe((0,c.take)(1),(0,c.filter)(r=>r.success),(0,c.map)(r=>r?.appsInfo.find(t=>t.name==="angular-schema")),(0,c.switchMap)(r=>{const t=this.config.packageUId;return this._workspaceOpenCreateDialogService.createSchema(r,[t,"true"])}),(0,c.filter)(r=>r)).subscribe(()=>this._subscribeOnSavedSchema())}_subscribeOnSavedSchema(){this._subscriptionSchemaSaved&&!this._subscriptionSchemaSaved.closed||this._subscriptions.add(this._subscriptionSchemaSaved=this._broadcastChannelFactory.createInstance(g.CLIENT_SCHEMA_SAVED_CHANNEL_NAME).messages$.pipe((0,c.filter)(r=>this.config.schemaUId!==r.uId)).subscribe(r=>{const t={value:r.name,caption:r.caption,uId:r.uId};r.isNew&&!this.isPageSelected?this._addNewPageToControl(t):(this.selectedPage?.value===t.value||this.selectedPage?.uId===t.uId)&&this._updatePage(t)}))}_addNewPageToControl(r){this._pages.unshift(r),this.selectedPage=r;const t=(0,g.castPageConfigsToLookups)([r])[0];this._allItems.unshift(t),this.control.setValue(t)}_updatePage(r){let t=this._pages.findIndex(u=>u.uId===r.uId);if(t<0&&(t=this._pages.findIndex(u=>u.value===r.value)),t<0)return;const n=this._pages[t].value;this._pages[t]=r,this.selectedPage=r;const a=this._allItems.findIndex(u=>u.value===n),i=(0,g.castPageConfigsToLookups)([r])[0];this._allItems[a]=i,this.control.setValue(i)}onParamsChange(r){this.params={schemaName:this.selectedPage.value,modelInitConfigs:r?.modelInitConfigs},this.paramsChange.emit(this.params)}ngOnDestroy(){this._subscriptions.unsubscribe()}};Xe.\u0275fac=function(r){return new(r||Xe)(e.\u0275\u0275directiveInject(U.WINDOW_TOKEN),e.\u0275\u0275directiveInject(le.PagesListLoaderService),e.\u0275\u0275directiveInject(B.SchemaInfoService),e.\u0275\u0275directiveInject(P.TranslateService),e.\u0275\u0275directiveInject(B.AppInfoService),e.\u0275\u0275directiveInject(Qn.WorkspaceOpenCreateDialogService),e.\u0275\u0275directiveInject(U.BroadcastChannelFactory))},Xe.\u0275cmp=e.\u0275\u0275defineComponent({type:Xe,selectors:[["crt-page-select-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:7,consts:[["cdkScrollable","",1,"page-select-properties-panel","properties-panel-wrap"],[1,"select-page-container"],[1,"control",3,"items","useStaticFiltering","control","labelPosition","label"],[4,"ngIf","ngIfElse"],["addNewPageButton",""],["ariaLabel","ariaLabel","iconPosition","only-icon","shape","rounded",1,"open-page-in-designer-button",3,"icon","title","clicked"]],template:function(r,t){if(r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"crt-combobox",2),e.\u0275\u0275template(3,ms,2,2,"ng-container",3),e.\u0275\u0275template(4,gs,1,2,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()),r&2){const n=e.\u0275\u0275reference(5);e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.items)("useStaticFiltering",!0)("control",t.control)("labelPosition","above")("label",t.label),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isPageSelected)("ngIfElse",n)}},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtComboBoxComponent,x.CdkScrollable],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .page-select-properties-panel[_ngcontent-%COMP%]{width:100%;display:block}[_nghost-%COMP%]   .page-select-properties-panel[_ngcontent-%COMP%]   .select-page-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}[_nghost-%COMP%]   .page-select-properties-panel[_ngcontent-%COMP%]   .select-page-container[_ngcontent-%COMP%]   crt-combobox[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .page-select-properties-panel[_ngcontent-%COMP%]   .select-page-container[_ngcontent-%COMP%]   .open-page-in-designer-button[_ngcontent-%COMP%]{align-self:center}"],changeDetection:0}),Xe=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.OpenPageRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[Window,le.PagesListLoaderService,B.SchemaInfoService,P.TranslateService,B.AppInfoService,Qn.WorkspaceOpenCreateDialogService,U.BroadcastChannelFactory])],Xe);const hs=function(o){return{name:"test",type:o,isEmbedded:!0}};function Cs(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0,19,20),e.\u0275\u0275listener("viewElementShow",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onDsAttributePropertiesPanelShow(a))}),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("crtViewElement",e.\u0275\u0275pureFunction1(1,hs,t.propertiesComponentTypeName))}}function fs(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",9)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"ts-localizable-text-input",10,21),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.translate("Placeholder")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","placeholderValue")("label",t.translate("Placeholder"))}}function ys(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275element(1,"crt-checkbox",6),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("multiline"))("labelPosition","right")("label",t.translate("Multiline"))}}function Ss(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getBindToDataSourceErrorMessage())}}let ue=class extends J{constructor(){super(...arguments),this.isMasked=!1,this.isFormatValidated=!1,this.isMultilinePropertyVisible=!0}getPropertiesConfig(){return{...super.getPropertiesConfig(),multiline:{path:"itemConfig.multiline",dataValueType:l.DataValueType.Boolean},tooltipValue:{path:"itemConfig.tooltip",dataValueType:l.DataValueType.LOCALIZABLE_STRING}}}setFormValue(r,t){const n=this._dataSourcePanel;if(n){const i=n.propertiesForm.get("isMasked")?.value;typeof i=="boolean"&&(this.isMasked=i);const h=n.propertiesForm.get("isFormatValidated")?.value;typeof h=="boolean"&&(this.isFormatValidated=h),this.isMultilinePropertyVisible=n.propertiesVisibilityConfig?.isMultilinePropertyVisible}super.setFormValue(r,t)}ngOnInit(){super.ngOnInit(),this.changed$.subscribe(r=>{const t=r.changes.find(i=>i.path==="isMasked")?.value;typeof t=="boolean"&&(this.isMasked=t);const n=r.changes.find(i=>i.path==="isFormatValidated")?.value;typeof n=="boolean"&&(this.isFormatValidated=n);const a=r.changes.find(i=>i.path==="type")?.value;typeof a=="number"&&(this.isMultilinePropertyVisible=a!==l.DataValueType.EMAIL_TEXT&&a!==l.DataValueType.WEB_TEXT)})}onDsAttributePropertiesPanelShow(r){super.onDsAttributePropertiesPanelShow(r),this._dataSourcePanel=r.componentRef.instance}};ue.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(ue)))(t||ue)}}(),ue.\u0275cmp=e.\u0275\u0275defineComponent({type:ue,selectors:[["crt-text-input-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:31,vars:32,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[3,"crtViewElement","viewElementShow",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"crt-control-form-field-wrapper"],[3,"control","labelPosition","label"],[3,"formGroup"],[3,"items","useStaticFiltering","control","labelPosition","label"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","label"],["titleOnPage",""],["class","form-field-wrapper",4,"ngIf"],["tooltip",""],["class","crt-control-form-field-wrapper",4,"ngIf"],["floatLabel","always",1,"form-field-wrapper"],["matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl","errorStateMatcher"],["svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[4,"ngIf"],[3,"crtViewElement","viewElementShow"],["DataSourceAttributePropertiesPanel",""],["placeholder",""]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275template(2,Cs,2,3,"ng-container",2),e.\u0275\u0275elementStart(3,"form",3)(4,"crt-expansion-panel",4)(5,"div",5),e.\u0275\u0275element(6,"crt-checkbox",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(7,"crt-properties-panel-visibility-settings",7),e.\u0275\u0275elementStart(8,"crt-expansion-panel",4)(9,"div",5),e.\u0275\u0275element(10,"crt-combobox",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-form-field",9)(12,"mat-label"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"ts-localizable-text-input",10,11),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,fs,5,3,"mat-form-field",12),e.\u0275\u0275elementStart(17,"mat-form-field",9)(18,"mat-label"),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"ts-localizable-text-input",10,13),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(22,ys,2,3,"div",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"crt-properties-panel-advanced-settings",7)(24,"mat-form-field",15)(25,"mat-label"),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"input",16),e.\u0275\u0275elementStart(29,"mat-icon",17),e.\u0275\u0275listener("click",function(){return t.onSelectDataSourceClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(30,Ss,2,1,"mat-error",18),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.getTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.propertiesComponentTypeName),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("Editability")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("readonly"))("labelPosition","right")("label",t.translate("EditabilityControls.Readonly")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.getLookupItems("labelPosition"))("useStaticFiltering",!0)("control",t.getControl("labelPosition"))("labelPosition","above")("label",t.translate("LabelPosition")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("TitleOnPage")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","titleOnPage")("label",t.translate("TitleOnPage")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.isMasked),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("Tooltip")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","tooltipValue")("label",t.translate("Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.isMasked&&t.isMultilinePropertyVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,30,"PropertiesPages.BaseInputPropertiesPanel.BindToDataSourceCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("readonly",!0)("formControl",t.bindToDataSource)("errorStateMatcher",t.anyErrorStateMatcher),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.bindToDataSource.invalid))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,p.FormControlName,V.ViewElementDirective,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,D,F,A,P.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),ue=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.TextInputPropertiesPanelComponent",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],ue);const bs=function(o){return{name:"test",type:o,isEmbedded:!0}};function Ps(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0,18,19),e.\u0275\u0275listener("viewElementShow",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onDsAttributePropertiesPanelShow(a))}),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("crtViewElement",e.\u0275\u0275pureFunction1(1,bs,t.propertiesComponentTypeName))}}function _s(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getBindToDataSourceErrorMessage())}}let Ye=class extends ue{};Ye.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Ye)))(t||Ye)}}(),Ye.\u0275cmp=e.\u0275\u0275defineComponent({type:Ye,selectors:[["crt-phone-text-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:34,vars:33,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[3,"crtViewElement","viewElementShow",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"crt-control-form-field-wrapper"],[3,"control","labelPosition","label"],[3,"formGroup"],[3,"items","useStaticFiltering","control","labelPosition","label"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","label"],["titleOnPage",""],["placeholder",""],["tooltip",""],["floatLabel","always",1,"form-field-wrapper"],["matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl","errorStateMatcher"],["svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[4,"ngIf"],[3,"crtViewElement","viewElementShow"],["DataSourceAttributePropertiesPanel",""]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275template(2,Ps,2,3,"ng-container",2),e.\u0275\u0275elementStart(3,"form",3)(4,"crt-expansion-panel",4)(5,"div",5),e.\u0275\u0275element(6,"crt-checkbox",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(7,"crt-properties-panel-visibility-settings",7),e.\u0275\u0275elementStart(8,"crt-expansion-panel",4)(9,"div",5),e.\u0275\u0275element(10,"crt-combobox",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-form-field",9)(12,"mat-label"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"ts-localizable-text-input",10,11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"mat-form-field",9)(17,"mat-label"),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"ts-localizable-text-input",10,12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"mat-form-field",9)(22,"mat-label"),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"ts-localizable-text-input",10,13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"crt-properties-panel-advanced-settings",7)(27,"mat-form-field",14)(28,"mat-label"),e.\u0275\u0275text(29),e.\u0275\u0275pipe(30,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(31,"input",15),e.\u0275\u0275elementStart(32,"mat-icon",16),e.\u0275\u0275listener("click",function(){return t.onSelectDataSourceClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(33,_s,2,1,"mat-error",17),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.getTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.propertiesComponentTypeName),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("Editability")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("readonly"))("labelPosition","right")("label",t.translate("EditabilityControls.Readonly")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.getLookupItems("labelPosition"))("useStaticFiltering",!0)("control",t.getControl("labelPosition"))("labelPosition","above")("label",t.translate("LabelPosition")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("TitleOnPage")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","titleOnPage")("label",t.translate("TitleOnPage")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",t.translate("Placeholder")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","placeholderValue")("label",t.translate("Placeholder")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",t.translate("Tooltip")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","tooltipValue")("label",t.translate("Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(30,31,"PropertiesPages.BaseInputPropertiesPanel.BindToDataSourceCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("readonly",!0)("formControl",t.bindToDataSource)("errorStateMatcher",t.anyErrorStateMatcher),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.bindToDataSource.invalid))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,p.FormControlName,V.ViewElementDirective,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,D,F,A,P.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),Ye=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.PhoneTextPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Ye);function vs(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-label",7),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.translate("GeneralGroup.EmptyDataSourceHint")," ")}}function Ts(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"crt-label",8),e.\u0275\u0275text(2),e.\u0275\u0275element(3,"span",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"crt-button",10),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openPlaybooks())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.translate("GeneralGroup.Tooltip")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("innerHTML",t.translate("GeneralGroup.AcademyLink"),e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(1),e.\u0275\u0275property("caption",t.translate("GeneralGroup.OpenPlaybookButton"))}}function ws(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-attribute-mapping",11),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("formControl",t.dcmRelationRecordControl)("extraStructureExplorerProviderConfig",t.extraDataProviderConfig)}}let cr=class extends L{getPropertiesConfig(){return{...super.getPropertiesConfig(),dcmRelationRecord:{path:"itemConfig._designOptions.dcmRelationRecord",dataValueType:l.DataValueType.Text,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override},sourceName:{path:"itemConfig._designOptions.sourceName",dataValueType:l.DataValueType.Text,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Merge},templateValuesMapping:{path:"itemConfig._designOptions.templateValuesMapping",dataValueType:l.DataValueType.CUSTOM_OBJECT,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Merge}}}get hasDataSource(){return this._hasDataSource}get dcmRelationRecordControl(){return this._dcmRelationRecordControl}get extraDataProviderConfig(){return this._extraDataProviderConfig}constructor(r,t){super(t),this._window=r,this._dcmRelationRecordControl=new p.FormControl,this._extraDataProviderConfig={itemsCustomFilterFunction:this._filterStructureExplorerItems.bind(this)},this._defaultSourceSchemaName="KnowledgeBase",this._defaultDataSourceName="Playbook_KnowledgeBaseDS",this._defaultCollectionAttributeName="Playbook_KnowledgeBase",this.translatePrefix="InterfaceDesigner.PropertiesPages.PlaybookPropertiesPage",this._designerSchemaService=this.injector.get(_.DesignerSchemaService),this._designerEntityDataSourceService=this.injector.get(m.DesignerEntityDataSourceService),this._dataSourceDependencySettingService=this.injector.get(m.DataSourceDependencySettingService),this._dcmSettingsService=this.injector.get(B.DcmSettingsService),this._designerEntityService=this.injector.get(m.DesignerEntityService),this._maskService=this.injector.get(l.MaskService)}_subscribeToSchemaChanged(){this._designerSchemaService.schemaChanged$.pipe((0,d.filter)(({changes:{parentName:r,operation:t}})=>r===this.config.name&&t===m.MetaItemDesignSettingChangesOperation.CreateDataSource),(0,d.switchMap)(()=>this._initDataSource()),(0,d.takeUntil)(this.destroyed$)).subscribe()}_initDataSource(){return this._designerEntityDataSourceService.getDataSources$().pipe((0,d.take)(1),(0,d.switchMap)(r=>{const t=this._getPrimaryDataSource(r);if(t){this._hasDataSource=!0;const n=`${t.dataSourceName}.Id`,a=this._designerSchemaService.findAllAttributesByDataSourceAttributePath(n),i=`$${a?.length>0?a[0]:this._designerSchemaService.getOrAddViewModelAttribute("Id",t.dataSourceName)}`;i&&this._initDcmRelationRecordControlValue(i),this.changeDetector.detectChanges()}return(0,d.of)(null)}),(0,d.map)(()=>{}))}_getPrimaryDataSource(r){if(!r?.length)return null;const t=this._designerSchemaService.getPrimaryDataSourceName();return r.find(n=>n.dataSourceName===t)}_openPlaybooksSection(){const r=(0,g.getWorkspaceBaseUrl)()+"shell/#Section/Playbooks_ListPage";this._window.open(r).focus()}_filterStructureExplorerItems(r){return[l.DataValueType.Lookup,l.DataValueType.Guid].includes(r.data?.item.dataValueType)}_initDcmRelationRecordControlValue(r=null){this._dcmRelationRecordChanged$?.unsubscribe();const n=this.config.itemConfig._designOptions?.dcmRelationRecord||r;this._dcmRelationRecordChanged$=this.dcmRelationRecordControl.valueChanges.pipe((0,d.takeUntil)(this.destroyed$)).subscribe(a=>{this.getControl("dcmRelationRecord").setValue(a.value,{onlySelf:!0}),this._updateStageDependency(a.value)}),this.dcmRelationRecordControl.setValue({attributeName:"dcmRelationRecord",value:n,caption:this.translate("SelectDataSource"),dataValueType:l.DataValueType.Guid},{onlySelf:!0})}_createDS(){const t=["Id","Name","Notes","Type","ModifiedOn","CreatedBy"].map(n=>({[n]:{path:n}}));this._designerSchemaService.isDataSourceExists(this._defaultDataSourceName)||this._designerSchemaService.createDataSource(this._defaultDataSourceName,{type:"crt.EntityDataSource",scope:l.DataSourceScope.ViewElement,config:{entitySchemaName:this._defaultSourceSchemaName,attributes:t}})}_initColumnsMapping(){this._createDS();const r=this.config.itemConfig;r._designOptions=r._designOptions||{},r._designOptions.sourceName=this._defaultSourceSchemaName,r._designOptions.templateValuesMapping={};const t=this._createEmptyViewModelAttributeConfig(this._defaultDataSourceName),n=t.viewModelConfig.attributes;this._addColumnMapping(n,s.PlaybookItemColumnTypeNames.Id,"Id"),this._addColumnMapping(n,s.PlaybookItemColumnTypeNames.Caption,"Name"),this._addColumnMapping(n,s.PlaybookItemColumnTypeNames.Content,"Notes"),this._addColumnMapping(n,s.PlaybookItemColumnTypeNames.Author,"CreatedBy"),this._addColumnMapping(n,s.PlaybookItemColumnTypeNames.ModifiedOn,"ModifiedOn"),this._addColumnMapping(n,s.PlaybookItemColumnTypeNames.Type,"Type"),this._createViewModelAttribute(r,t)}_createViewModelAttribute(r,t){r.items||(r.items=`$${this._defaultCollectionAttributeName}`,this._designerSchemaService.isViewModelAttributeExists(this._defaultCollectionAttributeName)||this._designerSchemaService.createViewModelAttribute(this._defaultCollectionAttributeName,t))}_createEmptyViewModelAttributeConfig(r){return{isCollection:!0,modelConfig:{path:r},viewModelConfig:{attributes:{}}}}_addColumnMapping(r,t,n){const a=this.config.itemConfig,i=`${this._defaultDataSourceName}_${n}`,u=`${this._defaultDataSourceName}.${n}`;r[i]={modelConfig:{path:u}},a._designOptions.templateValuesMapping[t]=i}_updateStageDependency(r){const t=this._designerSchemaService.getMappedDataSourceAttributePath(r.replace("$","")),n=this._getColumnPath(t);let a=t,i;t.split(".")[1]==="Id"&&(i=n.split(".")[0],a=t.split(".")[0]),this._maskService.showBodyMask(),(i?(0,d.of)(i):this._designerEntityService.getReferenceColumn(n).pipe((0,d.take)(1),(0,d.map)(h=>h?.referenceSchema?.name))).pipe((0,d.take)(1),(0,d.switchMap)(h=>this._dcmSettingsService.getStageColumnName(h))).subscribe(h=>{const b={targetDsAttributeName:"[PlaybookStage:KnowledgeBase:Id].DcmStageValue",matchedDsAttributeName:h,matchedDsName:a,targetDsName:this._defaultCollectionAttributeName};this._dataSourceDependencySettingService.updateByCollectionAttributeName(this._defaultCollectionAttributeName,[b]),this._maskService.hideBodyMask()})}_getColumnPath(r){const[t,n]=r.split("."),a=this._designerSchemaService.getDataSourceConfigAttributePath(t,n)||n;return[this._designerSchemaService.getDataSourceConfigByName(t).entitySchemaName,a].join(".")}ngAfterViewInit(){this._subscribeToSchemaChanged()}loadData(r){return this._initColumnsMapping(),this._initDataSource().pipe((0,d.switchMap)(()=>super.loadData(r)))}openPlaybooks(){this._openPlaybooksSection()}};cr.\u0275fac=function(r){return new(r||cr)(e.\u0275\u0275directiveInject(U.WINDOW_TOKEN),e.\u0275\u0275directiveInject(e.Injector))},cr.\u0275cmp=e.\u0275\u0275defineComponent({type:cr,selectors:[["crt-playbook-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:9,vars:9,consts:[["cdkScrollable","",1,"properties-panel-wrap","playbook-properties-panel"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],["class","control",4,"ngIf"],[4,"ngIf"],["ngDefaultControl","",3,"formControl","extraStructureExplorerProviderConfig",4,"ngIf"],[1,"control"],[1,"control","tooltip"],[1,"link",3,"innerHTML"],["shape","rounded","color","primary","icon","open-button-icon","iconPosition","left-icon",3,"caption","clicked"],["ngDefaultControl","",3,"formControl","extraStructureExplorerProviderConfig"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3),e.\u0275\u0275template(4,vs,2,1,"crt-label",4),e.\u0275\u0275template(5,Ts,5,3,"ng-container",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"crt-properties-panel-visibility-settings",1),e.\u0275\u0275elementStart(7,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275template(8,ws,1,2,"crt-attribute-mapping",6),e.\u0275\u0275elementEnd()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup.Caption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.hasDataSource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasDataSource),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasDataSource))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,x.CdkScrollable,D,Z,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"],changeDetection:0}),cr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.PlaybookPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[Object,e.Injector])],cr);class ur{}ur.\u0275fac=function(r){return new(r||ur)},ur.\u0275mod=e.\u0275\u0275defineNgModule({type:ur}),ur.\u0275inj=e.\u0275\u0275defineInjector({providers:[B.DcmSettingsService],imports:[f.CommonModule,s.CrtComboBoxModule,s.CrtExpansionPanelModule,P.TranslateModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(ur,{imports:[f.CommonModule,s.CrtComboBoxModule,s.CrtExpansionPanelModule,P.TranslateModule]})}();class yn extends W{constructor(){super(...arguments),this._dataSourcesLookupValuesProvider=(0,e.inject)(H),this._selectionViewElementConfigProvider=(0,e.inject)(R.SelectionViewElementConfigProvider),this._filteringRequestParamsBindingConfigCreator=(0,e.inject)(se),this.destroyed$=new d.Subject,this.loading=!1,this.selectedDataSource=new p.FormControl(null),this.availableDataSources=[]}get params(){return super.params}set params(r){super.params=r,this._setSelectedDataSource(r?.dataSourceName,{emitEvent:!1})}_setSelectedDataSource(r,t){const n=this.selectedDataSource.value,a=this.availableDataSources.find(i=>i.value===r);a?.value!==n?.value&&this.selectedDataSource.setValue(a,{emitEvent:t?.emitEvent})}_subscribeSelectedDataSourceChanges(){this.selectedDataSource.valueChanges.pipe((0,c.distinctUntilChanged)(),(0,c.tap)(r=>this.onSelectedDataSourceChanged(r)),(0,c.takeUntil)(this.destroyed$)).subscribe()}_subscribeAvailableDataSourcesChanges(){this.loading=!0,this._getAvailableDataSourcesChanges().pipe((0,c.tap)(r=>this._onAvailableDataSourcesChanged(r)),(0,c.tap)(()=>this.loading=!1),(0,c.takeUntil)(this.destroyed$)).subscribe()}_getAvailableDataSourcesChanges(){return this._dataSourcesLookupValuesProvider.get({scope:l.DataSourceScope.ViewElement}).pipe((0,c.map)(r=>r??[]),(0,c.map)(r=>r.filter(t=>this._selectionViewElementConfigProvider.isModelBoundToSelectionViewElement(t?.value))))}_onAvailableDataSourcesChanged(r){this.availableDataSources=r,this._setSelectedDataSource(this.params?.dataSourceName)}onSelectedDataSourceChanged(r){const t=r?.value,n=this._filteringRequestParamsBindingConfigCreator.createCollectionFilteringParams(t,{supportEmptySelection:!1});super.params={...this.params,...n,dataSourceName:t},this.paramsChange.emit(this.params)}ngOnInit(){this._subscribeSelectedDataSourceChanges(),this._subscribeAvailableDataSourcesChanges()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}yn.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(yn)))(t||yn)}}(),yn.\u0275dir=e.\u0275\u0275defineDirective({type:yn,inputs:{params:"params"},features:[e.\u0275\u0275InheritDefinitionFeature]});function Ds(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-icon-radio-button",3),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("control",t.dataSourceScopeControl)("items",t.dataSourceScopeOptions)("label",t.translate("PrintablesSettingsCaption"))}}function xs(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-combobox",4),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("items",t.availableDataSources)("useStaticFiltering",!0)("control",t.selectedDataSource)("label",t.translate("ViewSelectCaption"))("loading",t.loading)}}let dr=class extends yn{constructor(r,t){super(),this._translateService=r,this._designerSchemaService=t,this._translatePrefix="PropertiesPages.PrintablesRequestPropertiesPanel",this.dataSources=[],this.dataSourceScopeOptions=[{value:l.DataSourceScope.Page,caption:this.translate("PrintOnRecord")},{value:l.DataSourceScope.ViewElement,caption:this.translate("PrintOnList")}],this.dataSourceScopeControl=new p.FormControl,this.selectedDataSource=new p.FormControl(null),this.showDataSourceScopeSelection=!1}get showViewControl(){return this.showDataSourceScopeSelection?this.dataSourceScopeControl.value===l.DataSourceScope.ViewElement:!0}get params(){return super.params}set params(r){const t=(0,y.isEmpty)(r)?this._getDefaultDataSourceRequestParams():r;super.params=t,(0,y.isEmpty)(r)&&this._primaryDataSourceName&&requestAnimationFrame(()=>{this.paramsChange.emit(this.params)}),this._initDataSourceControl(t)}_initDataSourceControl(r){let t=l.DataSourceScope.ViewElement;!(0,y.isEmpty)(this._primaryDataSourceName)&&r?.dataSourceName===this._primaryDataSourceName&&(t=l.DataSourceScope.Page),this.dataSourceScopeControl.setValue(t,{emitEvent:!1})}_subscribeDataSourceScopeChanges(){this.dataSourceScopeControl.valueChanges.pipe((0,d.takeUntil)(this.destroyed$)).subscribe(r=>{let t;r===l.DataSourceScope.ViewElement&&(t=this.selectedDataSource.value),r===l.DataSourceScope.Page&&(t={value:this._primaryDataSourceName}),this.onSelectedDataSourceChanged(t)})}_getDefaultDataSourceRequestParams(){const r={},t=this._primaryDataSourceName;return t&&(r.dataSourceName=t),r}translate(r){return this._translateService.instant(`${this._translatePrefix}.${r}`)}ngOnInit(){super.ngOnInit(),this._subscribeDataSourceScopeChanges(),this._primaryDataSourceName=this._designerSchemaService.getPrimaryDataSourceName(),this.showDataSourceScopeSelection=!!this._primaryDataSourceName}};dr.\u0275fac=function(r){return new(r||dr)(e.\u0275\u0275directiveInject(P.TranslateService),e.\u0275\u0275directiveInject(_.DesignerSchemaService))},dr.\u0275cmp=e.\u0275\u0275defineComponent({type:dr,selectors:[["crt-printables-request-properties-panel"]],inputs:{params:"params"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["cdkScrollable","",1,"properties-panel-wrap"],["class","control data-source-scope-selection","direction","column",3,"control","items","label",4,"ngIf"],["class","data-source-control","labelPosition","above",3,"items","useStaticFiltering","control","label","loading",4,"ngIf"],["direction","column",1,"control","data-source-scope-selection",3,"control","items","label"],["labelPosition","above",1,"data-source-control",3,"items","useStaticFiltering","control","label","loading"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Ds,1,3,"crt-icon-radio-button",1),e.\u0275\u0275template(2,xs,1,5,"crt-combobox",2),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showDataSourceScopeSelection),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showViewControl))},dependencies:[f.NgIf,s.CrtComboBoxComponent,s.CrtIconRadioButtonComponent,x.CdkScrollable],styles:[".data-source-scope-selection[_ngcontent-%COMP%]{width:100%}crt-skeleton-loader[_ngcontent-%COMP%]{cursor:wait}"]}),dr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.PrintablesRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[P.TranslateService,_.DesignerSchemaService])],dr);const N=o=>o;class kn{set settings(r){this.quickFilterSettings=r,this.setPropertiesPanelComponent(),this.changeDetectorRef.detectChanges()}get settings(){return this.quickFilterSettings}constructor(r){this._injector=r,this.settingsChange=new e.EventEmitter,this.initDependencies(r)}initDependencies(r){this.changeDetectorRef=r.get(e.ChangeDetectorRef)}setPropertiesPanelComponent(){}}kn.\u0275fac=function(r){return new(r||kn)(e.\u0275\u0275directiveInject(e.Injector))},kn.\u0275dir=e.\u0275\u0275defineDirective({type:kn,inputs:{itemName:"itemName",settings:"settings"},outputs:{settingsChange:"settingsChange"}});class mr extends kn{constructor(){super(...arguments),this.destroyed$=new d.Subject,this.translatePrefix="",this.targetsData=[],this.defaultValue=new p.FormControl,this.additionalFilterHidden=!0}get availableViewAttributes(){return this.settings?.availableViewAttributes||[]}get targets(){return this.settings?.targets||[]}_onTargetsDataChange(){this._subscribeOnTargetsDataFormControlsChange(),this.updateAndEmitSettingsChange()}_setupTargetsData(){const r=this.getDefaultTargetControls();this.targetsData=this._createTargetsDataByControls(r),this.targetsData.length===0&&this.targetsData.push(r),this._applyAvailableViewAttributes(this.targetsData),this._setIsShowGeneralAdditionalFieldsState()}_createTargetsDataByControls(r){return this.targets.map(t=>{const n={};return Object.keys(r).forEach(a=>{const i=new p.FormControl;a in t&&this._setControlValue(i,a,(0,y.get)(t,a)),n[a]=i}),n})}_setupConfigFormControls(){this.getDefaultConfigControlNames().forEach(t=>{const n=this.getConfigControlByName(t);!n||this._setConfigControlValue(n,t)})}_setConfigControlValue(r,t){if(t in(this.settings?.config??{})){this._setControlValue(r,t,(0,y.get)(this.settings?.config,t),!1);return}this._setControlValue(r,t,this.getDefaultConfigValueByPropertyName(t),!1)}_subscribeOnTargetsDataFormControlsChange(){const r=Object.keys(this.getDefaultTargetControls());this.targetsData.forEach(t=>{Object.entries(t).forEach(([n,a])=>{!r.some(i=>i===n)||a instanceof p.FormControl&&a.valueChanges.pipe((0,c.filter)(()=>a.valid),(0,d.takeUntil)(this.destroyed$)).subscribe(()=>{if(this.updateAndEmitSettingsChange(),n===N("viewAttributeName")){this.onViewAttributeChanged(t);return}this.onTargetDataControlValueChange(t,n)})})})}_subscribeOnConfigFormControlsChange(){this.getDefaultConfigControlNames().forEach(t=>{const n=this.getConfigControlByName(t);!n||n.valueChanges.pipe((0,c.filter)(()=>n.valid),(0,d.takeUntil)(this.destroyed$)).subscribe(()=>{this.updateAndEmitSettingsChange()})})}_applyAvailableViewAttributes(r){r.forEach(t=>{t.availableViewAttributes=this._getAvailableViewAttributesForTarget(this.getTargetDataFormControl(t,"viewAttributeName"),r.map(n=>this.getTargetDataFormControl(n,"viewAttributeName")))}),this.changeDetectorRef.detectChanges()}_getAvailableViewAttributesForTarget(r,t){return this.availableViewAttributes.filter(n=>this._filterAvailableViewAttributeByControl(n,r,t)).map(n=>({value:n.value,displayValue:n.caption}))}_filterAvailableViewAttributeByControl(r,t,n){const a=this.getControlValue(t);return!n.some(u=>this.getControlValue(u)===r.value)||a===r.value}_setControlValue(r,t,n,a=!0){if(t===N("viewAttributeName")){this._setViewAttributeNameControlValue(r,n);return}r.setValue(n,{emitEvent:a})}_setViewAttributeNameControlValue(r,t){const n=this.availableViewAttributes.find(a=>a.value===t);n&&r.setValue({value:n.value,displayValue:n.caption})}_setIsShowGeneralAdditionalFieldsState(){this.additionalFilterHidden=!this.targetsData?.some(r=>!(0,y.isEmpty)(this.getTargetDataFormControl(r,"viewAttributeName")?.value))}_updateQuickFilterSettings(){this.quickFilterSettings={...this.quickFilterSettings,targets:this.targetsData.map(this.createObjectFromTargetData.bind(this)),config:this._createObjectFromConfigControls()}}_createObjectFromConfigControls(){const r={};return this.getDefaultConfigControlNames().forEach(n=>{const a=this.getConfigControlByName(n);!a||(r[n]=this.getControlValue(a))}),r}_emitSettingsChange(){this.settingsChange.emit(this.settings)}_isLookupValue(r){return r!==null&&typeof r=="object"&&"value"in r&&"displayValue"in r}initDependencies(r){super.initDependencies(r),this.translateService=r.get(P.TranslateService)}createObjectFromTargetData(r){const t={},n=this.getDefaultTargetControls();return Object.keys(n).forEach(a=>{a in r&&(t[a]=this.getControlValue(r[a]))}),t}getControlValue(r){const t=r.value;return this._isLookupValue(t)?(0,y.get)(t,"value"):t}getDefaultConfigValueByPropertyName(r){return null}setPropertiesPanelComponent(){this._setupTargetsData(),this.afterSetupTargetsData(),this._setupConfigFormControls(),this._subscribeOnTargetsDataFormControlsChange(),this._subscribeOnConfigFormControlsChange()}createNewTargetData(){return this.getDefaultTargetControls()}getDefaultTargetControls(){return{[N("viewAttributeName")]:new p.FormControl}}getDefaultConfigControlNames(){return[N("defaultValue")]}onViewAttributeChanged(r){this._setIsShowGeneralAdditionalFieldsState(),this._applyAvailableViewAttributes(this.targetsData)}onTargetDataControlValueChange(r,t){}getConfigControlByName(r){return r in this?this[r]:null}getTargetDataFormControl(r,t){return r[t]}updateAndEmitSettingsChange(){this._updateQuickFilterSettings(),this._emitSettingsChange()}afterSetupTargetsData(){}onAddTarget(){const r=this.createNewTargetData();this.targetsData.push(r),this._applyAvailableViewAttributes(this.targetsData),this._onTargetsDataChange()}onDeleteTarget(r){if(this.targetsData.splice(r,1),this.targetsData.length===0){this.onAddTarget();return}this._applyAvailableViewAttributes(this.targetsData),this._onTargetsDataChange()}translate(r){return this.translateService.instant(`${this.translatePrefix}.${r}`)}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}mr.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(mr)))(t||mr)}}(),mr.\u0275dir=e.\u0275\u0275defineDirective({type:mr,hostVars:2,hostBindings:function(r,t){r&2&&e.\u0275\u0275classProp("crt-quick-filter-general-additional-fields-hidden",t.additionalFilterHidden)},features:[e.\u0275\u0275InheritDefinitionFeature]});class Sn extends mr{constructor(){super(...arguments),this._entitySchemasAttributes=[]}_setupEntitySchemasAttributesData(){this.subscriptions$?.unsubscribe(),this.subscriptions$=new d.Subscription,this._setupAvailableEntitySchemasAttributes()}_setupAvailableEntitySchemasAttributes(){this.targetsData.forEach(this._setupAvailableEntitySchemasAttributesByTargetData.bind(this))}_setupAvailableEntitySchemasAttributesByTargetData(r){const t=this.findEntitySchemaNameByTarget(r);if(!t){this._setAvailableFilterColumnToTargetData(r,[]);return}if(this._findEntitySchemaAttribute(t)){this.applyAvailableFilterColumnsToTargetData(r);return}this.subscriptions$.add(this.getSchema(t).pipe((0,c.tap)(this._addEntitySchemaAttributes.bind(this))).subscribe(()=>this.applyAvailableFilterColumnsToTargetData(r)))}_addEntitySchemaAttributes(r){if(this._findEntitySchemaAttribute(r.name))return;const t=this.filterDataSchemaAttributes(r.attributes);this._entitySchemasAttributes.push({entitySchemaName:r.name,attributes:t.map(this.createTargetAttribute)})}_setAvailableFilterColumnToTargetData(r,t){r.availableFilterColumns=t.map(n=>({value:n.value,displayValue:n.caption}))||[],this.setTargetDataFilterColumnsValue(r),this.changeDetectorRef.detectChanges()}_findEntitySchemaAttribute(r){return this._entitySchemasAttributes.find(t=>t.entitySchemaName===r)}initDependencies(r){super.initDependencies(r),this._designerDataSchemaRepository=r.get(m.DesignerDataSchemaRepository)}setPropertiesPanelComponent(){super.setPropertiesPanelComponent(),this._setupEntitySchemasAttributesData()}applyAvailableFilterColumnsToTargetData(r){const t=this.findEntitySchemaNameByTarget(r);if(!t){this._setAvailableFilterColumnToTargetData(r,[]);return}const n=this._findEntitySchemaAttribute(t),a=this.createAvailableAttributes(n?.attributes||[],r);this._setAvailableFilterColumnToTargetData(r,a)}createAvailableAttributes(r,t){return r}setTargetDataFilterColumnsValue(r){this.setTargetDataFilterColumnValueIfNeed(r,"filterColumn")}setTargetDataFilterColumnValueIfNeed(r,t){const n=this.getTargetDataFormControl(r,t),a=this.getControlValue(n);if((0,y.isEmpty)(a))return;const i=this._getSelectedAvailableAttribute(r,a);if(!i){n.setValue(null);return}n.setValue(i,{emitEvent:!1})}_getSelectedAvailableAttribute(r,t){return r.availableFilterColumns.find(a=>a.value===t)}resetTargetDataFilterColumns(r){this.resetTargetDataFilterColumnIfNeed(r,"filterColumn")}resetTargetDataFilterColumnIfNeed(r,t){const n=this.getTargetDataFormControl(r,t);(0,y.isEmpty)(this.getControlValue(n))||n.setValue(null)}getTargetDataViewAttributeNameValue(r){return this.getControlValue(this.getTargetDataFormControl(r,"viewAttributeName"))}getTargetDataFilterColumnValue(r){return this.getControlValue(this.getTargetDataFormControl(r,"filterColumn"))}createTargetAttribute(r){return{caption:r.caption,value:r.name}}findEntitySchemaNameByTarget(r){return this.availableViewAttributes.find(t=>t.value===this.getTargetDataViewAttributeNameValue(r))?.entitySchemaName}getSchema(r){return this._designerDataSchemaRepository.getSchema(r)}getDefaultTargetControls(){return{...super.getDefaultTargetControls(),[N("filterColumn")]:new p.FormControl}}onViewAttributeChanged(r){super.onViewAttributeChanged(r),this.resetTargetDataFilterColumns(r),this._setupAvailableEntitySchemasAttributesByTargetData(r)}ngOnDestroy(){super.ngOnDestroy(),this.subscriptions$?.unsubscribe()}}Sn.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Sn)))(t||Sn)}}(),Sn.\u0275dir=e.\u0275\u0275defineDirective({type:Sn,features:[e.\u0275\u0275InheritDefinitionFeature]});function Ms(o,r){o&1&&e.\u0275\u0275elementContainer(0)}const Is=function(o){return{targetData:o}};class gr{constructor(){this.deleted=new e.EventEmitter}get availableViewAttributes(){return this.targetData?.availableViewAttributes||[]}get viewAttributeNameControl(){return this.targetData?.[N("viewAttributeName")]||new p.FormControl}onDeleteTarget(){this.deleted.emit()}}gr.\u0275fac=function(r){return new(r||gr)},gr.\u0275cmp=e.\u0275\u0275defineComponent({type:gr,selectors:[["crt-quick-filter-target"]],inputs:{targetData:"targetData",additionalTemplate:"additionalTemplate"},outputs:{deleted:"deleted"},decls:7,vars:10,consts:[[1,"crt-quick-filter-target-wrapper"],[1,"crt-quick-filter-target"],["labelPosition","above",3,"control","items","useStaticFiltering","label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"crt-quick-filter-target-delete-button",3,"click"],["svgIcon","cross",1,"crt-quick-filter-target-delete-button-icon"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"crt-combobox",2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275template(4,Ms,1,0,"ng-container",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",4),e.\u0275\u0275listener("click",function(){return t.onDeleteTarget()}),e.\u0275\u0275element(6,"mat-icon",5),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(3,6,"QuickFilterTarget.ViewAttributeLabel")),e.\u0275\u0275property("control",t.viewAttributeNameControl)("items",t.availableViewAttributes)("useStaticFiltering",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",t.additionalTemplate)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(8,Is,t.targetData)))},dependencies:[f.NgTemplateOutlet,s.CrtComboBoxComponent,I.MatIcon,P.TranslatePipe],styles:[".crt-quick-filter-target-wrapper[_ngcontent-%COMP%]{display:flex;padding-top:9px;padding-inline-end:8px}.crt-quick-filter-target-wrapper[_ngcontent-%COMP%]   .crt-quick-filter-target[_ngcontent-%COMP%]{flex-grow:1;padding:0 14px 8px;min-width:0}.crt-quick-filter-target-wrapper[_ngcontent-%COMP%]   .crt-quick-filter-target-delete-button[_ngcontent-%COMP%]{padding:0;border:none;background-color:transparent;display:flex;align-items:center;justify-content:center;width:16px;height:16px;cursor:pointer}"],changeDetection:0});function Es(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-quick-filter-target",5),e.\u0275\u0275listener("deleted",function(){const i=e.\u0275\u0275restoreView(t).index,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onDeleted(i))}),e.\u0275\u0275elementEnd()}if(o&2){const t=r.$implicit,n=r.index,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("targetData",t)("additionalTemplate",a.additionalTemplate),e.\u0275\u0275attribute("data-item-marker","quick-filter-target-"+n)}}class _e{constructor(){this.availableViewAttributes=[],this.targetsData=[],this.addTarget=new e.EventEmitter,this.deleteTarget=new e.EventEmitter}get disabledAddButton(){return this.availableViewAttributes.length<=this.targetsData.length||this.targetsData.some(r=>(0,y.isEmpty)((0,y.get)(r.viewAttributeName.value,"value")))}addTargetClick(){this.addTarget.emit()}onDeleted(r){this.deleteTarget.emit(r)}}_e.\u0275fac=function(r){return new(r||_e)},_e.\u0275cmp=e.\u0275\u0275defineComponent({type:_e,selectors:[["crt-quick-filter-targets-group"]],inputs:{availableViewAttributes:"availableViewAttributes",targetsData:"targetsData",additionalTemplate:"additionalTemplate"},outputs:{addTarget:"addTarget",deleteTarget:"deleteTarget"},decls:8,vars:8,consts:[[1,"crt-quick-filter-targets-group-header"],["required","true","labelType","caption",1,"crt-quick-filter-targets-group-header-caption"],["svgIcon","info","matTooltipPosition","below",1,"crt-quick-filter-targets-group-header-tooltip",3,"matTooltip"],["afterLabelContent","","color","default","icon","plus","iconPosition","only-icon","shape","rounded",1,"crt-quick-filter-targets-group-header-add-button",3,"disabled","clicked"],[3,"targetData","additionalTemplate","deleted",4,"ngFor","ngForOf"],[3,"targetData","additionalTemplate","deleted"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"crt-label",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"mat-icon",2),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementStart(6,"crt-button",3),e.\u0275\u0275listener("clicked",function(){return t.addTargetClick()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,Es,1,3,"crt-quick-filter-target",4)),r&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"QuickFilterTargetsGroup.Label")),e.\u0275\u0275advance(2),e.\u0275\u0275property("matTooltip",e.\u0275\u0275pipeBind1(5,6,"QuickFilterTargetsGroup.Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.disabledAddButton),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.targetsData))},dependencies:[f.NgForOf,s.CrtButtonComponent,s.CrtLabelComponent,I.MatIcon,X.MatLegacyTooltip,gr,P.TranslatePipe],styles:[".crt-quick-filter-targets-group-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.crt-quick-filter-targets-group-header[_ngcontent-%COMP%]   .crt-quick-filter-targets-group-header-caption[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.crt-quick-filter-targets-group-header[_ngcontent-%COMP%]   .crt-quick-filter-targets-group-header-caption-label[_ngcontent-%COMP%]{flex:1}.crt-quick-filter-targets-group-header[_ngcontent-%COMP%]   .crt-quick-filter-targets-group-header-tooltip[_ngcontent-%COMP%]{width:16px;height:16px}.crt-quick-filter-targets-group-header[_ngcontent-%COMP%]   .crt-quick-filter-targets-group-header-add-button[_ngcontent-%COMP%]{padding:0;border:none;background-color:transparent;display:flex;align-items:center;justify-content:center;cursor:pointer}"],changeDetection:0});function Fs(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"crt-data-source-dependencies-setting",6),e.\u0275\u0275listener("dependenciesSettingChange",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext().targetData,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onDataSourceDependenciesChange(a,i))}),e.\u0275\u0275elementEnd()()}if(o&2){const t=e.\u0275\u0275nextContext().targetData,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("dataSourceSelectOptions",n.availableDataSourceSelectOptions)("currentDataSource",t.dataSource)("targetDataSourceName",t.dataSourceName)("dependenciesSetting",t.dependenciesSetting)}}function Vs(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",4),e.\u0275\u0275listener("clicked",function(){const i=e.\u0275\u0275restoreView(t).targetData,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onSetupFilterButtonClicked(i))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(1,Fs,2,4,"div",5)}if(o&2){const t=r.targetData,n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("caption",n.getSetupFilterButtonCaption(t)),e.\u0275\u0275property("disabled",n.getSetupFilterButtonDisabledState(t)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.getIsNeedShowDependencySettings(t))}}class $e extends mr{constructor(){super(...arguments),this._featureService=(0,e.inject)(B.FeatureService),this._useDependenciesInCustomFilterFeatureName="UseDependenciesInCustomFilter",this._useDependenciesInCustomFilterState=!1,this._subscriptions$=new d.Subscription,this._dataSources=[],this.translatePrefix="CustomQuickFilterTarget",this.availableDataSourceSelectOptions=[],this.approachState=new p.FormControl,this.defaultValueOptions=[{value:!0,caption:this.translate("DefaultCheckBoxState.CheckedCaption"),selected:!1},{value:!1,caption:this.translate("DefaultCheckBoxState.UncheckedCaption"),selected:!1}],this.filteringApproachOptions=[{value:!0,caption:this.translate("FilteringApproachState.OnCheckedCaption"),selected:!1},{value:!1,caption:this.translate("FilteringApproachState.OnUncheckedCaption"),selected:!1}]}_getFilterSettings(r){const t=this.getTargetDataFormControl(r,"viewAttributeName"),n=this.getTargetDataFormControl(r,"customFilter"),a=this.availableViewAttributes.find(i=>i.value===this.getControlValue(t))?.entitySchemaName;return{metaItemType:"crt.FilterBuilder",mode:m.MetaItemDesignerOpeningState.Edit,entitySchemaName:a,filters:this.getControlValue(n)}}_isOnlyOneTargetGroup(){return this.targetsData.length===1}_resetConfigFormGroupFieldsIfNeed(r){const t=this.getTargetDataFormControl(r,"viewAttributeName");(0,y.isEmpty)(t.value)||!this._isOnlyOneTargetGroup()||this._resetConfigFormGroupFields()}_resetConfigFormGroupFields(){this._resetConfigFormControlByName(N("defaultValue")),this._resetConfigFormControlByName(N("approachState"))}_resetConfigFormControlByName(r){this.getConfigControlByName(r)?.setValue(this.getDefaultConfigValueByPropertyName(r))}_createDependencyFilters(r){return r.filter(this._isValidDataSourceDependency).map((t,n)=>this._createDependencyFilterConfig(t,n))}_isValidDataSourceDependency(r){return!!r.matchedDsAttributeName&&!!r.matchedDsName&&!!r.targetDsName&&!!r.targetDsAttributeName}_createDependencyFilterConfig(r,t){const n=`${r.matchedDsName}.${r.matchedDsAttributeName}`,a=this._createOrFindAttributeNameByRelationPath(n,r.targetDsName,t);return{attributePath:r.targetDsAttributeName,attributeName:a,relationPath:`${r.matchedDsName}.${r.matchedDsAttributeName}`}}_initDataSources(){this._subscriptions$.add(this._designerDataSourceManager.getDataSources$().pipe((0,d.tap)(r=>this._dataSources=r),(0,d.switchMap)(r=>(0,d.forkJoin)([(0,d.of)(r),this._getAvailableDataSourcesConfigs(r)])),(0,d.map)(([r,t])=>(this.availableDataSourceSelectOptions=t,r))).subscribe(r=>{this._initDependencySettingsInTargetData(r)}))}_getAvailableDataSourcesConfigs(r){return this._dataSourcesLookupValuesProvider.get({scope:l.DataSourceScope.Page}).pipe((0,d.map)(n=>n.map(a=>({dataSource:r.find(i=>i.dataSourceName===a.value),filterByActiveItemAllowed:this._filterViewElementConfigFinders.some(i=>i.isBoundToFilterViewElement(a.value)),lookup:a}))))}_initDependencySettingsInTargetData(r){this.targetsData?.forEach(t=>{const n=this.getTargetDataFormControl(t,"viewAttributeName")?.value;!n||(this._setDataSourceNameIntoTargetData(t),this._setDataSourcesIntoTargetData(r,t),this._setDependenciesSettingIntoTargetData(t,n.value))})}_createDataSourceDependencySetting(r,t){const n=t.relationPath.split(".");if(n.length<=1)return null;const a=n.slice(1).join(".");return{targetDsAttributeName:t.attributePath,matchedDsName:n[0],matchedDsAttributeName:a,targetDsName:r}}_createOrFindAttributeNameByRelationPath(r,t,n){const i=this._designerSchemaService.getViewModelConfig()?.attributes;return this._getAttributeNameByRelationPath(r,i)??this._generateAttributeName(t,n)}_generateAttributeName(r,t){return`${this.itemName}_${r}_dependencyFilter_${t}`}_getAttributeNameByRelationPath(r,t){return Object.keys(t).find(n=>t[n]?.modelConfig?.path===r)}_resetDependencyAttributesInTargetData(r){this.getTargetDataFormControl(r,"dependencyFilters").setValue(null),r.dependenciesSetting=[]}_setDataSourceNameIntoTargetData(r){const n=this.getTargetDataFormControl(r,"viewAttributeName")?.value;r.dataSourceName=(0,y.isEmpty)(n)?null:this._designerSchemaService.getMappedDataSourceAttributePath(n.value)}_setDataSourcesIntoTargetData(r,t){t.dataSource=r.find(n=>n.dataSourceName===t.dataSourceName)}_setDependenciesSettingIntoTargetData(r,t){const n=this.getTargetDataFormControl(r,"dependencyFilters")?.value;!n||n.length===0||(r.dependenciesSetting=n.map(a=>this._createDataSourceDependencySetting(t,a)))}_initializeUseDependenciesInCustomFilterFeatureState(){this._subscriptions$.add(this._featureService.getFeatureState(this._useDependenciesInCustomFilterFeatureName).subscribe(r=>{this._useDependenciesInCustomFilterState=r}))}initDependencies(r){super.initDependencies(r),this._designerSettingsService=r.get(m.DesignerSettingsService),this._designerSchemaService=r.get(_.DesignerSchemaService),this._designerDataSourceManager=r.get(m.DesignerDataSourceManager),this._dataSourcesLookupValuesProvider=r.get(H),this._filterViewElementConfigFinders=r.get(m.FILTER_VIEW_ELEMENT_CONFIG_FINDERS)}getDefaultTargetControls(){return{...super.getDefaultTargetControls(),[N("customFilter")]:new p.FormControl,[N("dependencyFilters")]:new p.FormControl}}getDefaultConfigControlNames(){return[...super.getDefaultConfigControlNames(),N("approachState")]}getDefaultConfigValueByPropertyName(r){switch(r){case N("defaultValue"):return!1;case N("approachState"):return!0;default:return super.getDefaultConfigValueByPropertyName(r)}}onViewAttributeChanged(r){super.onViewAttributeChanged(r),this.getTargetDataFormControl(r,"customFilter").setValue(null),this._resetDependencyAttributesInTargetData(r),this._resetConfigFormGroupFieldsIfNeed(r),this._setDataSourceNameIntoTargetData(r),this._setDataSourcesIntoTargetData(this._dataSources,r)}setPropertiesPanelComponent(){super.setPropertiesPanelComponent(),this._initDataSources()}getSetupFilterButtonDisabledState(r){const t=this.getTargetDataFormControl(r,"viewAttributeName");return(0,y.isEmpty)(t.value)}getIsNeedShowDependencySettings(r){const t=this.getTargetDataFormControl(r,"viewAttributeName");return!(0,y.isEmpty)(t.value)&&this._useDependenciesInCustomFilterState}getSetupFilterButtonCaption(r){const t=this.getTargetDataFormControl(r,"customFilter");return this.translate((0,y.isEmpty)(t.value)?"SetupFilterCaption":"EditFilterCaption")}onSetupFilterButtonClicked(r){this._designerSettingsService.openSettings$({settings:this._getFilterSettings(r),caption:this.translate("FiltersDialogCaption")}).subscribe(t=>{const n=this.getTargetDataFormControl(r,"customFilter");t&&n.setValue(t?.filters)})}onDataSourceDependenciesChange(r,t){const n=this._createDependencyFilters(r);this.getTargetDataFormControl(t,"dependencyFilters").setValue(n),t.dependenciesSetting=r,this.changeDetectorRef.detectChanges()}ngOnInit(){this._initializeUseDependenciesInCustomFilterFeatureState()}ngOnDestroy(){this._subscriptions$.unsubscribe(),super.ngOnDestroy()}}$e.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory($e)))(t||$e)}}(),$e.\u0275cmp=e.\u0275\u0275defineComponent({type:$e,selectors:[["crt-custom-quick-filter-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:9,consts:[[3,"targetsData","availableViewAttributes","additionalTemplate","addTarget","deleteTarget"],[1,"crt-custom-quick-filter-general-additional-fields"],["direction","column",3,"label","control","items"],["customFilter",""],["shape","rounded","color","primary",1,"crt-custom-quick-filter-target-setup-filter-button",3,"disabled","caption","clicked"],[4,"ngIf"],[1,"crt-custom-quick-filter-target-data-source-dependencies-setting",3,"dataSourceSelectOptions","currentDataSource","targetDataSourceName","dependenciesSetting","dependenciesSettingChange"]],template:function(r,t){if(r&1&&(e.\u0275\u0275elementStart(0,"crt-quick-filter-targets-group",0),e.\u0275\u0275listener("addTarget",function(){return t.onAddTarget()})("deleteTarget",function(a){return t.onDeleteTarget(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"crt-icon-radio-button",2)(3,"crt-icon-radio-button",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Vs,2,3,"ng-template",null,3,e.\u0275\u0275templateRefExtractor)),r&2){const n=e.\u0275\u0275reference(5);e.\u0275\u0275property("targetsData",t.targetsData)("availableViewAttributes",t.availableViewAttributes)("additionalTemplate",n),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",t.translate("DefaultCheckBoxState.Label")),e.\u0275\u0275property("control",t.defaultValue)("items",t.defaultValueOptions),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("FilteringApproachState.Label")),e.\u0275\u0275property("control",t.approachState)("items",t.filteringApproachOptions)}},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtIconRadioButtonComponent,me,_e],styles:[".crt-quick-filter-general-additional-fields-hidden[_nghost-%COMP%]   .crt-custom-quick-filter-general-additional-fields[_ngcontent-%COMP%]{display:none}.crt-custom-quick-filter-target-setup-filter-button[_ngcontent-%COMP%], .crt-custom-quick-filter-target-data-source-dependencies-setting[_ngcontent-%COMP%]{padding-top:12px}.crt-custom-quick-filter-target-data-source-dependencies-setting[_ngcontent-%COMP%]     .crt-data-source-dependency-wrapper{padding:0}"],changeDetection:0});function As(o,r){if(o&1&&(e.\u0275\u0275element(0,"crt-combobox",2),e.\u0275\u0275pipe(1,"translate")),o&2){const t=e.\u0275\u0275nextContext().targetData;e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(1,4,"QuickFilterTarget.FilterColumnLabel")),e.\u0275\u0275property("control",t.filterColumn)("items",t.availableFilterColumns)("useStaticFiltering",!0)}}function Os(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-combobox",2),o&2){const t=e.\u0275\u0275nextContext().targetData,n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("label",n.translate("FilterColumnStartCaption")),e.\u0275\u0275property("control",t.filterColumnStart)("items",t.availableFilterColumns)("useStaticFiltering",!0)}}function ks(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-combobox",2),o&2){const t=e.\u0275\u0275nextContext().targetData,n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("label",n.translate("FilterColumnEndCaption")),e.\u0275\u0275property("control",t.filterColumnEnd)("items",t.availableFilterColumns)("useStaticFiltering",!0)}}function Ls(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",4)(1,"div",5),e.\u0275\u0275element(2,"crt-combobox",2)(3,"mat-icon",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,As,2,6,"crt-combobox",7),e.\u0275\u0275template(5,Os,1,4,"crt-combobox",7),e.\u0275\u0275template(6,ks,1,4,"crt-combobox",7),e.\u0275\u0275elementEnd()),o&2){const t=r.targetData,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",n.translate("ChooseFilteringMethodCaption")),e.\u0275\u0275property("control",t.chooseFilteringMethod)("items",n.chooseFilteringMethodItems)("useStaticFiltering",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("matTooltip",n.translate("ChooseFilteringMethodTooltip")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.allowToSetupTwoColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.allowToSetupTwoColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.allowToSetupTwoColumns)}}class et extends Sn{constructor(){super(...arguments),this._dateRangeMacrosTranslatePrefix="Components.QuickFilter.DateRange.Macros",this._setUpByOneColumn={value:"SetUpByOneColumn",displayValue:this.translateService.instant("DateRangeQuickFilterTarget.SetUpByOneColumnTitle")},this._setUpByTwoColumns={value:"SetUpByTwoColumns",displayValue:this.translateService.instant("DateRangeQuickFilterTarget.SetUpByTwoColumnsTitle")},this.translatePrefix="DateRangeQuickFilterTarget",this.defaultValueItems=[]}get chooseFilteringMethodItems(){return[this._setUpByOneColumn,this._setUpByTwoColumns]}_setupAllowToSetupTwoColumns(){this.targetsData.forEach(this._setupAllowToSetupTwoColumnToTargetData.bind(this))}_setupAllowToSetupTwoColumnToTargetData(r){"allowToSetupTwoColumns"in r||(r.allowToSetupTwoColumns=this._hasFilledTwoColumns(r)),"chooseFilteringMethod"in r||(r.chooseFilteringMethod=this._createChooseFilteringMethodControl(r))}_createChooseFilteringMethodControl(r){const t=new p.FormControl(this._getChooseFilteringMethodControlDefaultValue(r));return this._subscribeOnChooseFilteringMethodControlChange(t,r),t}_getChooseFilteringMethodControlDefaultValue(r){return this.getTargetDataViewAttributeNameValue(r)?this._hasFilledTwoColumns(r)?this._setUpByTwoColumns:this._setUpByOneColumn:null}_subscribeOnChooseFilteringMethodControlChange(r,t){r.valueChanges.pipe((0,d.filter)(()=>r.valid),(0,d.filter)(n=>!!n),(0,d.takeUntil)(this.destroyed$)).subscribe(n=>{this._setUpByOneColumn.value===n.value&&this._setDisallowToSetupTwoColumnsForTargetData(t),this._setUpByTwoColumns.value===n.value&&this._setAllowToSetupTwoColumnsFromTargetData(t),this.updateAndEmitSettingsChange()})}_setDisallowToSetupTwoColumnsForTargetData(r){this.getControlValue(this.getTargetDataFormControl(r,"filterColumn"))||(this._setTargetDataControlValueFromOther(r,"filterColumn","filterColumnStart"),this._setTargetDataControlValueFromOther(r,"filterColumnStart"),this._setTargetDataControlValueFromOther(r,"filterColumnEnd")),r.allowToSetupTwoColumns=!1}_setAllowToSetupTwoColumnsFromTargetData(r){const t=this.getControlValue(this.getTargetDataFormControl(r,"filterColumnStart")),n=this.getControlValue(this.getTargetDataFormControl(r,"filterColumnEnd"));!t&&!n&&(this._setTargetDataControlValueFromOther(r,"filterColumnStart","filterColumn"),this._setTargetDataControlValueFromOther(r,"filterColumnEnd","filterColumn"),this._setTargetDataControlValueFromOther(r,"filterColumn")),r.allowToSetupTwoColumns=!0}_setChooseFilteringMethodValueIfNeed(r){if(!("chooseFilteringMethod"in r))return;const t=r.chooseFilteringMethod;t.value||t.setValue(this._getChooseFilteringMethodControlDefaultValue(r))}_initializeDefaultValueItems(){this.defaultValueItems=Object.keys(s.DateRangeMacrosEnum).map(r=>({value:s.DateRangeMacrosEnum[r],displayValue:this._translateDateRangeMacrosEnum(r)}))}_translateDateRangeMacrosEnum(r){return this.translateService.instant(`${this._dateRangeMacrosTranslatePrefix}.${r}`)}_initializeDefaultValueControl(){const r=this._findDefaultValueItem(this.defaultValue.value);this.defaultValue.setValue(r,{emitEvent:!1})}_findDefaultValueItem(r){return this.defaultValueItems.find(t=>t.value===r)}_hasFilledTwoColumns(r){return!!this.getControlValue(this.getTargetDataFormControl(r,N("filterColumnStart")))||!!this.getControlValue(this.getTargetDataFormControl(r,N("filterColumnEnd")))}_setTargetDataControlValueFromOther(r,t,n=null,a=!1){const i=n?this.getTargetDataFormControl(r,n)?.value:null;this.getTargetDataFormControl(r,t).setValue(i,{emitEvent:a})}setPropertiesPanelComponent(){super.setPropertiesPanelComponent(),this._setupAllowToSetupTwoColumns(),this._initializeDefaultValueItems(),this._initializeDefaultValueControl()}createObjectFromTargetData(r){const t=super.createObjectFromTargetData(r);return this._hasFilledTwoColumns(r)?delete t[N("filterColumn")]:(delete t[N("filterColumnStart")],delete t[N("filterColumnEnd")]),t}filterDataSchemaAttributes(r){return r.filter(t=>t.dataValueType===l.DataValueType.Date||t.dataValueType===l.DataValueType.DateTime)}createNewTargetData(){const r=super.createNewTargetData();return this._setupAllowToSetupTwoColumnToTargetData(r),r}getDefaultTargetControls(){return{...super.getDefaultTargetControls(),[N("filterColumnStart")]:new p.FormControl,[N("filterColumnEnd")]:new p.FormControl}}setTargetDataFilterColumnsValue(r){super.setTargetDataFilterColumnsValue(r),this.setTargetDataFilterColumnValueIfNeed(r,"filterColumnStart"),this.setTargetDataFilterColumnValueIfNeed(r,"filterColumnEnd")}resetTargetDataFilterColumns(r){super.resetTargetDataFilterColumns(r),this.resetTargetDataFilterColumnIfNeed(r,"filterColumnStart"),this.resetTargetDataFilterColumnIfNeed(r,"filterColumnEnd")}onViewAttributeChanged(r){super.onViewAttributeChanged(r),this._setChooseFilteringMethodValueIfNeed(r)}}et.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(et)))(t||et)}}(),et.\u0275cmp=e.\u0275\u0275defineComponent({type:et,selectors:[["crt-date-range-quick-filter-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:9,consts:[[3,"targetsData","availableViewAttributes","additionalTemplate","addTarget","deleteTarget"],[1,"crt-date-range-quick-filter-general-additional-fields"],["labelPosition","above",3,"control","items","useStaticFiltering","label"],["dateRangeFilter",""],[1,"crt-date-range-target-additional-container"],[1,"crt-date-range-target-filter-method-container"],["svgIcon","info","matTooltipPosition","below",1,"crt-date-range-target-filter-method-tooltip",3,"matTooltip"],["labelPosition","above",3,"control","items","useStaticFiltering","label",4,"ngIf"]],template:function(r,t){if(r&1&&(e.\u0275\u0275elementStart(0,"crt-quick-filter-targets-group",0),e.\u0275\u0275listener("addTarget",function(){return t.onAddTarget()})("deleteTarget",function(a){return t.onDeleteTarget(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"crt-combobox",2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Ls,7,8,"ng-template",null,3,e.\u0275\u0275templateRefExtractor)),r&2){const n=e.\u0275\u0275reference(5);e.\u0275\u0275property("targetsData",t.targetsData)("availableViewAttributes",t.availableViewAttributes)("additionalTemplate",n),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(3,7,"DateRangeQuickFilterTarget.DefaultPeriodCaption")),e.\u0275\u0275property("control",t.defaultValue)("items",t.defaultValueItems)("useStaticFiltering",!0)}},dependencies:[f.NgIf,s.CrtComboBoxComponent,I.MatIcon,X.MatLegacyTooltip,_e,P.TranslatePipe],styles:[".crt-quick-filter-general-additional-fields-hidden[_nghost-%COMP%]   .crt-date-range-quick-filter-general-additional-fields[_ngcontent-%COMP%]{display:none}.crt-date-range-target-additional-container[_ngcontent-%COMP%]   .crt-date-range-target-filter-method-container[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:flex-end}.crt-date-range-target-additional-container[_ngcontent-%COMP%]   .crt-date-range-target-filter-method-container[_ngcontent-%COMP%]   .crt-date-range-target-filter-method-tooltip[_ngcontent-%COMP%]{width:16px;height:16px;margin-bottom:10px}"],changeDetection:0});class tt extends mr{constructor(){super(...arguments),this.showRecordsInWindows=new p.FormControl}getDefaultConfigControlNames(){return[N("showRecordsInWindows")]}}tt.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(tt)))(t||tt)}}(),tt.\u0275cmp=e.\u0275\u0275defineComponent({type:tt,selectors:[["crt-lookup-quick-filter-advanced-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[1,"crt-lookup-quick-filter-advanced-wrap"],["label","Display records in a modal window","labelPosition","right",3,"control"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-checkbox",1),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.showRecordsInWindows))},dependencies:[s.CrtCheckboxComponent],styles:[".crt-lookup-quick-filter-advanced-wrap[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;margin-bottom:12px}.crt-lookup-quick-filter-advanced-wrap[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:12px}.crt-lookup-quick-filter-advanced-wrap[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{margin-bottom:0}.crt-lookup-quick-filter-advanced-record-filter-wrap[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.crt-lookup-quick-filter-advanced-record-filter-wrap[_ngcontent-%COMP%]   .crt-lookup-quick-filter-advanced-record-filter-button[_ngcontent-%COMP%]{padding-top:12px}"],changeDetection:0});const _o="LookupDataSourceStructureExplorerDataProvider";class bn extends S.DataSourceStructureExplorerDataProviderService{constructor(){super(...arguments),this.name=_o}_addTagVirtualColumnIfNeed(r){this._isNotNeedAddTagVirtualColumn()||r.push(this._createVirtualTagItem())}_isNotNeedAddTagVirtualColumn(){return this.featureValues.DisableTagVirtualColumnInLookupFilter||this.breadCrumbs?.length>0}_createVirtualTagItem(){const r=this.translateService.instant("LookupQuickFilterTarget.TagVirtualColumnCaption");return{name:s.TAG_VIRTUAL_COLUMN_NAME,caption:r,dataValueType:l.DataValueType.Lookup,item:{name:s.TAG_VIRTUAL_COLUMN_NAME,caption:r,dataValueType:l.DataValueType.Lookup,validators:{},path:s.TAG_VIRTUAL_COLUMN_NAME,referenceSchemaName:s.TAG_VIRTUAL_COLUMN_SCHEMA_NAME}}}getAllItems(r){return super.getAllItems(r).pipe((0,d.map)(t=>(this._addTagVirtualColumnIfNeed(t),t)))}}bn.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(bn)))(t||bn)}}(),bn.\u0275prov=e.\u0275\u0275defineInjectable({token:bn,factory:bn.\u0275fac});function Ns(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275element(1,"crt-combobox",6),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementStart(3,"mat-icon",7),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(t).targetData,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.selectColumnByDialog(i))}),e.\u0275\u0275elementEnd()()}if(o&2){const t=r.targetData;e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(2,4,"QuickFilterTarget.FilterColumnLabel")),e.\u0275\u0275property("control",t.filterColumn)("items",t.availableFilterColumns)("useStaticFiltering",!0)}}class rt extends Sn{constructor(){super(...arguments),this._contactSchemaName="Contact",this._accountSchemaName="Account",this._lookupQuickFilterValueRepositoryService=(0,e.inject)(s.LookupQuickFilterValueRepositoryService),this._designerSettingsService=(0,e.inject)(m.DesignerSettingsService),this._structureExplorer=(0,e.inject)(z.StructureExplorerService),this._designerSchemaService=(0,e.inject)(_.DesignerSchemaService),this._featureValues=(0,e.inject)(g.FEATURE_VALUES),this._resetConfigControlValuesIfReferenceSchemaNameHasChanges=!1,this._additionalFilterColumnReferences=[],this.translatePrefix="LookupQuickFilterTarget",this.defaultValueProxy=new p.FormControl,this.entitySchemaName=new p.FormControl,this.recordsFilter=new p.FormControl,this.predefinedDefaultValueItems=[]}get selectedEntitySchemaAttributeReferenceSchemaName(){return this.entitySchemaName.value}get selectedEntitySchemaAttributeConditionalReferenceSchemaName(){const r=this.selectedEntitySchemaAttributeReferenceSchemaName;return r===s.TAG_VIRTUAL_COLUMN_SCHEMA_NAME?s.DEFAULT_TAG_SOURCE_SCHEMA_NAME:r}_resetDefaultValueProxyControl(){this._destroyDefaultValueProxyDestroyed(),this.defaultValueProxy.setValue(null,{emitEvent:!1}),this._resetConfigControlValuesIfReferenceSchemaNameHasChanges=!1,this._defaultValueProxyDestroyed$=new d.Subject}_subscribeOnDefaultValueProxyChange(){this.defaultValueProxy.valueChanges.pipe((0,c.distinctUntilChanged)(),(0,c.takeUntil)(this._defaultValueProxyDestroyed$)).subscribe(r=>{const t=r?.value,n=t?[{value:t,checkedState:!0}]:[];this.defaultValue.setValue(n)})}_setupSelectedEntitySchemaAttributeReferenceSchemaName(){const r=this._findFirstSelectedTarget();if(!r){this._clearSelectedEntitySchemaAttributeReferenceSchemaName();return}const t=this.findEntitySchemaNameByTarget(r);if((0,y.isEmpty)(t)){this._clearSelectedEntitySchemaAttributeReferenceSchemaName();return}this._initializeDataByEntitySchema(t,r)}_findFirstSelectedTarget(){return this.targetsData.find(r=>!(0,y.isEmpty)(this.getControlValue(this.getTargetDataFormControl(r,"viewAttributeName")))&&!(0,y.isEmpty)(this.getTargetDataFilterColumnValue(r)))}_clearSelectedEntitySchemaAttributeReferenceSchemaName(){this._setSelectedEntitySchemaAttributeReferenceSchemaName(null),this.predefinedDefaultValueItems=[],this.defaultValueProxy.setValue(null),this.recordsFilter.setValue(null)}_setFirstOrNullDefaultValueProxy(){this.selectedEntitySchemaAttributeReferenceSchemaName&&this.predefinedDefaultValueItems.length===1?this.defaultValueProxy.setValue(this.predefinedDefaultValueItems[0]):this.defaultValueProxy.setValue(null)}_initializeDataByEntitySchema(r,t){this.subscriptions$.add(this.getSchema(r).pipe((0,c.map)(n=>this._findReferenceSchemaNameByTargetFilterColumn(n,t)),(0,c.tap)(this._applyAvailableFilterColumnsIfNeed.bind(this)),(0,c.filter)(this._isSelectedReferenceSchemaNameNotEquals.bind(this)),(0,c.tap)(this._setSelectedEntitySchemaAttributeReferenceSchemaName.bind(this)),(0,c.tap)(()=>this._initializePredefinedDefaultValueItems()),(0,c.tap)(()=>this._initializeConfigControlValues())).subscribe())}_findReferenceSchemaNameByTargetFilterColumn(r,t){const n=this.getTargetDataFilterColumnValue(t);return n===s.TAG_VIRTUAL_COLUMN_NAME?s.TAG_VIRTUAL_COLUMN_SCHEMA_NAME:n&&(this._findReferenceSchemaNameInDataSchema(r,n)||this._findReferenceSchemaNameInAdditionalFilterColumnReferences(n))}_findReferenceSchemaNameInDataSchema(r,t){return r.attributes.find(n=>n.name===t)?.referenceSchemaName}_findReferenceSchemaNameInAdditionalFilterColumnReferences(r){return this._additionalFilterColumnReferences.find(t=>t.value===r)?.referenceSchemaName}_addToAdditionalFilterColumnReferences(r){!(0,y.isEmpty)(this._findReferenceSchemaNameInAdditionalFilterColumnReferences(r.value))||this._additionalFilterColumnReferences.push(r)}_applyAvailableFilterColumnsIfNeed(r){this._isSelectedReferenceSchemaNameNotEquals(r)||this.targetsData.forEach(this.applyAvailableFilterColumnsToTargetData.bind(this))}_setSelectedEntitySchemaAttributeReferenceSchemaName(r){if(!this._isSelectedReferenceSchemaNameNotEquals(r)){this._resetConfigControlValuesIfReferenceSchemaNameHasChanges=!1;return}this.entitySchemaName.setValue(r),this.targetsData.forEach(this.applyAvailableFilterColumnsToTargetData.bind(this))}_initializePredefinedDefaultValueItems(){const r=this._findPredefineDefaultValue(this.selectedEntitySchemaAttributeReferenceSchemaName);this.predefinedDefaultValueItems=[r].filter(Boolean)}_findPredefineDefaultValue(r){switch(r){case this._contactSchemaName:return{value:s.LookupDefaultValueMacros.CurrentUserContact,displayValue:this.translate("CurrentUserContactName")};case this._accountSchemaName:return{value:s.LookupDefaultValueMacros.CurrentUserAccount,displayValue:this.translate("CurrentUserAccountName")};default:return null}}_hasOnlyOneSelectedFilterColumnAtTargets(r){const t=!(0,y.isEmpty)(this.getTargetDataFilterColumnValue(r));return this.targetsData.filter(n=>!(0,y.isEmpty)(this.getTargetDataFilterColumnValue(n))).length===1&&t}_isSelectedReferenceSchemaNameNotEquals(r){return this.selectedEntitySchemaAttributeReferenceSchemaName!==r}_initializeConfigControlValues(){if(!!this.selectedEntitySchemaAttributeReferenceSchemaName){if(this._resetConfigControlValuesIfReferenceSchemaNameHasChanges){this._resetConfigControlValuesIfReferenceSchemaNameHasChanges=!1,this._setFirstOrNullDefaultValueProxy(),this.recordsFilter.setValue(null);return}this._initializeDefaultValueProxyValue()}}_initializeDefaultValueProxyValue(){let r=this.defaultValue.value;if(r=(0,y.isArray)(r)&&r.length===1?r[0]:null,!r)return;const t=this._findMacrosByDefaultValue(r.value);if(t){this.defaultValueProxy.setValue(t);return}this._initializeDefaultValueProxyValueFromRepository(r.value)}_findMacrosByDefaultValue(r){const t=this._findPredefineDefaultValue(this.selectedEntitySchemaAttributeReferenceSchemaName);return t?.value===r?t:null}_initializeDefaultValueProxyValueFromRepository(r){const t=this._createLookupQuickFilterValueFromSingleValue(r),n=this._getDefaultValueLookupQuickFilterConfig();this.subscriptions$.add((0,d.from)(this._lookupQuickFilterValueRepositoryService.getActualData(t,n)).subscribe(a=>{if(!a||a.length===0){this.defaultValueProxy.setValue(null);return}this.defaultValueProxy.setValue(a[0],{emitEvent:!1})}))}_createLookupQuickFilterValueFromSingleValue(r){return[{value:r}]}_getDefaultValueLookupQuickFilterConfig(){return{entitySchemaName:this.selectedEntitySchemaAttributeReferenceSchemaName}}_destroyDefaultValueProxyDestroyed(){this._defaultValueProxyDestroyed$?.next(),this._defaultValueProxyDestroyed$?.complete(),this._defaultValueProxyDestroyed$=null}_getFilterSettings(){return{metaItemType:"crt.FilterBuilder",mode:m.MetaItemDesignerOpeningState.Edit,entitySchemaName:this.selectedEntitySchemaAttributeConditionalReferenceSchemaName,filters:this.getControlValue(this.recordsFilter)}}_getStructureExplorerConfig(r){return{providers:[this._getStructureExplorerDataProviderConfig(r)],enableMultiSelection:!1,returnDialogResult:!0,viewConfig:{backwardItemsConfig:{useAggregationFunctionColumns:!1,useBackwardRootPath:!0}}}}_getStructureExplorerDataProviderConfig(r){const t=this._getDataSourceNameByTarget(r);return{name:_o,options:{selectedMetaPaths:[],useBackwards:!0},navigateOnlyThroughDataSource:t,itemsCustomFilterFunction:this._getStructureExplorerDataProviderItemsFilterFunction(r),relatedItemsCustomFilterFunction:this._getStructureExplorerDataProviderRelatedItemsFilterFunction()}}_getStructureExplorerDataProviderItemsFilterFunction(r){const t=this.selectedEntitySchemaAttributeReferenceSchemaName,n=!(0,y.isEmpty)(t)&&!this._hasOnlyOneSelectedFilterColumnAtTargets(r);return a=>{const i=a.data.item,u=i.dataValueType,h=i.referenceSchemaName;return u===l.DataValueType.Lookup&&(!n||n&&t===h)}}_getStructureExplorerDataProviderRelatedItemsFilterFunction(){return r=>r.id!==s.TAG_VIRTUAL_COLUMN_NAME}_processedStructureExplorerResult(r,t){if(t?.dialogResult!==Dn.StructureExplorerDialogResult.Selected)return;const n=this._getSelectedFilterColumnFromResult(r,t);this.getTargetDataFormControl(r,"filterColumn").setValue(n)}_getSelectedFilterColumnFromResult(r,t){const n=this._getSelectedFilterColumnFromStructureExplorerResult(t);if(n){const a=this._findAvailableFilterColumnAtTargetDataByValue(r,n.value);if(a)return a;this._addsSelectedAvailableDataSchemaAttribute(r,n)}return n}_getSelectedFilterColumnFromStructureExplorerResult(r){const t=r.selectedItems;if(!t.length)return null;const n=t[0];return{value:n.columnPath,displayValue:n.columnPath,referenceSchemaName:n.data.item.referenceSchemaName}}_findAvailableFilterColumnAtTargetDataByValue(r,t){return r.availableFilterColumns.find(n=>n.value===t)}_addsSelectedAvailableDataSchemaAttribute(r,t){const n={value:t.value,caption:t.displayValue,referenceSchemaName:t.referenceSchemaName};this._addToAdditionalFilterColumnReferences({value:n.value,referenceSchemaName:n.referenceSchemaName}),this._addSelectedFilterColumnToAvailableDataSchemaAttributesIfNeed(r,n)}_addSelectedFilterColumnToAvailableDataSchemaAttributesIfNeed(r,t){this._getSelectedAvailableAttribute(r,t.value)||this._addSelectedItemAndUpdateAvailableDataSchemaAttributes(r,t)}_addSelectedItemAndUpdateAvailableDataSchemaAttributes(r,t){let n=r.availableDataSchemaAttributes;n=this._removeReferencePatchesFromAvailableDataSchemaAttributes(n),n.unshift(t),r.availableDataSchemaAttributes=n}_removeReferencePatchesFromAvailableDataSchemaAttributes(r){return r.filter(t=>{const n=t.value;return!this._isReferenceColumnValue(n)})}_isReferenceColumnValue(r){return this._isForwardColumnValue(r)||this._isBackwardColumnValue(r)}_isForwardColumnValue(r){return r?.includes(".")}_isBackwardColumnValue(r){return r?.includes(":")}_getDataSourceNameByTarget(r){return this._getDataSourceNameByCollectionAttributeName(this.getTargetDataViewAttributeNameValue(r))}_getDataSourceNameByCollectionAttributeName(r){return this._designerSchemaService.getMappedDataSourceAttributePath(r)}_initializeAdditionalFilterColumnReferences(){this._additionalFilterColumnReferences=[];const r=this.settings?.config?.entitySchemaName;if(!r)return;this._getReferenceColumnPathsFromTargetsData().forEach(n=>{this._addToAdditionalFilterColumnReferences({value:n.filterColumnValue,referenceSchemaName:r})})}_getReferenceColumnPathsFromTargetsData(){const r=[];return this.targetsData.forEach(t=>{const n=this.getTargetDataFilterColumnValue(t);if((0,y.isEmpty)(n)||!this._isReferenceColumnValue(n))return;const i=`${this.findEntitySchemaNameByTarget(t)}.${n}`;r.push({filterColumnValue:n,referenceColumnPath:i})}),r}_createTargetDataAvailableDataSchemaAttributes(r,t){return r.availableDataSchemaAttributes=t,this._addAdditionalFilterColumnReferenceToAvailableAttributesIfNeed(r),r.availableDataSchemaAttributes}_addAdditionalFilterColumnReferenceToAvailableAttributesIfNeed(r){const t=this.getTargetDataFilterColumnValue(r);if(!t)return;const n=this._additionalFilterColumnReferences.find(i=>i.value===t);if(!n)return;const a={value:n.value,caption:n.value,referenceSchemaName:n.referenceSchemaName};this._addSelectedItemAndUpdateAvailableDataSchemaAttributes(r,a)}_resetTargetDataAvailableDataSchemaAttributes(r){r.availableDataSchemaAttributes=[]}setPropertiesPanelComponent(){this._resetDefaultValueProxyControl(),super.setPropertiesPanelComponent(),this.entitySchemaName.setValue(null),this._subscribeOnDefaultValueProxyChange(),this._setupSelectedEntitySchemaAttributeReferenceSchemaName()}afterSetupTargetsData(){super.afterSetupTargetsData(),this._initializeAdditionalFilterColumnReferences()}createAvailableAttributes(r,t){return!(0,y.isEmpty)(t.availableDataSchemaAttributes)&&!(0,y.isEmpty)(this.getTargetDataViewAttributeNameValue(t))&&(r=t.availableDataSchemaAttributes),r=this._createTargetDataAvailableDataSchemaAttributes(t,r),this._addVirtualTagColumnToAttributes(r),!(0,y.isEmpty)(this.selectedEntitySchemaAttributeReferenceSchemaName)&&!this._hasOnlyOneSelectedFilterColumnAtTargets(t)?r.filter(n=>!this._isSelectedReferenceSchemaNameNotEquals(n.referenceSchemaName)):super.createAvailableAttributes(r,t)}_addVirtualTagColumnToAttributes(r){this._featureValues.DisableTagVirtualColumnInLookupFilter||r.find(t=>t.value===s.TAG_VIRTUAL_COLUMN_NAME)||(r.push({caption:this.translate("TagVirtualColumnCaption"),value:s.TAG_VIRTUAL_COLUMN_NAME,referenceSchemaName:s.TAG_VIRTUAL_COLUMN_SCHEMA_NAME}),r.sort((t,n)=>t.caption.localeCompare(n.caption)))}getDefaultConfigControlNames(){return[...super.getDefaultConfigControlNames(),N("entitySchemaName"),N("recordsFilter")]}createTargetAttribute(r){return{...super.createTargetAttribute(r),referenceSchemaName:r.referenceSchemaName}}filterDataSchemaAttributes(r){return r.filter(t=>t.dataValueType===l.DataValueType.Lookup)}onViewAttributeChanged(r){this._resetTargetDataAvailableDataSchemaAttributes(r),super.onViewAttributeChanged(r),this._setupSelectedEntitySchemaAttributeReferenceSchemaName()}onTargetDataControlValueChange(r,t){t===N("filterColumn")&&(this._resetConfigControlValuesIfReferenceSchemaNameHasChanges=!0,this._setupSelectedEntitySchemaAttributeReferenceSchemaName())}onDeleteTarget(r){super.onDeleteTarget(r),this._setupSelectedEntitySchemaAttributeReferenceSchemaName()}onSetupFilterButtonClicked(){this._designerSettingsService.openSettings$({settings:this._getFilterSettings(),caption:this.translate("FiltersDialogCaption")}).subscribe(r=>{r&&this.recordsFilter.setValue(r.filters)})}getSetupFilterButtonCaption(){return this.translate((0,y.isEmpty)(this.recordsFilter.value)?"SetupFilterCaption":"EditFilterCaption")}selectColumnByDialog(r){var t=this;return(0,k.Z)(function*(){const n=t._getStructureExplorerConfig(r),a=yield(0,d.lastValueFrom)(t._structureExplorer.show(n));t._processedStructureExplorerResult(r,a)})()}ngOnDestroy(){super.ngOnDestroy(),this._destroyDefaultValueProxyDestroyed()}}rt.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(rt)))(t||rt)}}(),rt.\u0275cmp=e.\u0275\u0275defineComponent({type:rt,selectors:[["crt-lookup-quick-filter-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:11,consts:[[3,"targetsData","availableViewAttributes","additionalTemplate","addTarget","deleteTarget"],[1,"crt-lookup-quick-filter-general-additional-fields"],["labelPosition","above",3,"control","predefinedItems","dataSchemaName","label"],["shape","rounded","color","primary",1,"crt-lookup-quick-filter-setup-filter-button",3,"caption","disabled","clicked"],["lookupFilter",""],[1,"crt-lookup-quick-filter-column-wrap"],["labelPosition","above",3,"control","items","useStaticFiltering","label"],["svgIcon","search",1,"crt-lookup-quick-filter-column-select-icon",3,"click"]],template:function(r,t){if(r&1&&(e.\u0275\u0275elementStart(0,"crt-quick-filter-targets-group",0),e.\u0275\u0275listener("addTarget",function(){return t.onAddTarget()})("deleteTarget",function(a){return t.onDeleteTarget(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"crt-combobox-model",2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementStart(4,"crt-button",3),e.\u0275\u0275listener("clicked",function(){return t.onSetupFilterButtonClicked()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(5,Ns,4,6,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),r&2){const n=e.\u0275\u0275reference(6);e.\u0275\u0275property("targetsData",t.targetsData)("availableViewAttributes",t.availableViewAttributes)("additionalTemplate",n),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(3,9,"QuickFilterTarget.DefaultValueCaption")),e.\u0275\u0275property("control",t.defaultValueProxy)("predefinedItems",t.predefinedDefaultValueItems)("dataSchemaName",t.selectedEntitySchemaAttributeConditionalReferenceSchemaName),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("caption",t.getSetupFilterButtonCaption()),e.\u0275\u0275property("disabled",!t.selectedEntitySchemaAttributeReferenceSchemaName)}},dependencies:[s.CrtButtonComponent,s.CrtComboBoxComponent,s.CrtComboBoxModelComponent,I.MatIcon,_e,P.TranslatePipe],styles:[".crt-quick-filter-general-additional-fields-hidden[_nghost-%COMP%]   .crt-lookup-quick-filter-general-additional-fields[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-lookup-quick-filter-general-additional-fields[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:16px}[_nghost-%COMP%]   .crt-lookup-quick-filter-general-additional-fields[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .crt-lookup-quick-filter-column-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]   .crt-lookup-quick-filter-column-wrap[_ngcontent-%COMP%]   .crt-lookup-quick-filter-column-select-icon[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:20px;flex-shrink:0;cursor:pointer}"],changeDetection:0});var Rs=T(70806);class zn extends L{constructor(r){super(r),this.injector=r,this.initDependencies()}_getCollectionAttributeNames(){return this._getCollectionDataSourceInfos().map(t=>t.collectionViewModelAttributeName)}_getCollectionDataSourceInfos(){const r=this.designerSchemaService.getViewModelConfig();return Array.from(w.DataSourceInfo.getFromViewModelConfig(r).values()).filter(n=>this._getIsAvailableDataSource(n))}_getIsAvailableDataSource(r){if(!r.isCollection)return!1;const t=this.designerSchemaService.getMappedDataSourceAttributePath(r.collectionViewModelAttributeName);return!(0,y.isEmpty)(this.designerSchemaService.getDataSourceConfigByName(t)?.entitySchemaName)}_getElementCaption(r,t){const n=this._displayValueCreatorFactoryService.get(r?.type);return(0,d.firstValueFrom)(n.getDisplayValue(r,{attributeName:t}))}_getElementTypeCaption(r){const n=l.InterfaceDesignerItemRegistry.interfaceDesignerItemRegistrationInfos.get(r)?.typeCaption;return n?this.translateService.instant(n):""}_getFullViewElementCaption(r,t,n){const a=[...new Set(r)];let i=a.length===1&&a.slice().pop()===t?t:`${a.join(", ")} ${t}`;return i=i.trim(),`${i} | ${n.join(", ")}`}initDependencies(){this.designerSchemaService=this.injector.get(_.DesignerSchemaService),this._displayValueCreatorFactoryService=this.injector.get(m.DisplayValueCreatorFactoryService)}getAvailableViewAttributes(){var r=this;return(0,k.Z)(function*(){const t=[],n=r._getCollectionAttributeNames();return yield Promise.all(n.map(function(){var a=(0,k.Z)(function*(i){const u=r.designerSchemaService.getViewConfigInfoByPropertyValues([`$${i}`]).map(b=>b.viewConfig).filter(b=>["crt.DataGrid","crt.FileList","crt.ApprovalList","crt.ChartWidget","crt.IndicatorWidget","crt.GaugeWidget","crt.Gallery","crt.Calendar"].includes(b.type));if(u.length===0)return;const h=yield r.createAvailableViewAttribute(i,u);t.push(h)});return function(i){return a.apply(this,arguments)}}())),t})()}createAvailableViewAttribute(r,t){var n=this;return(0,k.Z)(function*(){const a=yield n._getElementCaption(t.slice().shift(),r),i=Array.from(t.map(h=>h?.name).filter(Boolean)),u=Array.from(t.map(h=>n._getElementTypeCaption(h?.type)));return{value:r,caption:n._getFullViewElementCaption(u,a,i)}})()}}zn.\u0275fac=function(r){return new(r||zn)(e.\u0275\u0275directiveInject(e.Injector))},zn.\u0275dir=e.\u0275\u0275defineDirective({type:zn,features:[e.\u0275\u0275InheritDefinitionFeature]});const Bs=["viewFilterPropertiesPanel"];class Pn extends kn{set filterType(r){!!r&&this._filterType===r||(this._filterType=r,this._destroyPanelComponent(),this._initializePanelByType(r))}_initializePanelByType(r){this._initializePanelComponentRefByType(r),this._setPanelComponentProperties(),this._initializePanelComponentSubscriptions()}_initializePanelComponentRefByType(r){const t=this.getPanelComponentClassByType(r);!t||(this._panelComponentRef=this._generatePanelComponentRef(t))}_generatePanelComponentRef(r){return this._clearPanelViewContainerRef(),this.panelContainerRef.createComponent(r)}_setPanelComponentProperties(){const r=this._getPanelComponentInstance();!r||(r.itemName=this.itemName,this._setPanelComponentSettingsProperty())}_setPanelComponentSettingsProperty(){if(!this.settings)return;const r=this._getPanelComponentInstance();!r||(r.settings=this.settings)}_getPanelComponentInstance(){return this._panelComponentRef?.instance}_initializePanelComponentSubscriptions(){const r=this._getPanelComponentInstance();!r||(this._filterSettingsChangesSubscription$?.unsubscribe(),this._filterSettingsChangesSubscription$=r.settingsChange.subscribe(t=>this.settingsChange.emit(t)))}_destroyPanelComponent(){this._destroyPanelComponentRef(),this._clearPanelViewContainerRef(),this._unsubscribePanelSubscription()}_destroyPanelComponentRef(){!this._panelComponentRef||(this._panelComponentRef.destroy(),this._panelComponentRef=null)}_clearPanelViewContainerRef(){this.panelContainerRef?.clear()}_unsubscribePanelSubscription(){this._filterSettingsChangesSubscription$?.unsubscribe()}setPropertiesPanelComponent(){this._setPanelComponentProperties()}ngOnDestroy(){this._destroyPanelComponent()}}Pn.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Pn)))(t||Pn)}}(),Pn.\u0275dir=e.\u0275\u0275defineDirective({type:Pn,viewQuery:function(r,t){if(r&1&&e.\u0275\u0275viewQuery(Bs,7,e.ViewContainerRef),r&2){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(t.panelContainerRef=n.first)}},inputs:{filterType:"filterType"},features:[e.\u0275\u0275InheritDefinitionFeature]});class nt extends Pn{getPanelComponentClassByType(r){switch(r){case s.QuickFilterType.Lookup:return tt;default:return null}}}nt.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(nt)))(t||nt)}}(),nt.\u0275cmp=e.\u0275\u0275defineComponent({type:nt,selectors:[["crt-view-filter-advanced-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["viewFilterPropertiesPanel",""]],template:function(r,t){r&1&&e.\u0275\u0275elementContainer(0,null,0)},encapsulation:2,changeDetection:0});class ot extends Pn{getPanelComponentClassByType(r){switch(r){case s.QuickFilterType.Custom:return $e;case s.QuickFilterType.DateRange:return et;case s.QuickFilterType.Lookup:return rt;default:throw new Error(`Unsupported type, ${r}`)}}}ot.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(ot)))(t||ot)}}(),ot.\u0275cmp=e.\u0275\u0275defineComponent({type:ot,selectors:[["crt-view-filter-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["viewFilterPropertiesPanel",""]],template:function(r,t){r&1&&e.\u0275\u0275elementContainer(0,null,0)},encapsulation:2,changeDetection:0});function Gs(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-view-filter-properties-panel",12),e.\u0275\u0275listener("settingsChange",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onQuickFilterSettingsChange(a))}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("itemName",t.itemName)("filterType",t.filterType)("settings",t.quickFilterSettings)}}function js(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-properties-panel-icon-settings",13),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("iconPositionControl",t.getControl("iconPosition"))("iconControl",t.getControl("icon"))("icons",t.icons)("defaultIcon",t.defaultIcon)}}function zs(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-view-filter-advanced-properties-panel",14),e.\u0275\u0275listener("settingsChange",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onQuickFilterSettingsChange(a))}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("filterType",t.filterType)("settings",t.quickFilterSettings)}}let at=class extends zn{constructor(){super(...arguments),this._featureService=(0,e.inject)(B.FeatureService),this._designerDataSchemaRepository=(0,e.inject)(m.DesignerDataSchemaRepository),this._quickFilterSchemaApiConverter=(0,e.inject)(s.QuickFilterSchemaApiConverter),this._filterViewElementConfigProvider=(0,e.inject)(m.FilterViewElementConfigProvider),this._filterOptionsConfigResolver=(0,e.inject)(m.FilterOptionsConfigResolver),this._showDesignerDemoItemsFeatureName="ShowDesignerDemoItems",this._disableUseQuickFilterNewSchemaFilterApiFeatureName="DisableUseQuickFilterNewSchemaFilterApi",this._defaultIconPosition=S.IconPositionEnum.LeftIcon,this._subscription=new d.Subscription,this._defaultCaptionKey="Components.QuickFilter.Caption",this._showDesignerDemoItemsFeatureState=!1,this._disableUseQuickFilterNewSchemaFilterApiFeatureState=!1,this.translatePrefix="InterfaceDesigner.PropertiesPages.QuickFilterPropertiesPanel",this.filterTypeReadonly=!1,this.filterType=null,this.icons=s.BUTTON_ICONS}get defaultIcon(){switch(this.filterType){case s.QuickFilterType.DateRange:return"date";case s.QuickFilterType.Lookup:return"filter-column-icon";default:return"settings-button-icon"}}_initializeFeaturesState(){const r=[this._showDesignerDemoItemsFeatureName,this._disableUseQuickFilterNewSchemaFilterApiFeatureName];return this._featureService.getFeaturesState(r).pipe((0,d.map)(([t,n])=>{this._showDesignerDemoItemsFeatureState=t,this._disableUseQuickFilterNewSchemaFilterApiFeatureState=n}))}_applyDefaultIconSettingsIfNeed(r){if(!("config"in r.itemConfig))return;const t=(0,y.get)(r.itemConfig,"config")||{};"icon"in t||(0,y.set)(r.itemConfig,"config.icon",this.defaultIcon),"iconPosition"in t||(0,y.set)(r.itemConfig,"config.iconPosition",this._defaultIconPosition)}_initializeFilterTypes(r){let t=[{value:s.QuickFilterType.Custom,displayValue:this.translate("CustomType")},{value:s.QuickFilterType.DateRange,displayValue:this.translate("DateRangeType")},{value:s.QuickFilterType.Lookup,displayValue:this.translate("LookupType")}];this._showDesignerDemoItemsFeatureState&&this._addDemoFilterTypes(t),t=t.sort(this._compareValueItem),this._initializeFilterTypeControlReadOnlyState(t,r),this.setLookupItems("filterType",t)}_addDemoFilterTypes(r){}_compareValueItem(r,t){return r.value>t.value?1:r.value<t.value?-1:0}_initializeFilterTypeControlReadOnlyState(r,t){const n=r.length===1;this.filterTypeReadonly=n,n&&((0,y.get)(t?.itemConfig,"filterType")||(0,y.set)(t?.itemConfig,"filterType",r[0].value))}_setQuickFilterSettings(r){return(0,d.from)(this.getAvailableViewAttributes()).pipe((0,c.tap)(t=>this.quickFilterSettings={availableViewAttributes:t,targets:this._getQuickFilterTargetsFromSettings(r),config:(0,y.get)(r.itemConfig,"config")||{}}),(0,d.map)(()=>{this._quickFilterConfig=(0,y.cloneDeep)(this.quickFilterSettings.config),this._quickFilterTargets=(0,y.cloneDeep)(this.quickFilterSettings.targets)}))}_getQuickFilterTargetsFromSettings(r){return!this._disableUseQuickFilterNewSchemaFilterApiFeatureState&&"_filterOptions"in r.itemConfig?this._quickFilterSchemaApiConverter.getConvertedTargetsFromFilterOptions((0,y.get)(r.itemConfig,"_filterOptions")):"targets"in r.itemConfig?(0,y.get)(r.itemConfig,"targets"):[]}_getEntitySchemaName(r){const t=this.designerSchemaService.getMappedDataSourceAttributePath(r);return this.designerSchemaService.getDataSourceConfigByName(t).entitySchemaName}_emitFilterTypeChanges(r){this._resetQuickFilterSettings(),this._initIconControlByDefaultValue(),super.emitChanges([r]);const t={caption:this._getControlValue(this.getControl(N("caption"))),hint:this._getControlValue(this.getControl(N("hint")))};super.emitChanges([this._getQuickFilterTargetsChange(this._quickFilterTargets),{path:"itemConfig.config",value:this._applyIconChangesToConfigIfNeed(t),applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override}])}_resetQuickFilterSettings(){const r={caption:this.quickFilterSettings.config.caption,hint:this.quickFilterSettings.config.hint};this.quickFilterSettings={...this.quickFilterSettings,targets:this._quickFilterTargets.map(t=>({viewAttributeName:t.viewAttributeName})),config:this._applyIconChangesToConfigIfNeed(r)},this._quickFilterConfig=(0,y.cloneDeep)(this.quickFilterSettings.config),this._disableUseQuickFilterNewSchemaFilterApiFeatureState||this._actualizeMetadataQuickFilterTargets(this._quickFilterTargets,this.quickFilterSettings.targets),this._quickFilterTargets=(0,y.cloneDeep)(this.quickFilterSettings.targets)}_initIconControlByDefaultValue(){const r=this.getControl(N("icon"));r.value&&r.setValue(this.defaultIcon)}_applyIconChangesToConfigIfNeed(r){return this.isIconSettingsVisible()?{...r,icon:this._getControlValue(this.getControl(N("icon"))),iconPosition:this._getControlValue(this.getControl(N("iconPosition")))}:r}_getControlValue(r){const t=r.value;return this._isLookupValue(t)?(0,y.get)(t,"value"):t}_isLookupValue(r){return r!==null&&typeof r=="object"&&"value"in r&&"displayValue"in r}_getQuickFilterTargetsChange(r){return this._disableUseQuickFilterNewSchemaFilterApiFeatureState?{path:"itemConfig.targets",value:r,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override}:(this._actualizeMetadataQuickFilterTargets(this._quickFilterTargets,r),{path:"itemConfig._filterOptions",value:this._getFilterOptionsFromTargets(r),applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override})}_actualizeMetadataQuickFilterTargets(r,t){const n=this._getTargetsDifferences(t,r),a=this._getTargetsDifferences(r,t);this._removeTargetsFromMetadata(a),this._addTargetsToMetadata(n)}_getTargetsDifferences(r,t){return r.filter(n=>!t.some(a=>a.viewAttributeName===n.viewAttributeName))}_removeTargetsFromMetadata(r){r.forEach(t=>{const n=`${this.itemName}_${t.viewAttributeName}`;this._filterViewElementConfigProvider.removeFiltersFromCollection(t.viewAttributeName,[n])})}_addTargetsToMetadata(r){r.forEach(t=>{const n=this._getFilterOptionsFromTargets([t]);this._filterViewElementConfigProvider.addFiltersToCollection(t.viewAttributeName,[{viewElementName:this.itemName,viewElementExposeFilters:n.expose}])})}_getFilterOptionsFromTargets(r){const t=this._quickFilterSchemaApiConverter.getConvertedFilterOptionsFromViewConfig({name:this.itemName,config:this._quickFilterConfig,filterType:this.filterType,targets:r});return t.from=this._filterOptionsConfigResolver.createFilterOptionsFrom(this.itemName,r),t}_setComponentCaption(){!this._hasDefaultCaptionValue()||this._getColumnCaptionByFilterTarget().subscribe(r=>{if((0,Rs.isNotEmpty)(r)){const t=new g.LocalizableStringArray;t.setValueLocalizableString(this.translateService.currentLang,r);const n=this.getControl(N("caption"));n&&n.setValue(t,{emitEvent:!0})}})}_hasDefaultCaptionValue(){const r=this.translateService.instant(this._defaultCaptionKey),t=this.getControl(N("caption"));return t?this._getControlValue(t)?.getValue(this.translateService.currentLang)===r:!1}_getColumnCaptionByFilterTarget(){const r=this._quickFilterTargets.find(i=>!!i.filterColumn);if(!r)return(0,d.of)("");const t=r.viewAttributeName,n=r.filterColumn;if(n===s.TAG_VIRTUAL_COLUMN_NAME)return(0,d.of)(this.translateService.instant("LookupQuickFilterTarget.TagVirtualColumnCaption"));const a=this.quickFilterSettings.availableViewAttributes?.find(i=>i.value===t)?.entitySchemaName;return this._getSchema(a).pipe((0,d.map)(i=>i.attributes.find(u=>u.name===n)?.caption))}_getSchema(r){return this._designerDataSchemaRepository.getSchema(r)}getPropertiesConfig(){return{...super.getPropertiesConfig(),filterType:{path:"itemConfig.filterType",dataValueType:l.DataValueType.Lookup,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}},[N("caption")]:{path:"itemConfig.config.caption",dataValueType:l.DataValueType.LOCALIZABLE_STRING,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override},[N("hint")]:{path:"itemConfig.config.hint",dataValueType:l.DataValueType.LOCALIZABLE_STRING,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override},[N("icon")]:{path:"itemConfig.config.icon",dataValueType:l.DataValueType.Text,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override,controlInitialConfig:{value:this.defaultIcon}},[N("iconPosition")]:{path:"itemConfig.config.iconPosition",dataValueType:l.DataValueType.Text,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override,controlInitialConfig:{value:this._defaultIconPosition}}}}createAvailableViewAttribute(r,t){var n=()=>super.createAvailableViewAttribute,a=this;return(0,k.Z)(function*(){return{...yield n().call(a,r,t),entitySchemaName:a._getEntitySchemaName(r)}})()}emitChanges(r){const t=r.find(a=>a.path==="itemConfig.filterType");if(t){this.filterType=t.value,this._emitFilterTypeChanges(t);return}const n=r.find(a=>a.path==="itemConfig.config");n&&(n.value=this._applyIconChangesToConfigIfNeed({...n.value,caption:this._getControlValue(this.getControl(N("caption"))),hint:this._getControlValue(this.getControl(N("hint")))})),super.emitChanges(r)}ngOnDestroy(){this._subscription.unsubscribe(),super.ngOnDestroy()}loadData(r){return this._applyDefaultIconSettingsIfNeed(r),this._initializeFeaturesState().pipe((0,c.tap)(()=>this._initializeFilterTypes(r)),(0,c.tap)(()=>this.filterType=(0,y.get)(r.itemConfig,"filterType")),(0,d.switchMap)(()=>this._setQuickFilterSettings(r)),(0,d.switchMap)(()=>super.loadData(r)))}onQuickFilterSettingsChange(r){this._quickFilterConfig={...this._quickFilterConfig,...r.config};const t=[{path:"itemConfig.config",value:this._quickFilterConfig,applyPropertyStrategy:m.ApplyChangedPropertyStrategy.Override}];if("targets"in r){const n=r.targets.filter(a=>!(0,y.isEmpty)(a.viewAttributeName));t.push(this._getQuickFilterTargetsChange(n)),this._quickFilterTargets=n}this._setComponentCaption(),this.emitChanges(t)}isIconSettingsVisible(){return!!this.filterType&&this.filterType!==s.QuickFilterType.Custom}};at.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(at)))(t||at)}}(),at.\u0275cmp=e.\u0275\u0275defineComponent({type:at,selectors:[["crt-quick-filter-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:18,vars:19,consts:[["cdkScrollable","",1,"properties-panel-wrap","quick-filter-properties-panel-wrap"],[1,"properties-form",3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],["labelPosition","above",3,"control","items","useStaticFiltering","label","readonly"],[3,"itemName","filterType","settings","settingsChange",4,"ngIf"],[1,"form-field-wrapper"],["formControlName","caption","iconLineType","bold",3,"label"],["formControlName","hint","iconLineType","bold",3,"label"],[3,"iconPositionControl","iconControl","icons","defaultIcon",4,"ngIf"],[3,"formGroup"],[3,"filterType","settings","settingsChange",4,"ngIf"],[3,"itemName","filterType","settings","settingsChange"],[3,"iconPositionControl","iconControl","icons","defaultIcon"],[3,"filterType","settings","settingsChange"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3),e.\u0275\u0275element(4,"crt-combobox",4),e.\u0275\u0275template(5,Gs,1,3,"crt-view-filter-properties-panel",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"crt-expansion-panel",3)(7,"mat-form-field",6)(8,"mat-label"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"ts-localizable-text-input",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-form-field",6)(12,"mat-label"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"ts-localizable-text-input",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(15,js,1,4,"crt-properties-panel-icon-settings",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"crt-properties-panel-advanced-settings",10),e.\u0275\u0275template(17,zs,1,2,"crt-view-filter-advanced-properties-panel",11),e.\u0275\u0275elementEnd()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("ChooseFilterTypeLabel")),e.\u0275\u0275property("control",t.getControl("filterType"))("items",t.getLookupItems("filterType"))("useStaticFiltering",!0)("readonly",t.filterTypeReadonly),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!t.filterType),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("CaptionLabel")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("label",t.translate("CaptionLabel")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("HintLabel")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("label",t.translate("HintLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isIconSettingsVisible()),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1))},dependencies:[f.NgIf,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.FormGroupDirective,p.FormControlName,x.CdkScrollable,nt,ot,D,ge,F],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"],changeDetection:0}),at=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.QuickFilterPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],at);var vo=T(13459);const nc=[$e,et,tt,rt,gr,_e,nt,ot];class hr{constructor(r){this._materialIconsRegistrator=r,this._materialIconsRegistrator.addIcons([{name:"plus",icon:T(49206)},{name:"cross",icon:T(69362)},{name:"info",icon:T(30595)}])}}hr.\u0275fac=function(r){return new(r||hr)(e.\u0275\u0275inject(E.MaterialIconsRegistrator))},hr.\u0275mod=e.\u0275\u0275defineNgModule({type:hr}),hr.\u0275inj=e.\u0275\u0275defineInjector({providers:[m.DataSourceDependencySettingService,m.FilterViewElementConfigProvider,{provide:z.DATA_PROVIDER,useClass:bn,multi:!0}],imports:[f.CommonModule,s.CrtButtonModule,s.CrtCheckboxModule,s.CrtComboBoxModule,s.CrtLabelModule,s.CrtRadioButtonModule,vo.MatButtonModule,I.MatIconModule,X.MatLegacyTooltipModule,z.StructureExplorerModule,P.TranslateModule,V.ViewModule,m.FilterViewElementConfigFindersModule,m.FilteringModelRelationConfigConvertersModule,pe]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(hr,{declarations:[$e,et,tt,rt,gr,_e,nt,ot],imports:[f.CommonModule,s.CrtButtonModule,s.CrtCheckboxModule,s.CrtComboBoxModule,s.CrtLabelModule,s.CrtRadioButtonModule,vo.MatButtonModule,I.MatIconModule,X.MatLegacyTooltipModule,z.StructureExplorerModule,P.TranslateModule,V.ViewModule,m.FilterViewElementConfigFindersModule,m.FilteringModelRelationConfigConvertersModule,pe],exports:[$e,et,tt,rt,gr,_e,nt,ot]})}();const qs=function(o){return{name:"test",type:o,isEmbedded:!0}};function Us(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0,18,19),e.\u0275\u0275listener("viewElementShow",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onDsAttributePropertiesPanelShow(a))}),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("crtViewElement",e.\u0275\u0275pureFunction1(1,qs,t.propertiesComponentTypeName))}}function Ws(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",9)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"ts-localizable-text-input",10,20),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.translate("Placeholder")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","placeholderValue")("label",t.translate("Placeholder"))}}function Qs(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getBindToDataSourceErrorMessage())}}const Hs=[{value:"inline",displayValue:"Inline"},{value:"classic",displayValue:"Classic"}];let it=class extends ue{constructor(){super(...arguments),this.toolbarDisplayModes=Hs.map(r=>({...r,displayValue:this.translate(r.displayValue)}))}getPropertiesConfig(){return{...super.getPropertiesConfig(),toolbarDisplayMode:{path:"itemConfig.toolbarDisplayMode",dataValueType:l.DataValueType.Lookup,options:{items:this.toolbarDisplayModes}}}}};it.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(it)))(t||it)}}(),it.\u0275cmp=e.\u0275\u0275defineComponent({type:it,selectors:[["crt-rich-text-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:30,vars:31,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[3,"crtViewElement","viewElementShow",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"crt-control-form-field-wrapper"],[3,"control","labelPosition","label"],[3,"formGroup"],[3,"items","useStaticFiltering","control","labelPosition","label"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","label"],["titleOnPage",""],["class","form-field-wrapper",4,"ngIf"],["tooltip",""],["floatLabel","always",1,"form-field-wrapper"],["matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl","errorStateMatcher"],["svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[4,"ngIf"],[3,"crtViewElement","viewElementShow"],["DataSourceAttributePropertiesPanel",""],["placeholder",""]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275template(2,Us,2,3,"ng-container",2),e.\u0275\u0275elementStart(3,"form",3)(4,"crt-expansion-panel",4)(5,"div",5),e.\u0275\u0275element(6,"crt-checkbox",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(7,"crt-properties-panel-visibility-settings",7),e.\u0275\u0275elementStart(8,"crt-expansion-panel",4)(9,"div",5),e.\u0275\u0275element(10,"crt-combobox",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-form-field",9)(12,"mat-label"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"ts-localizable-text-input",10,11),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,Ws,5,3,"mat-form-field",12),e.\u0275\u0275elementStart(17,"mat-form-field",9)(18,"mat-label"),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"ts-localizable-text-input",10,13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"crt-properties-panel-advanced-settings",7)(23,"mat-form-field",14)(24,"mat-label"),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(27,"input",15),e.\u0275\u0275elementStart(28,"mat-icon",16),e.\u0275\u0275listener("click",function(){return t.onSelectDataSourceClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(29,Qs,2,1,"mat-error",17),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.getTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.propertiesComponentTypeName),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("Editability")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("readonly"))("labelPosition","right")("label",t.translate("EditabilityControls.Readonly")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.getLookupItems("labelPosition"))("useStaticFiltering",!0)("control",t.getControl("labelPosition"))("labelPosition","above")("label",t.translate("LabelPosition")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("TitleOnPage")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","titleOnPage")("label",t.translate("TitleOnPage")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.isMasked),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("Tooltip")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","tooltipValue")("label",t.translate("Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(26,29,"PropertiesPages.BaseInputPropertiesPanel.BindToDataSourceCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("readonly",!0)("formControl",t.bindToDataSource)("errorStateMatcher",t.anyErrorStateMatcher),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.bindToDataSource.invalid))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,p.FormControlName,V.ViewElementDirective,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,D,F,A,P.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),it=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.RichTextPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],it);var Js=T(57186),ao;function Zs(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-combobox",8),o&2){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275propertyInterpolate("label",t.translate("RunBusinessProcessRequest.DataSourceFieldCaption")),e.\u0275\u0275property("items",t.viewElementDataSourceInfos)("control",t.viewControl)("useStaticFiltering",!0)}}function Ks(o,r){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Zs,1,4,"crt-combobox",6),e.\u0275\u0275element(2,"crt-combobox",7),e.\u0275\u0275elementContainerEnd()),o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isForTheSelectedRecordsRunType),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("RunBusinessProcessRequest.HowProcessRunLabel")),e.\u0275\u0275property("control",t.processParameterControl)("items",t.processParameters)("useStaticFiltering",!0)}}function Xs(o,r){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"crt-combobox",5),e.\u0275\u0275template(2,Ks,3,5,"ng-container",4),e.\u0275\u0275elementContainerEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("RunBusinessProcessRequest.HowProcessRunQuestion")),e.\u0275\u0275property("control",t.processRunTypeControl)("items",t.processRunTypes)("useStaticFiltering",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isNotDefaultProcessRunType)}}let Cr=ao=class extends W{get isProcessSelected(){return!(0,y.isEmpty)(this.processNameControl.value)}get isNotDefaultProcessRunType(){return this.processRunTypeControl.value?.value!==w.RunProcessType.RegardlessOfThePage}get isForTheSelectedPageRunType(){return this.processRunTypeControl.value?.value===w.RunProcessType.ForTheSelectedPage}get isForTheSelectedRecordsRunType(){return this.processRunTypeControl.value?.value===w.RunProcessType.ForTheSelectedRecords}get processParameters(){return this._featureValues.DisableParametersTypeFilterInRunProcessRequestPropertiesPanel?this._processParameters:this._getSupportedParameters()}get isProcessHasParameters(){return this.processParameters?.length>0}get getOpenProcessDesignerIcon(){return this.processNameControl.value?.value?"open-button-icon":"add-button-icon"}get getOpenProcessDesignerTitle(){return this.translate(`RunBusinessProcessRequest.${this.processNameControl.value?.value?"Select":"AddNew"}BusinessProcessButton`)}constructor(r){super(),this._environment=r,this._translatePrefix="InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel",this._defaultRunProcessType=w.RunProcessType.RegardlessOfThePage,this._schemaDesignerUrlParameter="?vm=SchemaDesigner#process/",this._isAddNewProcess=!1,this._isNewConfig=!0,this._dataSourcesLookupValuesProvider=(0,e.inject)(H),this._designerDataSourceManager=(0,e.inject)(m.DesignerDataSourceManager),this._filteringRequestParamsBindingConfigCreator=(0,e.inject)(se),this._sortingColumnsRequestParamsBindingConfigCreator=(0,e.inject)(Yn),this._entitySchemaRepository=(0,e.inject)(g.EntitySchemaRepository),this._featureValues=(0,e.inject)(g.FEATURE_VALUES),this._window=(0,e.inject)(U.WINDOW_TOKEN),this._translateService=(0,e.inject)(P.TranslateService),this._selectProcessService=(0,e.inject)(ln),this._broadcastChannelFactory=(0,e.inject)(U.BroadcastChannelFactory),this._cdr=(0,e.inject)(e.ChangeDetectorRef),this._activatedRoute=(0,e.inject)(Js.ActivatedRoute),this._maskService=(0,e.inject)(E.MaskService),this.processRunTypes=Object.keys(w.RunProcessType).map(t=>({value:t,displayValue:this.translate(`RunBusinessProcessRequest.HowRunProcessOptions.${t}`)})),this.processNameControl=new p.FormControl,this.processRunTypeControl=new p.FormControl,this.processParameterControl=new p.FormControl,this.viewControl=new p.FormControl,this.dataSourceAttributeControl=new p.FormControl,this.processes=[],this._processParameters=[],this.isLoading=!1,this._processNameControlValueChanges$=this.processNameControl.valueChanges.pipe((0,c.tap)(()=>this._maskService.showBodyMask()),(0,c.switchMap)(t=>{const n=this._loadProcessParameters(t?.value),a=t?.value?this._loadProcesses():(0,d.of)(null);return(0,d.forkJoin)([a,n,(0,d.of)(t)])})),this._processRunTypeControlValueChanges$=this.processRunTypeControl.valueChanges,this._processParameterControlValueChanges$=this.processParameterControl.valueChanges,this._dataSourceControlValueChanges$=this.viewControl.valueChanges.pipe((0,c.tap)(()=>this._maskService.showBodyMask()),(0,c.switchMap)(t=>this._loadDataSourceSchema(t?.dataSourceName))),this._findIn=(t,n)=>t?.find(a=>a.value===n)||null,this._findProcessRunType=(t=this._defaultRunProcessType)=>this._findIn(this.processRunTypes,t),this._findBusinessProcessParameter=t=>this._findIn(this._processParameters,t)}set params(r){this._resetState(),this._setControls(r)}get params(){const r=this.processRunTypeControl.value?.value??w.RunProcessType.RegardlessOfThePage,t={processName:this.processNameControl.value?.value,processRunType:r};if(this._isNewConfig?t.showNotification=!0:this._showNotification!==void 0&&(t.showNotification=this._showNotification),this._notificationText!==void 0&&(t.notificationText=this._notificationText),this.isForTheSelectedRecordsRunType){const n=this.viewControl.value,a=n?.dataSourceName,i=n?.value;t.dataSourceName=a,t.parameterMappings={[this.processParameterControl.value?.value]:this.dataSourceAttributeControl.value?.value};const u=this._filteringRequestParamsBindingConfigCreator.createCollectionFilteringParams(a,{supportEmptySelection:!1,viewElementName:i}),h=this._sortingColumnsRequestParamsBindingConfigCreator.createSortingConfigParams(a);return{...t,...u,...h}}else t.recordIdProcessParameterName=this.processParameterControl.value?.value;return t}_loadProcesses(){return this._selectProcessService.getProcessList().pipe((0,c.tap)(r=>this.processes=r))}_loadProcess(r){return this._selectProcessService.getProcessByName(r)}_getIsLookupParameter(r){return(0,l.isGuid)(r.referenceSchemaUId)&&!(0,l.isEmptyGuid)(r.referenceSchemaUId)&&(r.dataValueType===l.DataValueType.Lookup||r.dataValueType===l.DataValueType.IMAGELOOKUP)}_loadProcessParameters(r){return this._selectProcessService.getProcessParameters(r).pipe((0,c.switchMap)(t=>(0,d.forkJoin)([(0,d.of)(t),...t.filter(n=>this._getIsLookupParameter(n)).map(n=>this._entitySchemaRepository.getSchemaByUId(n.referenceSchemaUId))])),(0,c.tap)(([t,...n])=>{t.forEach(a=>{if(this._getIsLookupParameter(a)){const i=n.find(u=>u.uId===a.referenceSchemaUId);i&&(a.referenceSchemaName=i.name)}})}),(0,c.map)(([t,...n])=>this._processParameters=t))}_getProcessDesignerUrl(r){const t=r??(this._packageUId?`add/${this._packageUId}`:"");return(0,g.getWorkspaceBaseUrl)()+this._environment.defaultApplicationUrl+this._schemaDesignerUrlParameter+t}_initRouteParameters(){this._activatedRoute.queryParams.subscribe(r=>this._packageUId=r?.packageUId)}_subscribeOnSavedProcessSchema(){this._subscriptionSchemaSaved&&!this._subscriptionSchemaSaved.closed||(this._subscriptionSchemaSaved=this._broadcastChannelFactory.createInstance(g.PROCESS_SCHEMA_SAVED_CHANNEL_NAME).messages$.subscribe(r=>{(this._canAddNewProcess(r)||this._canUpdateProcess(r))&&(this.processNameControl.setValue({value:r.name,displayValue:r.caption,uId:r.uId,versionParentUId:r.parentUId}),this._isAddNewProcess=!1)}))}_canAddNewProcess(r){return r.isNew&&!this.isProcessSelected&&this._isAddNewProcess}_canUpdateProcess(r){const t=this.processNameControl?.value;return!r.isNew&&r.isActiveVersion&&(t?.value===r.name||t?.uId===r.uId||t?.versionParentUId===r.parentUId||t?.uId===r.parentUId)}_unsubscribeFromBusinessProcessSavedMessage(){this._subscriptionSchemaSaved?.unsubscribe()}_valueChangesHandle(){this.isLoading=!1,this.paramsChange.emit(this.params),this._cdr.detectChanges()}_processNameControlValueChangesHandle(){this.processRunTypeControl.setValue(this._findProcessRunType(),{emitEvent:!1}),this.processParameterControl.setValue(null,{emitEvent:!1}),this._valueChangesHandle()}_resetDataSourceControls(){this.viewControl.setValue(null,{emitEvent:!1}),this.dataSourceAttributeControl.setValue(null,{emitEvent:!1})}_processRunTypeControlValueChangesHandle(r){[w.RunProcessType.ForTheSelectedPage,w.RunProcessType.ForTheSelectedRecords].includes(r?.value)&&this._processParameters.length===1?this.processParameterControl.setValue((0,y.first)(this._processParameters),{emitEvent:!1}):(this.processParameterControl.setValue(null,{emitEvent:!1}),this._resetDataSourceControls()),r?.value===w.RunProcessType.ForTheSelectedRecords&&this.viewElementDataSourceInfos.length===1?this.viewControl.setValue((0,y.first)(this.viewElementDataSourceInfos)):this.viewControl.setValue(null),this._valueChangesHandle()}_resetState(){const r={emitEvent:!1};this._loadProcessInfoSubscription?.unsubscribe(),this._processParameters=[],this.processes=[],this.processParameterControl.setValue(null,r),this.processNameControl.setValue(null,r),this.processRunTypeControl.setValue(null,r),this._resetDataSourceControls(),this.isLoading=!0,this._cdr.detectChanges()}_loadProcessInfo(r){const t=r?.processName,n=this._loadProcesses(),a=this._loadProcess(t).pipe((0,c.switchMap)(i=>(0,d.iif)(()=>i?.isActiveVersion,(0,d.of)(i),this._selectProcessService.getActiveVersionProcess(i?.versionParentUId))),(0,c.switchMap)(i=>this._loadProcessParameters(i?.value).pipe((0,c.map)(u=>({processParameters:u,process:i})))));return(0,d.forkJoin)([n,a]).pipe((0,c.map)(([i,{process:u,processParameters:h}])=>({processList:i,process:u,processParameters:h})))}_loadDataSourceSchema(r){return r?this._designerDataSourceManager.getDataSourceSchemaByName$(r).pipe((0,c.tap)(t=>this._dataSourceSchema=t)):(0,d.of)(null)}_findDataSchemaAttribute(r){const t=this._dataSourceSchema?.attributes.find(n=>n.name===r);return t?{value:t.name,displayValue:t.caption}:null}_handleForTheSetOfRecordsRunType(r,t,n){let a=n.primaryAttributeName;const i=Object.entries(r.parameterMappings??[]);if(i.length>0){const[b,O]=i[0];t=b,a=O}const u=this.viewElementDataSourceInfos.find(b=>r.filters?.includes(b.value));this.viewControl.setValue(u,{emitEvent:!1});const h=this._findDataSchemaAttribute(a);return this.dataSourceAttributeControl.setValue(h,{emitEvent:!1}),t}_setControls(r){r&&(this._isNewConfig=!1),this._cdr.detectChanges(),this._maskService.showBodyMask(),this.isLoading=!0,(0,d.forkJoin)([this._loadProcessInfo(r),this._loadDataSourceSchema(r?.dataSourceName)]).subscribe(([t,n])=>{this.processNameControl.setValue(t.process,{emitEvent:!1});const a=r?.processRunType??this._defaultRunProcessType;this.processRunTypeControl.setValue(this._findProcessRunType(a),{emitEvent:!1});let i=r?.recordIdProcessParameterName;a===w.RunProcessType.ForTheSelectedRecords&&n&&(i=this._handleForTheSetOfRecordsRunType(r,i,n)),this.processParameterControl.setValue(this._findBusinessProcessParameter(i),{emitEvent:!1}),this._showNotification=r.showNotification,this._notificationText=r.notificationText,this.isLoading=!1,this._maskService.hideBodyMask(),this._cdr.detectChanges()})}_getSupportedParameters(){const r=this._dataSourceSchema?.name;return this._processParameters.filter(t=>t.dataValueType===l.DataValueType.Guid?!0:t.dataValueType===l.DataValueType.Lookup?t.referenceSchemaName===r||!r:!1)}translate(r){return this._translateService.instant(`${this._translatePrefix}.${r}`)}openProcessDesignerClicked(){this._selectProcessService.getProcessUid(this.processNameControl.value?.value).subscribe({next:r=>{this._isAddNewProcess=Boolean(!r);const t=this._getProcessDesignerUrl(r);this._window.open(t).focus()}})}ngOnInit(){this._processNameControlValueChanges$.subscribe({next:()=>{this._processNameControlValueChangesHandle(),this._maskService.hideBodyMask()}}),this._processRunTypeControlValueChanges$.subscribe({next:r=>{this._processRunTypeControlValueChangesHandle(r)}}),this._processParameterControlValueChanges$.subscribe({next:()=>this._valueChangesHandle()}),this._dataSourceControlValueChanges$.pipe((0,c.tap)(r=>{if(this._maskService.hideBodyMask(),!r){this.dataSourceAttributeControl.setValue(null),this._dataSourceSchema=null;return}const t=r.primaryAttributeName,n=r.attributes.find(a=>a.name===t);this.dataSourceAttributeControl.setValue({value:n.name,displayValue:n.caption})})).subscribe({next:()=>this._valueChangesHandle()}),this._initRouteParameters(),this._subscribeOnSavedProcessSchema(),this._dataSourcesLookupValuesProvider.getViewElementsDataSourceInfo().subscribe(r=>this.viewElementDataSourceInfos=r)}ngOnDestroy(){this._unsubscribeFromBusinessProcessSavedMessage(),this._loadProcessInfoSubscription?.unsubscribe()}processFilter(r){typeof r?.filterValue=="string"&&this._selectProcessService.getProcessList(r.filterValue).subscribe(t=>{(0,y.isEmpty)(t)||(this.processes=t),this._cdr.detectChanges()})}};Cr.\u0275fac=function(r){return new(r||Cr)(e.\u0275\u0275directiveInject("environment"))},Cr.\u0275cmp=e.\u0275\u0275defineComponent({type:Cr,selectors:[["crt-run-business-process-request-properties-panel"]],features:[e.\u0275\u0275ProvidersFeature([{provide:p.NG_VALUE_ACCESSOR,useExisting:(0,e.forwardRef)(()=>ao),multi:!0}]),e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:8,consts:[["cdkScrollable","",1,"run-business-process-request-properties-panel","properties-panel-wrap"],[1,"select-process-container"],["labelPosition","above",1,"control",3,"control","label","items","loading","showList"],["iconPosition","only-icon","shape","rounded",1,"open-process-designer-button",3,"icon","ariaLabel","title","clicked"],[4,"ngIf"],["labelPosition","above",1,"control",3,"control","label","items","useStaticFiltering"],["class","control","labelPosition","above",3,"items","control","useStaticFiltering","label",4,"ngIf"],["labelPosition","above",1,"control",3,"control","items","useStaticFiltering","label"],["labelPosition","above",1,"control",3,"items","control","useStaticFiltering","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"crt-combobox",2),e.\u0275\u0275listener("showList",function(a){return t.processFilter(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"crt-button",3),e.\u0275\u0275listener("clicked",function(){return t.openProcessDesignerClicked()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,Xs,3,5,"ng-container",4),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",t.translate("RunBusinessProcessRequest.WhichProcessRunQuestion")),e.\u0275\u0275property("control",t.processNameControl)("items",t.processes)("loading",t.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("icon",t.getOpenProcessDesignerIcon)("ariaLabel","ariaLabel")("title",t.getOpenProcessDesignerTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isProcessHasParameters&&t.isProcessSelected))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtComboBoxComponent,x.CdkScrollable],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .run-business-process-request-properties-panel[_ngcontent-%COMP%]{width:100%;display:block}[_nghost-%COMP%]   .run-business-process-request-properties-panel[_ngcontent-%COMP%]   .select-process-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}[_nghost-%COMP%]   .run-business-process-request-properties-panel[_ngcontent-%COMP%]   .select-process-container[_ngcontent-%COMP%]   crt-combobox[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .run-business-process-request-properties-panel[_ngcontent-%COMP%]   .select-process-container[_ngcontent-%COMP%]   .open-process-designer-button[_ngcontent-%COMP%]{align-self:center}"]}),Cr=ao=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.RunBusinessProcessRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[Object])],Cr);const Ys=function(o){return{schemaName:o}};let lt=class extends L{constructor(){super(...arguments),this.translatePrefix="InterfaceDesigner.PropertiesPages.SchemaOutletPropertiesPage"}getPropertiesConfig(){return{...super.getPropertiesConfig(),schemaName:{path:"itemConfig.schemaName",dataValueType:l.DataValueType.Text}}}onParamsChange(r){this.getControl("schemaName").setValue(r.schemaName)}};lt.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(lt)))(t||lt)}}(),lt.\u0275cmp=e.\u0275\u0275defineComponent({type:lt,selectors:[["crt-schema-outlet-property-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:9,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],[3,"title"],[3,"config","params","paramsChange"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-properties-panel-group",3)(4,"crt-page-select-properties-panel",4),e.\u0275\u0275listener("paramsChange",function(a){return t.onParamsChange(a)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(5,"crt-properties-panel-visibility-settings",1)(6,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("GeneralGroup")),e.\u0275\u0275advance(1),e.\u0275\u0275property("config",t.config)("params",e.\u0275\u0275pureFunction1(7,Ys,t.getControl("schemaName").value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,Xe,D,F,A,ce],encapsulation:2}),lt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.SchemaOutletPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],lt);let fr=class extends L{constructor(r){super(r),this._injector=r,this._notAvailableProperties=["visible"],this.translatePrefix="InterfaceDesigner.PropertiesPages.SearchFilterPropertiesPanel",this.loadingTargets=!1,this._initDependencies()}_initDependencies(){this._designerSchemaService=this.injector.get(_.DesignerSchemaService),this._displayValueCreatorFactoryService=this.injector.get(m.DisplayValueCreatorFactoryService)}_setLookupItemsForTargets(){return this.loadingTargets=!0,(0,d.from)(this._getAllowedTargets()).pipe((0,c.map)(r=>this.setLookupItems("targetAttributes",r)),(0,c.tap)(()=>this.loadingTargets=!1))}_getAllowedTargets(){var r=this;return(0,k.Z)(function*(){const t=[],n=r._getCollectionAttributeNames(),a=r._getMappedBindedViewElementConfigsByPropertyValues(n);return yield Promise.all(n.map(function(){var i=(0,k.Z)(function*(u){const h=r._getBindedViewElementConfigsByPropertyValue(a,u);if(h.length===0)return;const b=yield r._createAllowedTarget(u,h);t.push(b)});return function(u){return i.apply(this,arguments)}}())),t})()}_getCollectionAttributeNames(){return this._getCollectionDataSourceInfos().map(t=>t.collectionViewModelAttributeName)}_getCollectionDataSourceInfos(){const r=this._designerSchemaService.getViewModelConfig();return Array.from(w.DataSourceInfo.getFromViewModelConfig(r).values()).filter(n=>n.isCollection)}_getMappedBindedViewElementConfigsByPropertyValues(r){const t=this._getBindedViewElementConfigsByAttributeNames(r),n=[];return t.forEach(a=>{n.push({propertyValue:this._getPropertyValueFromBindedViewElementConfig(a,r),viewConfig:a})}),n}_getBindedViewElementConfigsByAttributeNames(r){return this._designerSchemaService.getViewConfigInfoByPropertyValues(r.map(t=>`$${t}`)).map(t=>t.viewConfig)}_getPropertyValueFromBindedViewElementConfig(r,t){const n=Object.getOwnPropertyNames(r);for(const a of n)for(const i of t)if(r[a]===`$${i}`)return i;return null}_getBindedViewElementConfigsByPropertyValue(r,t){return r.filter(n=>n.propertyValue===t).map(n=>n.viewConfig)}_createAllowedTarget(r,t){var n=this;return(0,k.Z)(function*(){const a=yield n._getElementCaption(t[0]),i=Array.from(t.map(h=>h?.name).filter(Boolean)),u=Array.from(t.map(h=>n._getElementTypeCaption(h?.type)));return{value:r,displayValue:n._getFullViewElementCaption(u,a,i)}})()}_getElementCaption(r){const t=this._displayValueCreatorFactoryService.get(r?.type);return(0,d.firstValueFrom)(t.getDisplayValue(r))}_getElementTypeCaption(r){const n=l.InterfaceDesignerItemRegistry.interfaceDesignerItemRegistrationInfos.get(r)?.typeCaption;return n?this.translateService.instant(n):""}_getFullViewElementCaption(r,t,n){const a=[...new Set(r)];return`${a.length===1&&a.slice().pop()===t?t:`${a.join(", ")} ${t}`} | ${n.join(", ")}`}_setTargetsChangesIfNeed(r){const t=r.find(n=>n.path==="itemConfig.targetAttributes");if(t){const n=t.value;t.value=[n?.value].filter(Boolean)}}_getSelectedTargetsFromControl(r){return this.getLookupItems("targetAttributes").filter(t=>t.value===r.slice().pop()).slice().pop()}_clearNotAvailableProperties(r){this._notAvailableProperties.forEach(t=>{delete r[t]})}getPropertiesConfig(){const r={...super.getPropertiesConfig(),targetAttributes:{path:"itemConfig.targetAttributes",dataValueType:l.DataValueType.COLLECTION,applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}},placeholderValue:{path:"itemConfig.placeholder",dataValueType:l.DataValueType.LOCALIZABLE_STRING},iconOnly:{path:"itemConfig.iconOnly",dataValueType:l.DataValueType.Boolean}};return this._clearNotAvailableProperties(r),r}beforeSetControlValue(r,t,n){return t==="targetAttributes"?Array.isArray(r)?this._getSelectedTargetsFromControl(r):r:super.beforeSetControlValue(r,t,n)}emitChanges(r){this._setTargetsChangesIfNeed(r),super.emitChanges(r)}loadData(r){return this._setLookupItemsForTargets().pipe((0,c.switchMap)(()=>super.loadData(r)))}};fr.\u0275fac=function(r){return new(r||fr)(e.\u0275\u0275directiveInject(e.Injector))},fr.\u0275cmp=e.\u0275\u0275defineComponent({type:fr,selectors:[["crt-search-filter-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:17,vars:19,consts:[["cdkScrollable","",1,"properties-panel-wrap","search-filter-properties-panel-wrap"],[1,"properties-form",3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"crt-control-form-field-wrapper"],["labelPosition","above",3,"control","items","loading","useStaticFiltering","label","tooltip"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","label"],[1,"search-filter-info-container"],["svgIcon","info-icon"],[1,"info-label","crt-input-label"],[3,"innerHTML"],["labelPosition","right",1,"control",3,"control","label"],[3,"formGroup"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3)(4,"div",4),e.\u0275\u0275element(5,"crt-combobox",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"mat-form-field",6)(7,"mat-label"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"ts-localizable-text-input",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275element(11,"mat-icon",9),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275element(13,"p",11),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(14,"crt-expansion-panel",3),e.\u0275\u0275element(15,"crt-checkbox",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"crt-properties-panel-advanced-settings",13),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",t.translate("ChooseTargetsCaption")),e.\u0275\u0275propertyInterpolate("tooltip",t.translate("ChooseTargetsTooltip")),e.\u0275\u0275property("control",t.getControl("targetAttributes"))("items",t.getLookupItems("targetAttributes"))("loading",t.loadingTargets)("useStaticFiltering",!0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("Placeholder")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","placeholderValue")("label",t.translate("Placeholder")),e.\u0275\u0275advance(4),e.\u0275\u0275property("innerHTML",t.translate("DirectConnection"),e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("IconOnlyCaption")),e.\u0275\u0275property("control",t.getControl("iconOnly")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.FormGroupDirective,p.FormControlName,I.MatIcon,x.CdkScrollable,D,F],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:0}.search-filter-info-container[_ngcontent-%COMP%]{display:flex;gap:15px;padding-bottom:1.25em}.search-filter-info-container[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{margin-block-start:unset}.search-filter-info-container[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-block-end:unset}.search-filter-info-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;min-width:16px;padding-top:1px}"],changeDetection:0}),fr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.SearchFilterPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector])],fr);function $s(o,r){o&1&&(e.\u0275\u0275elementStart(0,"div",3),e.\u0275\u0275element(1,"mat-icon",4),e.\u0275\u0275elementStart(2,"div",5)(3,"span",6),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()()()),o&2&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,1,"InterfaceDesigner.PropertiesPages.SelectLookupPageRequestPropertiesPanel.InfoMessage")))}let st=class extends On{};st.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(st)))(t||st)}}(),st.\u0275cmp=e.\u0275\u0275defineComponent({type:st,selectors:[["crt-select-lookup-page-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:7,consts:[["cdkScrollable","",1,"properties-panel-wrap"],["labelPosition","above",3,"items","useStaticFiltering","control","label"],["class","page-info-container",4,"ngIf"],[1,"page-info-container"],["svgIcon","info-icon"],["data-item-marker","SelectLookupPage",1,"info-text","crt-input-label"],["data-item-marker","pagesInfoLabel"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-combobox",1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,$s,6,3,"div",2)),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(2,5,"InterfaceDesigner.PropertiesPages.SelectLookupPageRequestPropertiesPanel.ViewSelectCaption")),e.\u0275\u0275property("items",t.views)("useStaticFiltering",!0)("control",t.viewControl),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.params==null?null:t.params.viewName))},dependencies:[f.NgIf,s.CrtComboBoxComponent,I.MatIcon,x.CdkScrollable,P.TranslatePipe],styles:[".page-info-container[_ngcontent-%COMP%]{display:flex;gap:4px;padding:4px 25px 0 0}.page-info-container[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   crt-link[_ngcontent-%COMP%]{display:inline-flex}.page-info-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;min-width:16px;padding-top:1px}"],changeDetection:0}),st=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.SelectLookupPageRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],st);function ep(o,r){o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.SendInvitesForActivityRequest.RequiredFieldError")," "))}let yr=class extends W{constructor(r,t,n){super(),this._designerSchemaService=r,this._designerDataSourceManager=t,this._structureExplorer=n,this.activityColumnControl=new p.FormControl}_getPrimaryDataSourceName(){return this._designerSchemaService.getPrimaryDataSourceName()||"PDS"}_onControlValueChange(r){const t=this.params||{};this.params={...t,activityId:r},this.paramsChange.emit(this.params)}_getStructureExplorerDataProviderConfig(){const r=this._activityIdColumnPath,t=this._getPrimaryDataSourceName();return{navigateOnlyThroughDataSource:t,name:S.DATA_SOURCE_STRUCTURE_EXPLORER_DATA_PROVIDER_NAME,options:{selectedMetaPaths:r?[`${t}.${r}`]:[]},itemsCustomFilterFunction:n=>{const a=n.data.item,i=a.dataValueType,u=a.referenceSchemaName;return i===l.DataValueType.Guid||i===l.DataValueType.Lookup&&u==="Activity"},relatedItemsCustomFilterFunction:()=>!0}}_onColumnSelected(r){if(r?.dialogResult!==Dn.StructureExplorerDialogResult.Selected)return;const t=this._getPrimaryDataSourceName(),n=r?.selectedItems[0],a=n?.metaPath?.startsWith(t)?n?.metaPath?.replace(`${t}.`,""):n?.metaPath;this._activityIdColumnPath=a,this._getColumnCaption(a).subscribe(i=>this.activityColumnControl.setValue(i)),this._onControlValueChange(a)}_getColumnCaption(r){const t=this._getPrimaryDataSourceName();return this._designerDataSourceManager.getDataSourceServiceByDataSourceName(t).pipe((0,d.switchMap)(n=>n.getForwardReferenceAttributeCaptionByPath$(`${t}.${r}`)))}onRequestParamsChange(r){super.onRequestParamsChange(r),!(0,y.isEmpty)(r)&&r.activityId&&!this.activityColumnControl.value&&(this._activityIdColumnPath=r.activityId,this._getColumnCaption(this._activityIdColumnPath).subscribe(t=>this.activityColumnControl.setValue(t)))}onSelectColumnClick(){const r=this._getStructureExplorerDataProviderConfig();this._structureExplorer.show({providers:[r],enableMultiSelection:!1,returnDialogResult:!0}).subscribe(t=>this._onColumnSelected(t))}};yr.\u0275fac=function(r){return new(r||yr)(e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(m.DesignerDataSourceManager),e.\u0275\u0275directiveInject(z.StructureExplorerService))},yr.\u0275cmp=e.\u0275\u0275defineComponent({type:yr,selectors:[["crt-send-invites-for-activity-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:9,vars:6,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[1,"properties-form","send-invites-for-activity-request-properties-panel"],["floatLabel","always",1,"form-field-wrapper"],["data-qa","SendInviteToActivityColumnInput","required","","matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl"],["data-qa","SendInviteToActivityColumnIcon","svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[4,"ngIf"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"input",3),e.\u0275\u0275elementStart(7,"mat-icon",4),e.\u0275\u0275listener("click",function(){return t.onSelectColumnClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,ep,3,3,"mat-error",5),e.\u0275\u0275elementEnd()()()),r&2&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.SendInvitesForActivityRequest.ActivityColumn")),e.\u0275\u0275advance(2),e.\u0275\u0275property("readonly",!0)("formControl",t.activityColumnControl),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.activityColumnControl.invalid))},dependencies:[f.NgIf,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.DefaultValueAccessor,p.NgControlStatus,p.RequiredValidator,p.FormControlDirective,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,P.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .send-invites-for-activity-request-properties-panel[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),yr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.CrtSendInvitesForActivityRequestPropertiesPanelComponent",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[_.DesignerSchemaService,m.DesignerDataSourceManager,z.StructureExplorerService])],yr);let Sr=class extends W{constructor(r,t){super(),this.designerSchemaService=r,this._translateService=t,this._timeScaleMap={"00:05:00":"FiveMinutes","00:10:00":"TenMinutes","00:15:00":"FifteenMinutes","00:30:00":"ThirtyMinutes","01:00:00":"OneHour"},this.calendarControl=new p.FormControl,this.timeScaleControl=new p.FormControl,this._subscribeValueChange()}get calendarComponentList(){return this.designerSchemaService.getViewConfigInfoByPropertyValues(["crt.Calendar"]).map(r=>r.viewConfig).map(r=>({value:this._getTimeScaleAttributeName(r),displayValue:r.name}))}get timeScaleList(){return[this._mapTimeScaleLookup("00:05:00"),this._mapTimeScaleLookup("00:10:00"),this._mapTimeScaleLookup("00:15:00"),this._mapTimeScaleLookup("00:30:00"),this._mapTimeScaleLookup("01:00:00")]}_mapTimeScaleLookup(r){return{value:r,displayValue:this._getTimeScaleName(r)}}_getCalendarByAttribute(r){const t=this.designerSchemaService.getViewConfigInfoByPropertyValues([`$${r}`]).map(n=>n.viewConfig.name);return t?.length>0?t[0]:""}_getTimeScaleAttributeName(r){if(!(0,y.isEmpty)(r.timeScale))return r.timeScale.replace("$","");const t=`${r.name}_TimeScale`;return this.designerSchemaService.createViewModelAttribute(t,{value:"00:30:00"}),r.timeScale=`$${t}`,t}_subscribeValueChange(){this.calendarControl.valueChanges.subscribe(r=>this._onControlValueChange(r.value,"timeScaleAttributeName")),this.timeScaleControl.valueChanges.subscribe(r=>this._onControlValueChange(r.value,"timeScale"))}_onControlValueChange(r,t){const n=this.params||{};this.params={...n,[t]:r},this.paramsChange.emit(this.params)}_getTimeScaleName(r){const t=this._timeScaleMap[r],n="InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.SetCalendarTimeScaleRequest";return this._translateService.instant(`${n}.${t}`)}onRequestParamsChange(r){super.onRequestParamsChange(r),!(0,y.isEmpty)(r)&&(r.timeScaleAttributeName&&!this.calendarControl.value&&this.calendarControl.setValue({value:r.timeScaleAttributeName,displayValue:this._getCalendarByAttribute(r.timeScaleAttributeName)},{emitEvent:!1}),r.timeScale&&!this.timeScaleControl.value&&this.timeScaleControl.setValue(this._mapTimeScaleLookup(this.params.timeScale),{emitEvent:!1}))}};Sr.\u0275fac=function(r){return new(r||Sr)(e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(P.TranslateService))},Sr.\u0275cmp=e.\u0275\u0275defineComponent({type:Sr,selectors:[["crt-set-calendar-time-scale-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:12,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[1,"properties-form","set-calendar-time-scale-request-properties-panel"],["labelPosition","above",3,"items","control","useStaticFiltering","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"crt-combobox",2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275element(4,"crt-combobox",2),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.calendarComponentList)("control",t.calendarControl)("useStaticFiltering",!0)("label",e.\u0275\u0275pipeBind1(3,8,"InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.SetCalendarTimeScaleRequest.Calendar")),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.timeScaleList)("control",t.timeScaleControl)("useStaticFiltering",!0)("label",e.\u0275\u0275pipeBind1(5,10,"InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.SetCalendarTimeScaleRequest.TimeScale")))},dependencies:[s.CrtComboBoxComponent,x.CdkScrollable,P.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .set-calendar-time-scale-request-properties-panel[_ngcontent-%COMP%]{width:100%;display:block}"],changeDetection:0}),Sr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.CrtSetCalendarTimeScaleRequestPropertiesPanelComponent",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[_.DesignerSchemaService,P.TranslateService])],Sr);let pt=class extends W{constructor(){super(...arguments),this._subscriptions=new d.Subscription,this.openInModalWindowControl=new p.FormControl(!1)}_initializeData(){this.openInModalWindowControl.setValue(this.params?.openInModalWindow||!1)}_subscribeOnOpenInModalWindowControlValueChange(){this._subscriptions.add(this.openInModalWindowControl.valueChanges.subscribe(r=>{this.params={openInModalWindow:r},this.paramsChange.emit(this.params)}))}ngOnInit(){setTimeout(()=>{this._initializeData(),this._subscribeOnOpenInModalWindowControlValueChange()})}ngOnDestroy(){this._subscriptions.unsubscribe()}};pt.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(pt)))(t||pt)}}(),pt.\u0275cmp=e.\u0275\u0275defineComponent({type:pt,selectors:[["crt-set-record-rights-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[["cdkScrollable","",1,"crt-set-record-rights-request-properties-panel","properties-panel-wrap"],["labelPosition","right",3,"control","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-checkbox",1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(2,2,"InterfaceDesigner.PropertiesPages.SetRecordRightsRequestPropertiesPanel.OpenInModalWindowCaption")),e.\u0275\u0275property("control",t.openInModalWindowControl))},dependencies:[s.CrtCheckboxComponent,x.CdkScrollable,P.TranslatePipe],styles:[".crt-set-record-rights-request-properties-panel.properties-panel-wrap[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),pt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.SetRecordRightsRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],pt);function tp(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-attribute-mapping",4),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("formControl",t.recordIdControl)}}let ct=class extends hn{constructor(){super(...arguments),this.translatePrefix="InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.ShowRelationshipsRequest",this.allowedSchemas=["Contact","Account"],this.recordIdControl=new p.FormControl,this.entitySelectLabel=this.translate("SelectEntityLabel"),this.recordIdLabel=this.translate("SelectRecordIdLabel")}_onRecordIdChange(r){this.params={entityName:this.params.entityName,recordId:r},super.onParamsChanged()}filterReferenceSchemas(r){return r.filter(t=>this.allowedSchemas.includes(t.value))}onEntitySelect(r){super.onEntitySelect(r),this.recordIdControl.setValue({attributeName:"recordId",value:null,caption:this.recordIdLabel,dataValueType:l.DataValueType.Lookup,referenceSchemaName:r},{emitEvent:!1})}ngOnInit(){setTimeout(()=>{super.ngOnInit(),this.recordIdControl.setValue({attributeName:"recordId",value:this.params?.recordId,caption:this.recordIdLabel,dataValueType:l.DataValueType.Lookup,referenceSchemaName:this.params?.entityName}),this.recordIdControl.valueChanges.pipe((0,c.takeUntil)(this.destroyed$)).subscribe({next:({value:r})=>this._onRecordIdChange(r)}),this.cdr.detectChanges()},0)}};ct.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(ct)))(t||ct)}}(),ct.\u0275cmp=e.\u0275\u0275defineComponent({type:ct,selectors:[["crt-show-relationships-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:5,consts:[["cdkScrollable","",1,"show-relationship-request-properties-panel","properties-panel-wrap"],[1,"properties-form"],["hidePageInfo","true",1,"hide-add-button",3,"control","items","label","config"],[3,"formControl",4,"ngIf"],[3,"formControl"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"crt-entity-schema-select",2),e.\u0275\u0275template(3,tp,1,1,"crt-attribute-mapping",3),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.entitySelectControl)("items",t.entityOptions)("label",t.entitySelectLabel)("config",t.config),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.params==null?null:t.params.entityName))},dependencies:[f.NgIf,p.NgControlStatus,p.FormControlDirective,x.CdkScrollable,Z,de],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .show-relationship-request-properties-panel[_ngcontent-%COMP%]{width:100%;display:block}"],changeDetection:0}),ct=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ShowRelationshipsRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],ct);const rp=function(o){return{name:"test",type:o,isEmbedded:!0}};function np(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0,20,21),e.\u0275\u0275listener("viewElementShow",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onDsAttributePropertiesPanelShow(a))}),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("crtViewElement",e.\u0275\u0275pureFunction1(1,rp,t.propertiesComponentTypeName))}}function op(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",6),e.\u0275\u0275element(1,"crt-checkbox",7),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("disabled"))("labelPosition","right")("label",t.translate("BaseInputPropertiesPanel.EditabilityControls.Disabled"))}}function ap(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getBindToDataSourceErrorMessage())}}const To=[{value:"accent",displayValue:"SliderPropertiesPage.Colors.Accent"},{value:"primary",displayValue:"SliderPropertiesPage.Colors.Primary"},{value:"warn",displayValue:"SliderPropertiesPage.Colors.Warn"},{value:"default",displayValue:"SliderPropertiesPage.Colors.Default"}];let br=class extends J{constructor(r,t,n,a,i,u,h,b){super(r,t,n,a,i,u,h,b),this.translatePrefix="PropertiesPages",this.colorOptions=To.map(O=>({...O,displayValue:this.translate(O.displayValue)}))}_getStepValidator(r){return r.value>0?null:{invalidValueSyntax:{message:this.translate("SliderPropertiesPage.Validations.GreaterThanZeroCaption")}}}_getColorValidator(r){return To.filter(n=>n.value===r?.value?.value).length?null:{invalidValueSyntax:{message:this.translate("SliderPropertiesPage.Validations.StyleIsInvalidCaption")}}}_getMinMaxValueValidator(r,t){const n=t.value,a=this.getControl(r)?.value;if(a==null)return null;let i=!0,u="";return r==="minValue"?(i=n>a,u="MaxValueGreaterMinValueCaption"):(i=n<a,u="MinValueLessThanMaxValueCaption"),i?null:{invalidValueSyntax:{message:this.translate("SliderPropertiesPage.Validations."+u)}}}enableReadOnlyProperty(){super.enableReadOnlyProperty(),this.getControl("disabled").enable({onlySelf:!0})}disableReadOnlyProperty(r){super.disableReadOnlyProperty(r),r&&r.attributeType!==l.DataSchemaAttributeType.OwnAttribute&&this.getControl("disabled").disable({onlySelf:!0})}getPropertiesConfig(){return{...super.getPropertiesConfig(),color:{path:"itemConfig.color",dataValueType:l.DataValueType.Lookup,options:{items:this.colorOptions},controlInitialConfig:{validatorOrOpts:[p.Validators.required,this._getColorValidator.bind(this)]}},disabled:{path:"itemConfig.disabled",dataValueType:l.DataValueType.Boolean},step:{path:"itemConfig.step",dataValueType:l.DataValueType.Integer,controlInitialConfig:{validatorOrOpts:[p.Validators.required,this._getStepValidator.bind(this)]}},minValue:{path:"itemConfig.minValue",dataValueType:l.DataValueType.Integer,controlInitialConfig:{validatorOrOpts:[p.Validators.required,this._getMinMaxValueValidator.bind(this,"maxValue")]}},maxValue:{path:"itemConfig.maxValue",dataValueType:l.DataValueType.Integer,controlInitialConfig:{validatorOrOpts:[p.Validators.required,this._getMinMaxValueValidator.bind(this,"minValue")]}},labelPosition:{path:"itemConfig.labelPosition",dataValueType:l.DataValueType.Lookup,options:{items:[]}}}}};br.\u0275fac=function(r){return new(r||br)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(z.StructureExplorerService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(g.LczToStringPipe),e.\u0275\u0275directiveInject(m.DesignerDataSourceManager),e.\u0275\u0275directiveInject(_.AttributeConfigProvider),e.\u0275\u0275directiveInject(I.MatIconRegistry),e.\u0275\u0275directiveInject(te.DomSanitizer))},br.\u0275cmp=e.\u0275\u0275defineComponent({type:br,selectors:[["crt-slider-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:30,vars:36,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[3,"crtViewElement","viewElementShow",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],["class","crt-control-form-field-wrapper",4,"ngIf"],[1,"crt-control-form-field-wrapper"],["data-item-marker","slider-readonly",3,"control","labelPosition","label"],[3,"formGroup"],["labelPosition","above","data-item-marker","slider-color",1,"control",3,"control","label","items","useStaticFiltering"],["data-item-marker","slider-min-value",3,"control","labelPosition","label"],["data-item-marker","slider-max-value",3,"control","labelPosition","label"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","label"],["titleOnPage",""],["data-item-marker","slider-step",3,"control","labelPosition","label"],["floatLabel","always",1,"form-field-wrapper"],["matInput","","readonly","","data-item-marker","slider-ds",1,"structure-explorer-input",3,"readonly","formControl","errorStateMatcher"],["svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[4,"ngIf"],[3,"crtViewElement","viewElementShow"],["DataSourceAttributePropertiesPanel",""]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275template(2,np,2,3,"ng-container",2),e.\u0275\u0275elementStart(3,"form",3)(4,"crt-expansion-panel",4),e.\u0275\u0275template(5,op,2,3,"div",5),e.\u0275\u0275elementStart(6,"div",6),e.\u0275\u0275element(7,"crt-checkbox",7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(8,"crt-properties-panel-visibility-settings",8),e.\u0275\u0275elementStart(9,"crt-expansion-panel",4),e.\u0275\u0275element(10,"crt-combobox",9),e.\u0275\u0275elementStart(11,"div",6),e.\u0275\u0275element(12,"crt-number-input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",6),e.\u0275\u0275element(14,"crt-number-input",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"mat-form-field",12)(16,"mat-label"),e.\u0275\u0275text(17),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(18,"ts-localizable-text-input",13,14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"crt-properties-panel-advanced-settings",8)(21,"div",6),e.\u0275\u0275element(22,"crt-number-input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"mat-form-field",16)(24,"mat-label"),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(27,"input",17),e.\u0275\u0275elementStart(28,"mat-icon",18),e.\u0275\u0275listener("click",function(){return t.onSelectDataSourceClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(29,ap,2,1,"mat-error",19),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.getTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.propertiesComponentTypeName),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("BaseInputPropertiesPanel.Editability")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getControl("disabled").value),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("readonly"))("labelPosition","right")("label",t.translate("BaseInputPropertiesPanel.EditabilityControls.Readonly")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("BaseInputPropertiesPanel.AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("SliderPropertiesPage.ColorLabel")),e.\u0275\u0275property("control",t.getControl("color"))("items",t.getLookupItems("color"))("useStaticFiltering",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("minValue"))("labelPosition","above")("label",t.translate("SliderPropertiesPage.MinValueLabel")),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("maxValue"))("labelPosition","above")("label",t.translate("SliderPropertiesPage.MaxValueLabel")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("BaseInputPropertiesPanel.TitleOnPage")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","titleOnPage")("label",t.translate("BaseInputPropertiesPanel.TitleOnPage")),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("step"))("labelPosition","above")("label",t.translate("SliderPropertiesPage.StepLabel")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(26,34,"PropertiesPages.BaseInputPropertiesPanel.BindToDataSourceCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("readonly",!0)("formControl",t.bindToDataSource)("errorStateMatcher",t.anyErrorStateMatcher),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.bindToDataSource.invalid))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtNumberInputComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,p.FormControlName,V.ViewElementDirective,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,D,F,A,P.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),br=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.SliderPropertiesPanelComponent",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,z.StructureExplorerService,_.DesignerSchemaService,g.LczToStringPipe,m.DesignerDataSourceManager,_.AttributeConfigProvider,I.MatIconRegistry,te.DomSanitizer])],br);class Pr{set formGroup(r){this._formGroupChanges$.next(r)}constructor(r,t){this._summaryItemsProvider=r,this._dataSourcesLookupValuesProvider=t,this._destroyed$=new d.Subject,this._formGroupChanges$=new d.ReplaySubject(1),this.availableDataSourceLoading=!1,this.availableDataSources=[],this.selectedDataSourceControl=new p.FormControl(null)}_setSelectedDataSource(r,t){const n=this.selectedDataSourceControl.value,a=this.availableDataSources.find(i=>i.value===r);a?.value!==n?.value&&this.selectedDataSourceControl.setValue(a,{emitEvent:t?.emitEvent})}_subscribeSelectedDataSourceChanges(){this.selectedDataSourceControl.valueChanges.pipe((0,c.map)(r=>r?.value),(0,c.switchMap)(r=>this._onSelectedDataSourceChanged(r)),(0,c.takeUntil)(this._destroyed$)).subscribe()}_subscribeAvailableDataSourcesChanges(){this.availableDataSourceLoading=!0,this._getAvailableDataSourcesChanges().pipe((0,c.tap)(r=>this._onAvailableDataSourcesChanged(r)),(0,c.tap)(()=>this.availableDataSourceLoading=!1),(0,c.takeUntil)(this._destroyed$)).subscribe()}_subscribeFormGroupChanges(){this._formGroupChanges$.pipe((0,c.tap)(r=>{this._name=r?.get("name"),this._itemsControl=r?.get("items"),this._modelNameControl=r?.get("modelName")}),(0,c.switchMap)(()=>(0,d.merge)(this._updateSelectedDataSourceOnModelNameChanges(),this._updateItemsOnElementNameChanges())),(0,c.takeUntil)(this._destroyed$)).subscribe()}_updateItemsOnElementNameChanges(){return this._name?this._name.valueChanges.pipe((0,c.filter)(Boolean),(0,c.switchMap)(r=>this._summaryItemsProvider.getItems({name:r})),(0,c.tap)(r=>this._itemsControl?.setValue(r)),(0,c.map)(()=>{})):d.EMPTY}_updateSelectedDataSourceOnModelNameChanges(){return this._modelNameControl?this._modelNameControl.valueChanges.pipe((0,c.tap)(r=>this._setSelectedDataSource(r,{emitEvent:!1})),(0,c.map)(()=>{})):d.EMPTY}_getAvailableDataSourcesChanges(){return this._dataSourcesLookupValuesProvider.get({scope:l.DataSourceScope.ViewElement}).pipe((0,c.map)(r=>r??[]),(0,c.map)(r=>r.filter(Boolean)))}_onSelectedDataSourceChanged(r){return!this._modelNameControl||this._modelNameControl.value===r?(0,d.of)(void 0):(this._modelNameControl.setValue(r),this._removeSummaryItems())}_removeSummaryItems(){const r=this._itemsControl?.value;if(!r?.length)return(0,d.of)(void 0);const t=r.map(n=>this._summaryItemsProvider.removeItem(n));return(0,d.forkJoin)(t).pipe((0,c.map)(()=>{}))}_onAvailableDataSourcesChanged(r){this.availableDataSources=r,this._setSelectedDataSource(this._modelNameControl?.value)}ngOnInit(){this._subscribeSelectedDataSourceChanges(),this._subscribeAvailableDataSourcesChanges(),this._subscribeFormGroupChanges()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}Pr.\u0275fac=function(r){return new(r||Pr)(e.\u0275\u0275directiveInject(m.SummaryItemsProvider),e.\u0275\u0275directiveInject(H))},Pr.\u0275cmp=e.\u0275\u0275defineComponent({type:Pr,selectors:[["crt-summaries-general-settings"]],inputs:{formGroup:"formGroup"},decls:4,vars:10,consts:[["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title"],["labelPosition","above",3,"items","control","useStaticFiltering","label","loading"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",0),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"crt-combobox",1),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,6,"InterfaceDesigner.PropertiesPages.SummariesPropertiesPage.GeneralGroup.Caption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.availableDataSources)("control",t.selectedDataSourceControl)("useStaticFiltering",!0)("label",e.\u0275\u0275pipeBind1(3,8,"InterfaceDesigner.PropertiesPages.SummariesPropertiesPage.GeneralGroup.SelectDataSource"))("loading",t.availableDataSourceLoading))},dependencies:[s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,P.TranslatePipe],styles:["[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}"],changeDetection:0});let ut=class extends L{constructor(){super(...arguments),this.translatePrefix="InterfaceDesigner.PropertiesPages.SummariesPropertiesPage"}getPropertiesConfig(){return{...super.getPropertiesConfig(),items:{path:"itemConfig.items",dataValueType:l.DataValueType.COLLECTION},modelName:{path:"itemConfig._designOptions.modelName",dataValueType:l.DataValueType.Text}}}loadData(r){const t=r.itemConfig,n=t._designOptions?.modelName;return this.getControl("name").setValue(t?.name,{onlySelf:!0}),this.getControl("modelName").setValue(n,{onlySelf:!0}),super.loadData(r)}};ut.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(ut)))(t||ut)}}(),ut.\u0275cmp=e.\u0275\u0275defineComponent({type:ut,selectors:[["crt-summaries-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:5,consts:[["cdkScrollable","",1,"properties-panel-wrap","button-properties-panel"],[3,"formGroup"],[3,"simpleTitle"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2)(3,"crt-summaries-general-settings",1)(4,"crt-properties-panel-visibility-settings",1)(5,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,Pr,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"],changeDetection:0}),ut=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.SummariesPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],ut);class _r{}_r.\u0275fac=function(r){return new(r||_r)},_r.\u0275mod=e.\u0275\u0275defineNgModule({type:_r}),_r.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.CommonModule,s.CrtComboBoxModule,s.CrtExpansionPanelModule,P.TranslateModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(_r,{declarations:[Pr],imports:[f.CommonModule,s.CrtComboBoxModule,s.CrtExpansionPanelModule,P.TranslateModule],exports:[Pr]})}();class vr{}vr.\u0275fac=function(r){return new(r||vr)},vr.\u0275mod=e.\u0275\u0275defineNgModule({type:vr}),vr.\u0275inj=e.\u0275\u0275defineInjector({imports:[_r]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(vr,{imports:[_r],exports:[Pr]})}();let Tr=class extends L{constructor(r,t,n){super(t),this._lczToString=r,this.injector=t,this._crtControlStateAdapter=n,this.defaultIcon=s.DEFAULT_TAB_ICON,this.shouldFocusCaption=!1,this.translatePrefix="InterfaceDesigner.PropertiesPages.TabItemPropertiesPage",this.icons=s.TAB_ICONS,this.iconPositionOptions=[{icon:"icon-position-left",caption:this.translate("IconPosition.LeftIcon"),value:S.IconPositionEnum.LeftIcon},{icon:"icon-position-only-icon",caption:this.translate("IconPosition.OnlyIcon"),value:S.IconPositionEnum.OnlyIcon}]}set config(r){this._applyDefaultProperties(r),super.config=r}get getTitle(){return this._lczToString.transform(this._getNotEmptyLocalizations(this.title))}_getNotEmptyLocalizations(r){return Array.isArray(r)?new g.LocalizableStringArray(r.filter(t=>t.value)):null}getPropertiesConfig(){return{...super.getPropertiesConfig(),caption:{path:"itemConfig.caption",dataValueType:l.DataValueType.LOCALIZABLE_STRING,isTitle:!0,controlInitialConfig:{validatorOrOpts:[p.Validators.required,this._crtControlStateAdapter.transform({instance:new w.EmptyWhiteSpaceValidator(this.injector)})],value:""}},icon:{path:"itemConfig.icon",dataValueType:l.DataValueType.Text},iconPosition:{path:"itemConfig.iconPosition",dataValueType:l.DataValueType.Text,options:{items:this.iconPositionOptions}}}}_applyDefaultProperties(r){const t=r.itemConfig.iconPosition;if(!Object.values(S.IconPositionEnum).includes(t)){const n=!!r.itemConfig.icon;r.itemConfig.iconPosition=this._getDefaultIconPosition(n)}return r}_getDefaultIconPosition(r){return r?S.IconPositionEnum.LeftIcon:S.IconPositionEnum.OnlyText}};Tr.\u0275fac=function(r){return new(r||Tr)(e.\u0275\u0275directiveInject(g.LczToStringPipe),e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(w.CrtControlStateAdapter))},Tr.\u0275cmp=e.\u0275\u0275defineComponent({type:Tr,selectors:[["crt-tab-item-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:13,vars:19,consts:[[1,"properties-panel-wrap","tab-item-properties-panel"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],[1,"control"],["required","","labelType","caption",3,"caption"],["iconLineType","bold",3,"formControlName","label","autofocus"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group","appearance-group",3,"title","extraStyles"],[3,"iconPositionControl","iconControl","customIconPositionOptions","icons","defaultIcon"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3)(4,"mat-form-field",4),e.\u0275\u0275element(5,"crt-label",5)(6,"ts-localizable-text-input",6),e.\u0275\u0275elementStart(7,"mat-error"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"crt-expansion-panel",7),e.\u0275\u0275element(11,"crt-properties-panel-icon-settings",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.getTitle),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",t.translate("CaptionLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("CaptionLabel")),e.\u0275\u0275property("formControlName","caption")("autofocus",t.shouldFocusCaption),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,17,"Validators.Required.Message")," "),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("iconPositionControl",t.getControl("iconPosition"))("iconControl",t.getControl("icon"))("customIconPositionOptions",t.iconPositionOptions)("icons",t.icons)("defaultIcon",t.defaultIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[s.CrtExpansionPanelComponent,s.CrtLabelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,p.\u0275NgNoValidate,p.NgControlStatus,p.NgControlStatusGroup,p.FormGroupDirective,p.FormControlName,D,ge,F,P.TranslatePipe],styles:[`crt-tab-item-properties-panel{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-tab-item-properties-panel form{width:100%}crt-tab-item-properties-panel crt-expansion-panel{height:auto;overflow:inherit}crt-tab-item-properties-panel .properties-panel-wrap{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-tab-item-properties-panel.embedded-properties-panel{height:auto}crt-tab-item-properties-panel .properties-form .form-field-wrapper{width:100%;margin-top:12px}crt-tab-item-properties-panel .properties-form .form-field-wrapper .structure-explorer-input{width:80%}crt-tab-item-properties-panel .properties-form .form-field-wrapper .structure-explorer-icon{float:right;width:16px;height:16px;padding-right:2px}crt-tab-item-properties-panel .properties-form .crt-control-form-field-wrapper{margin-top:12px;padding-bottom:1.25em}
`],encapsulation:2,changeDetection:0}),Tr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.TabItemPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[g.LczToStringPipe,e.Injector,w.CrtControlStateAdapter])],Tr);const ip=function(o){return{rowId:o}},lp=function(o){return{$implicit:o}};function sp(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",13,14),e.\u0275\u0275listener("focused",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.setFocusedRow(a.rowId))})("blurred",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.setFocusedRow(null))})("click",function(a){return a.stopPropagation()})("menuClosed",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.setFocusedRow(null))}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275reference(1),n=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("crt-toolbar-visible",(t==null?null:t.menuOpen)||n.rowId===i.focusedRowId),e.\u0275\u0275property("crtMenuTriggerFor",a)("crtMenuTriggerData",e.\u0275\u0275pureFunction1(9,lp,e.\u0275\u0275pureFunction1(7,ip,n.rowId)))("icon","actions-button-icon")("disableRipple",!0)("size",i.buttonSize)}}function pp(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275template(1,sp,2,11,"crt-button",10),e.\u0275\u0275element(2,"crt-menu",11,12),e.\u0275\u0275elementEnd()),o&2){const t=r.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("menuItems",n.rowMenuItems)}}function cp(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-properties-panel-visibility-settings",1),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("formGroup",t.propertiesForm)}}function up(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-properties-panel-color-picker",23),o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275propertyInterpolate("label",t.translate("HeaderBackgroundColor")),e.\u0275\u0275property("palette",t.headerColors)("control",t.getControl("headerBackgroundColor"))}}function dp(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-properties-panel-color-picker",23),o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275propertyInterpolate("label",t.translate("UnderlineSelectedTabColor")),e.\u0275\u0275property("palette",t.headerColors)("control",t.getControl("underlineSelectedTabColor"))}}function mp(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-properties-panel-group",15),e.\u0275\u0275element(1,"crt-combobox",16),e.\u0275\u0275elementStart(2,"div",17)(3,"crt-label",18),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",19),e.\u0275\u0275element(6,"crt-properties-panel-color-picker",20),e.\u0275\u0275template(7,up,1,3,"crt-properties-panel-color-picker",21),e.\u0275\u0275template(8,dp,1,3,"crt-properties-panel-color-picker",21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",17)(10,"crt-label",18),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",19),e.\u0275\u0275element(13,"crt-properties-panel-color-picker",22)(14,"crt-properties-panel-color-picker",22),e.\u0275\u0275elementEnd()()()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("StyleTypeLabel")),e.\u0275\u0275property("control",t.getControl("styleType"))("items",t.getLookupItems("styleType"))("useStaticFiltering",!0)("labelPosition","above"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.translate("TabPanelColorSubGroup")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",t.translate("BodyBackgroundColor")),e.\u0275\u0275property("colors",t.backgroundColors)("control",t.getControl("bodyBackgroundColor")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.styleType==="partiallyColored"||t.styleType==="fullyColored"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.styleType==="partiallyColored"||t.styleType==="default"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.translate("TabCaptionColorSubGroup")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",t.translate("SelectedTabCaptionColor")),e.\u0275\u0275property("colors",t.foregroundColors)("control",t.getControl("selectedTabTitleColor")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("TabCaptionColor")),e.\u0275\u0275property("colors",t.foregroundColors)("control",t.getControl("tabTitleColor"))}}let wr=class extends L{get _resources(){return this._designerSchemaService.resources}constructor(r,t,n,a,i){super(i),this._designerContainerService=r,this._designerSchemaService=t,this._resourceFinderService=n,this._viewItemCommandExecutor=a,this.injector=i,this._cellClicked=new e.EventEmitter,this._destroyed$=new d.Subject,this.translatePrefix="InterfaceDesigner.PropertiesPages.TabPanelPropertiesPage",this.buttonSize=S.SizeEnum.Medium,this.features={rows:{hierarchical:!0,selection:!1},header:{visible:!1}},this.columns=[{id:"caption",code:"caption",caption:"Caption",dataValueType:l.DataValueType.Text,cellView:{linkable:{mode:"preventDefault",clicked:this._cellClicked}}}],this.rowMenuItems=[{caption:this.translate("ContextMenu.Edit"),code:"edit",icon:"pen-icon",type:"action",handler:({rowId:u})=>{this.onCellClick({name:u})}},{caption:this.translate("ContextMenu.Copy"),code:"copy",icon:"copy-icon",type:"action",handler:u=>{this._onCopyClick(u.rowId)}},{caption:this.translate("ContextMenu.Remove"),code:"remove",icon:"delete-icon",type:"action",visible:()=>this.tabs.length>1,handler:u=>{this._onRemoveClick(u.rowId)}}],Q.setRequestsFilter(null),this._subscribeCellClicked()}set config(r){this._applyDefaultProperties(r),super.config=r}get styleType(){return this._styleType}get backgroundColors(){return jn}get foregroundColors(){return jn}get headerColors(){return["transparent",g.CrtColor.PrimaryWhite,g.CrtColor.PrimaryBlack,g.CrtColor.PrimaryGrey,g.CrtColor.PrimaryBlue,g.CrtColor.PrimaryGreen,g.CrtColor.PrimaryOrange,g.CrtColor.PrimaryNavi,g.CrtColor.Red,g.CrtColor.BrightRed,g.CrtColor.OrangeRed,g.CrtColor.Orange,g.CrtColor.LightGreen,g.CrtColor.Green,g.CrtColor.DarkGreen,g.CrtColor.Turquoise,g.CrtColor.RedPastel,g.CrtColor.BrightRedPastel,g.CrtColor.OrangeRedPastel,g.CrtColor.OrangePastel,g.CrtColor.LightGreenPastel,g.CrtColor.GreenPastel,g.CrtColor.DarkGreenPastel,g.CrtColor.TurquoisePastel,g.CrtColor.DarkTurquoise,g.CrtColor.Coral,g.CrtColor.Purple,g.CrtColor.Violet,g.CrtColor.NavyBlue,g.CrtColor.Blue,g.CrtColor.LightBlue,g.CrtColor.CelestialBlue,g.CrtColor.DarkTurquoisePastel,g.CrtColor.CoralPastel,g.CrtColor.PurplePastel,g.CrtColor.VioletPastel,g.CrtColor.NavyBluePastel,g.CrtColor.BluePastel,g.CrtColor.LightBluePastel,g.CrtColor.CelestialBluePastel]}_subscribeCellClicked(){this._cellClicked.subscribe(r=>{this.onCellClick(r.payload)})}_onCopyClick(r){const{index:t}=this._designerSchemaService.getViewConfigInfoByName(r),n={viewElement:{name:r},index:t+1};this._viewItemCommandExecutor.copy(n).pipe((0,c.take)(1),(0,c.switchMap)(a=>a.execute())).subscribe()}_onRemoveClick(r){this._viewItemCommandExecutor.remove({name:r}).pipe((0,c.take)(1),(0,c.switchMap)(t=>t.execute()),(0,c.takeUntil)(this._destroyed$)).subscribe(()=>{const t=this._getItemViewConfig();this.tabs=this._prepareItems(t.items)})}_getItemViewConfig(){const r=(0,y.get)(this.itemMetadata,"itemConfig.name"),{viewConfig:t}=this._designerSchemaService.getViewConfigInfoByName(r);return t}_applyDefaultProperties(r){const t=r.itemConfig,n=this.getPropertiesConfig();for(const a in n)if(typeof(0,y.get)(t,a)>"u"){const i=n[a].controlInitialConfig?.value;t[a]=i}return r}_prepareNewTabItem(){const r=this._getItemViewConfig(),t=r.items?.length||0,n=U.NameGenerator.generateUnique("TabContainer"),a=this._getTabContainerViewConfig(r,n);return{defaultConfig:{type:a.type,defaultPropertyValues:a,defaultLocalizableStrings:{caption:"Components.TabPanel.NewTabName"}},parentName:r.name,propertyName:"items",index:t}}_getTabContainerViewConfig(r,t){return r.mode==="toggle"?s.TabItemFactory.getToggleContainerConfig(t,"Components.TabPanel.NewLabelName"):s.TabItemFactory.getTabContainerConfig(t)}_getCaptionByResource(r){return this._resourceFinderService.findValueFromResource(r,this._resources)||r}_prepareItems(r){const t=[];return r?.forEach(n=>{const a=this._getCaptionByResource(n.caption);t.push({...(0,y.omit)(n,"items"),caption:a})}),t}_setOpenPanelAnimationMode(){this.openPanelAnimationService.animationMode$.next("forward")}_isToggleMode(){return this._getItemViewConfig()?.mode==="toggle"}emitChanges(r){const t=r.find(n=>n.path==="itemConfig.styleType");if(t){const n=t.value;this._styleType=n}super.emitChanges(r)}getPropertiesConfig(){return{...super.getPropertiesConfig(),items:{path:"itemConfig.items",dataValueType:l.DataValueType.COLLECTION,applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override},styleType:{path:"itemConfig.styleType",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn],value:"default"},options:{items:[{value:"default",displayValue:this.translate("TabStyleDefaultCaption")},{value:"partiallyColored",displayValue:this.translate("TabStylePartiallyColoredCaption")},{value:"fullyColored",displayValue:this.translate("TabStyleFullyColoredCaption")}]}},mode:{path:"itemConfig.mode",dataValueType:l.DataValueType.Lookup,options:{items:[{value:"tab",displayValue:this.translate("ModeTab")},{value:"toggle",displayValue:this.translate("ModeToggle")}]},controlInitialConfig:{value:"tab"}},bodyBackgroundColor:{path:"itemConfig.bodyBackgroundColor",dataValueType:l.DataValueType.Text,controlInitialConfig:{value:g.ThemeColor.PrimaryContrast500}},selectedTabTitleColor:{path:"itemConfig.selectedTabTitleColor",dataValueType:l.DataValueType.Text,controlInitialConfig:{value:g.ThemeColor.Auto}},tabTitleColor:{path:"itemConfig.tabTitleColor",dataValueType:l.DataValueType.Text,controlInitialConfig:{value:g.ThemeColor.Auto}},underlineSelectedTabColor:{path:"itemConfig.underlineSelectedTabColor",dataValueType:l.DataValueType.Text,controlInitialConfig:{value:g.ThemeColor.Auto}},headerBackgroundColor:{path:"itemConfig.headerBackgroundColor",dataValueType:l.DataValueType.Text,controlInitialConfig:{value:g.ThemeColor.Auto}},stretch:{path:"itemConfig.stretch",dataValueType:l.DataValueType.Boolean},fitContent:{path:"itemConfig.fitContent",dataValueType:l.DataValueType.Boolean}}}beforeSetControlValue(r,t,n){return t==="stretch"?r??s.TAB_PANEL_DEFAULT_VALUES.stretch:super.beforeSetControlValue(r,t,n)}loadData(r){const t=r.itemConfig;return this.tabs=this._prepareItems(t.items),this._styleType=t.styleType||"default",super.loadData(r)}onEditTabItem(r){this._setOpenPanelAnimationMode(),this._designerContainerService.select(r.name)}onAddTabItem(){this._setOpenPanelAnimationMode();const r=this._prepareNewTabItem();this._designerSchemaService.create(r)}onCellClick(r){const t=r.name,{viewConfig:n}=this._designerSchemaService.getViewConfigInfoByName(t);this.onEditTabItem(n)}setFocusedRow(r){this.focusedRowId=r}showAppearanceGroup(){return!this._isToggleMode()}showVisibilityGroup(){return!this._isToggleMode()}};wr.\u0275fac=function(r){return new(r||wr)(e.\u0275\u0275directiveInject(m.DesignerContainerService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(g.ResourceFinderService),e.\u0275\u0275directiveInject(m.ViewItemCommandExecutor),e.\u0275\u0275directiveInject(e.Injector))},wr.\u0275cmp=e.\u0275\u0275defineComponent({type:wr,selectors:[["crt-tab-panel-properties-panel"]],inputs:{rowMenuItems:"rowMenuItems"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:14,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group","no-horizontal-paddings",3,"title","fullWidthHeader"],["afterLabelContent","","color","default","icon","plus-icon","iconPosition","only-icon","shape","rounded",1,"add-new-item-button",3,"title","clicked"],[1,"menu-items-table",3,"features","columns","primaryColumnName","items"],["crtDataTableRowToolbar","",3,"crtDataTableRowToolbarPosition"],[3,"formGroup",4,"ngIf"],[3,"title",4,"ngIf"],[1,"crt-row-toolbar-wrapper"],["iconPosition","only-icon","class","crt-toolbar crt-row-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","icon","disableRipple","size","crt-toolbar-visible","focused","blurred","click","menuClosed",4,"ngIf"],[3,"menuItems"],["rowMenu",""],["iconPosition","only-icon",1,"crt-toolbar","crt-row-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","icon","disableRipple","size","focused","blurred","click","menuClosed"],["trigger","crtMenuTrigger"],[3,"title"],[1,"control",3,"control","label","items","useStaticFiltering","labelPosition"],[1,"control-group"],[1,"group-title"],[1,"grid-row","col-3"],["rowSize","8","pickerMode","extended",1,"control",3,"label","colors","control"],["class","control","rowSize","8",3,"label","palette","control",4,"ngIf"],["pickerMode","extended",1,"control",3,"label","colors","control"],["rowSize","8",1,"control",3,"label","palette","control"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3)(4,"crt-button",4),e.\u0275\u0275listener("clicked",function(){return t.onAddTabItem()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"crt-data-table",5),e.\u0275\u0275template(6,pp,4,2,"ng-template",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,cp,1,1,"crt-properties-panel-visibility-settings",7),e.\u0275\u0275template(8,mp,15,19,"crt-properties-panel-group",8),e.\u0275\u0275elementStart(9,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275element(10,"crt-properties-panel-container-settings",1),e.\u0275\u0275elementEnd()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("ItemsLabel")),e.\u0275\u0275property("fullWidthHeader",!1),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AddNewItem")),e.\u0275\u0275advance(1),e.\u0275\u0275property("features",t.features)("columns",t.columns)("primaryColumnName","name")("items",t.tabs),e.\u0275\u0275advance(1),e.\u0275\u0275property("crtDataTableRowToolbarPosition","after"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showVisibilityGroup()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showAppearanceGroup()),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,s.CrtMenuComponent,s.CrtMenuTriggerDirective,s.CrtDataTableComponent,s.CrtDataTableRowToolbarDirective,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,D,ne,F,A,ce,re],styles:[`crt-tab-panel-properties-panel{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-tab-panel-properties-panel form{width:100%}crt-tab-panel-properties-panel crt-expansion-panel{height:auto;overflow:inherit}crt-tab-panel-properties-panel .properties-panel-wrap{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-tab-panel-properties-panel.embedded-properties-panel{height:auto}crt-tab-panel-properties-panel .properties-form .form-field-wrapper{width:100%;margin-top:12px}crt-tab-panel-properties-panel .properties-form .form-field-wrapper .structure-explorer-input{width:80%}crt-tab-panel-properties-panel .properties-form .form-field-wrapper .structure-explorer-icon{float:right;width:16px;height:16px;padding-right:2px}crt-tab-panel-properties-panel .properties-form .crt-control-form-field-wrapper{margin-top:12px;padding-bottom:1.25em}crt-tab-panel-properties-panel .grid-row{display:grid}crt-tab-panel-properties-panel .grid-row.col-3{grid-template-columns:1fr 1fr 1fr}crt-tab-panel-properties-panel .grid-row.col-2{grid-template-columns:1fr 1fr}
`],encapsulation:2,changeDetection:0}),wr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.TabPanelPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[m.DesignerContainerService,_.DesignerSchemaService,g.ResourceFinderService,m.ViewItemCommandExecutor,e.Injector])],wr);function gp(o,r){o&1&&e.\u0275\u0275element(0,"ts-mask",10)}function wo(o){return r=>!(0,y.isEmpty)(o)&&r.value===`${o}InTag`||r.value===s.DEFAULT_TAG_IN_RECORD_SOURCE_SCHEMA_NAME}let dt=class extends L{constructor(){super(...arguments),this._designerEntityService=(0,e.inject)(m.DesignerEntityService),this._designerSchemaService=(0,e.inject)(_.DesignerSchemaService),this._recordIdControl=new p.FormControl,this._extraDataProviderConfig={itemsCustomFilterFunction:this._filterStructureExplorerItems.bind(this)},this._availableReferenceSchemas=[],this.translatePrefix="InterfaceDesigner.PropertiesPages.TagSelectPropertiesPanelComponent"}get _availableReferenceSchemasOptions(){return this._availableReferenceSchemas.map(r=>({value:r.name,displayValue:r.caption}))}get recordIdControl(){return this._recordIdControl}get extraDataProviderConfig(){return this._extraDataProviderConfig}get tagInRecordSourceSchemaNameReadonlyState(){return this.getLookupItems("tagInRecordSourceSchemaName").length<=1}_filterStructureExplorerItems(r){return[l.DataValueType.Lookup,l.DataValueType.Guid].includes(r.data?.item.dataValueType)}_initializeData(r){return this._designerEntityService.getAvailableReferenceSchemas().pipe((0,c.tap)(t=>{this._availableReferenceSchemas=t}),(0,c.switchMap)(()=>{const t=(0,y.get)(r,"itemConfig.recordId");return this._getDataSchemaName(t)}),(0,c.tap)(t=>{(0,y.get)(r,"itemConfig.tagInRecordSourceSchemaName")||(0,y.set)(r,"itemConfig.tagInRecordSourceSchemaName",s.DEFAULT_TAG_IN_RECORD_SOURCE_SCHEMA_NAME),this._setTagInRecordSourceSchemaNameLookupItems(t,(0,y.get)(r,"itemConfig.tagInRecordSourceSchemaName"))}),(0,d.map)(()=>{}))}_setTagInRecordSourceSchemaNameLookupItems(r,t){const n=this._availableReferenceSchemasOptions.filter(wo(r));if(this._isCustomTagInRecordSourceSchema(t,n)){this.setLookupItems("tagInRecordSourceSchemaName",this._availableReferenceSchemasOptions.filter(a=>a.value===t));return}this.setLookupItems("tagInRecordSourceSchemaName",n)}_isCustomTagInRecordSourceSchema(r,t){return!(0,y.isEmpty)(r)&&!t.some(n=>n.value===r)}_isHasRecordIdChange(r){return!!this._getRecordIdChange(r)}_getRecordIdChange(r){return r.find(t=>t.path==="itemConfig.recordId")}_emitRecordIdChange(r){var t=()=>super.emitChanges,n=this;return(0,k.Z)(function*(){const a=["itemConfig.tagInRecordSourceSchemaName"],i=n._getRecordIdChange(r);r=r.filter(u=>!a.includes(u.path)),t().call(n,r),yield n._resetTagInRecordSourceSchemaNameIfNeed(i.value)})()}_resetTagInRecordSourceSchemaNameIfNeed(r){var t=this;return(0,k.Z)(function*(){const n=yield(0,d.lastValueFrom)(t._getDataSchemaName(r));t._setTagInRecordSourceSchemaNameLookupItems(n,null);const a=t.getLookupItems("tagInRecordSourceSchemaName").sort((i,u)=>u.value===s.DEFAULT_TAG_IN_RECORD_SOURCE_SCHEMA_NAME?-1:0).find(wo(n));t.getControl("tagInRecordSourceSchemaName").setValue(a)})()}_getDataSchemaName(r){const[t,n]=this._getRecordIdAttributeModelPaths(r);return this._getDataSchemaNameFromModel(t,n)}_getRecordIdAttributeModelPaths(r){const a=this._designerSchemaService.getViewModelAttribute(this._getAttributeName(r))?.modelConfig?.path?.split(".");return!a||a.length<2?["",""]:[a[0],a[1]]}_getDataSchemaNameFromModel(r,t){if(!r||!t)return(0,d.of)(null);const n=this._designerSchemaService.getDataSourceConfigByName(r),a=n?.entitySchemaName,i=(0,y.get)(n,`parameters.${t}.referenceSchemaUId`);return!a&&!i?(0,d.of)(null):t==="Id"?(0,d.of)(a):i?(0,d.of)(this._availableReferenceSchemas.find(u=>u.uId===i)?.name):this._getReferenceSchemaName(n,t)}_getReferenceSchemaName(r,t){const n=this._getColumnPath(r,t);return this._designerEntityService.getReferenceColumn(n).pipe((0,d.map)(a=>a.referenceSchema.name))}_getColumnPath(r,t){const n=(0,y.get)(r,`attributes.${t}.path`),a=r.entitySchemaName;return n?`${a}.${this._removeIdFromAttributePathIfNeed(n)}`:`${a}.${t}`}_removeIdFromAttributePathIfNeed(r){const t=r.split(".");return(0,y.last)(t)==="Id"?t.slice(0,-1).join("."):r}_getAttributeName(r){return(0,R.isBindingExpression)(r)?r.slice(1):r}_initRecordIdControlValue(){this._recordIdChanged$?.unsubscribe();const r=this.config.itemConfig.recordId;this.recordIdControl.setValue({value:r,caption:this.translate("RecordLabel"),dataValueType:l.DataValueType.Guid}),this._recordIdChanged$=this.recordIdControl.valueChanges.pipe((0,d.takeUntil)(this.destroyed$)).subscribe(t=>this.getControl("recordId").setValue(t.value))}getPropertiesConfig(){return{...super.getPropertiesConfig(),label:{path:"itemConfig.label",dataValueType:l.DataValueType.LOCALIZABLE_STRING,applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override},recordId:{path:"itemConfig.recordId",dataValueType:l.DataValueType.Text,applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override},tagInRecordSourceSchemaName:{path:"itemConfig.tagInRecordSourceSchemaName",dataValueType:l.DataValueType.Lookup,applyPropertyStrategy:R.ApplyChangedPropertyStrategy.Override,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}}}}emitChanges(r){var t=()=>super.emitChanges,n=this;return(0,k.Z)(function*(){if(n._isHasRecordIdChange(r)){yield n._emitRecordIdChange(r);return}t().call(n,r)})()}loadData(r){return this._initRecordIdControlValue(),this._initializeData(r).pipe((0,c.switchMap)(()=>super.loadData(r)))}ngOnDestroy(){this._recordIdChanged$?.unsubscribe(),super.ngOnDestroy()}};dt.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(dt)))(t||dt)}}(),dt.\u0275cmp=e.\u0275\u0275defineComponent({type:dt,selectors:[["crt-tag-select-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:13,vars:17,consts:[["cdkScrollable","",1,"properties-panel-wrap"],["class","component-mask",4,"ngIf"],[1,"properties-form",3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"form-field-wrapper"],["formControlName","label","iconLineType","bold",3,"label","placeholder"],["ngDefaultControl","",3,"formControl","extraStructureExplorerProviderConfig"],["labelPosition","above",1,"control",3,"label","control","items","useStaticFiltering","readonly"],[3,"formGroup"],[1,"component-mask"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,gp,1,0,"ts-mask",1),e.\u0275\u0275elementStart(2,"form",2),e.\u0275\u0275element(3,"crt-properties-panel-header",3),e.\u0275\u0275elementStart(4,"crt-expansion-panel",4)(5,"mat-form-field",5)(6,"mat-label"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ts-localizable-text-input",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"crt-attribute-mapping",7)(10,"crt-combobox",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"crt-properties-panel-visibility-settings",9)(12,"crt-properties-panel-advanced-settings",9),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.dataLoaded),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("CaptionLabel")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("label",t.translate("CaptionLabel"))("placeholder",t.translate("CaptionPlaceholder")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControl",t.recordIdControl)("extraStructureExplorerProviderConfig",t.extraDataProviderConfig),e.\u0275\u0275advance(1),e.\u0275\u0275property("label",t.translate("TagInRecordSourceSchemaName"))("control",t.getControl("tagInRecordSourceSchemaName"))("items",t.getLookupItems("tagInRecordSourceSchemaName"))("useStaticFiltering",!0)("readonly",t.tagInRecordSourceSchemaNameReadonlyState),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,p.FormControlName,x.CdkScrollable,E.MaskComponent,D,Z,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}.component-mask[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}"],changeDetection:0}),dt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.TagSelectPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],dt);function hp(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-combobox",6),o&2){const t=e.\u0275\u0275nextContext();let n;e.\u0275\u0275propertyInterpolate("label",t.translate("LinkedColumn")),e.\u0275\u0275property("readonly",((n=t.getLookupItems("linkedColumn"))==null?null:n.length)===1)("control",t.getControl("linkedColumn"))("useStaticFiltering",!0)("items",t.getLookupItems("linkedColumn"))}}function Cp(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-combobox",6),o&2){const t=e.\u0275\u0275nextContext();let n;e.\u0275\u0275propertyInterpolate("label",t.translate("SortedByColumn")),e.\u0275\u0275property("readonly",((n=t.getLookupItems("sortedByColumn"))==null?null:n.length)===1)("control",t.getControl("sortedByColumn"))("useStaticFiltering",!0)("items",t.getLookupItems("sortedByColumn"))}}function fp(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-combobox",6),o&2){const t=e.\u0275\u0275nextContext();let n;e.\u0275\u0275propertyInterpolate("label",t.translate("OwnerColumn")),e.\u0275\u0275property("readonly",((n=t.getLookupItems("ownerColumn"))==null?null:n.length)===1)("control",t.getControl("ownerColumn"))("useStaticFiltering",!0)("items",t.getLookupItems("ownerColumn"))}}function yp(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-expansion-panel",7)(1,"crt-slide-toggle",8),e.\u0275\u0275listener("toggleChange",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onAllowFeedExternalPostChange(a))}),e.\u0275\u0275elementEnd()()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("title",t.translate("Feed.ExternalUsersGroupCaption"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("Feed.AllowExternalPostCaption")),e.\u0275\u0275property("default",t.allowFeedExternalPost)}}let Dr=class extends L{constructor(r,t,n,a,i,u,h,b){super(t),this._lczToString=r,this.injector=t,this._crtControlStateAdapter=n,this._designerEntityService=a,this._designerEntityDataSourceService=i,this._designerTimelineConfigService=u,this._designerSchemaService=h,this._timelineResourcesService=b,this._sortColumnName="CreatedOn",this._ownerColumnName="CreatedBy",this._ownerReferenceSchemaName="Contact",this._exceptLinkedColumns=["CreatedBy","ModifiedBy"],this._visibleFeedAllowExternalPost=!1,this.translatePrefix="InterfaceDesigner.PropertiesPages.TimelineItemPropertiesPage",this.linkedColumnSelectItems=[],this.icons=s.TAB_ICONS}set config(r){this._applyDefaultProperties(r),this._setCaption(r.itemConfig),this._setFeedSpecificProperties(r.itemConfig),super.config=r}get allowFeedExternalPost(){return this.getControl("allowFeedExternalPost")?.value??!1}get visibleFeedExternalUserGroup(){return this._visibleFeedAllowExternalPost}_setFeedSpecificProperties(r){this._visibleFeedAllowExternalPost=r.data?.schemaType==="Feed"}_setCaption(r){this._designerTimelineConfigService.getCaption(r.data).subscribe(t=>this.caption=t)}_applyDefaultProperties(r){r.itemConfig.iconPosition=S.IconPositionEnum.OnlyIcon,r.itemConfig.icon=r.itemConfig.icon||"star-tab-icon",r.itemConfig.visible=!0}_getColumnAsLookupValue(r){return{value:r.name,displayValue:r.caption}}_setColumnValues(r,t,n,a){const i=r.filter(n).map(h=>this._getColumnAsLookupValue(h)),u=this.getControl(t);if(i?.length>0){this.setLookupItems(t,i);const h=a&&i.find(a)||i[0];u.setValue(h,{emitEvent:!1})}}_loadSchemaInfo(r,t){return this._timelineResourcesService.getEntitySchema(r.name).pipe((0,d.map)(n=>{const a=n.columns;this._setColumnValues(a,"linkedColumn",i=>i.referenceSchemaName===t,i=>!this._exceptLinkedColumns.includes(i.value)),this._setColumnValues(a,"sortedByColumn",i=>i.dataValueType===l.DataValueType.DateTime,i=>i.value===this._sortColumnName),this._setColumnValues(a,"ownerColumn",i=>i.referenceSchemaName===this._ownerReferenceSchemaName,i=>i.value===this._ownerColumnName)}))}_setLookupControlValue(r,t){this.setLookupItems(r,t);const n=this.getControl(r);t.length>0&&n.setValue(t[0],{emitEvent:!1})}_loadCustomSchemaInfo(){this._setLookupControlValue("linkedColumn",[]),this._setLookupControlValue("sortedByColumn",[this._getDefaultSortColumn()]),this._setLookupControlValue("ownerColumn",[this._getDefaultOwnerColumn()])}_getDefaultSortColumn(){return{displayValue:this.translateService.instant("WorkspaceExplorer.PackagePage.SysInformation.CreatedOn"),value:this._sortColumnName}}_getDefaultOwnerColumn(){return{displayValue:this.translateService.instant("WorkspaceExplorer.PackagePage.SysInformation.CreatedBy"),value:this._ownerColumnName}}_initColumns(r,t){return r?this._loadSchemaInfo({name:r},t):(0,d.of)(this._loadCustomSchemaInfo())}_initLookupProperty(r,t){r.itemConfig[t]===void 0&&(r.itemConfig[t]=this.getControl(t).value?.value)}_getMasterEntitySchemaName(r){const t=this._designerSchemaService.getViewConfigInfoByName(r)?.parentName;return this._designerSchemaService.getViewConfigInfoByName(t)?.viewConfig.masterEntitySchemaName}getPropertiesConfig(){return{...super.getPropertiesConfig(),linkedColumn:{path:"itemConfig.linkedColumn",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}},sortedByColumn:{path:"itemConfig.sortedByColumn",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}},ownerColumn:{path:"itemConfig.ownerColumn",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[]}},icon:{path:"itemConfig.icon",dataValueType:l.DataValueType.Text,controlInitialConfig:{value:"star-tab-icon"}},iconPosition:{path:"itemConfig.iconPosition",dataValueType:l.DataValueType.Text,controlInitialConfig:{value:S.IconPositionEnum.OnlyIcon}},allowFeedExternalPost:{path:"itemConfig.allowFeedExternalPost",dataValueType:l.DataValueType.Boolean}}}loadData(r){const t=r.itemConfig,n=t.data.schemaName,a=t.sortedByColumn,i=t.ownerColumn;a&&(this._sortColumnName=a),i&&(this._ownerColumnName=i);const u=this._getMasterEntitySchemaName(t.name);return(u?(0,d.of)(u):this._designerEntityDataSourceService.getDataSources$(l.DataSourceScope.Page).pipe((0,d.switchMap)(b=>b[0].getSchema()),(0,d.map)(b=>u||b?.dataSourceConfig?.config?.entitySchemaName))).pipe((0,d.switchMap)(b=>this._initColumns(n,b)),(0,d.tap)(()=>{this._initLookupProperty(r,"linkedColumn"),this._initLookupProperty(r,"sortedByColumn"),this._initLookupProperty(r,"ownerColumn")}),(0,d.switchMap)(()=>super.loadData(r)))}onAllowFeedExternalPostChange(r){this.getControl("allowFeedExternalPost").setValue(r?.checked??!1)}};Dr.\u0275fac=function(r){return new(r||Dr)(e.\u0275\u0275directiveInject(g.LczToStringPipe),e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(w.CrtControlStateAdapter),e.\u0275\u0275directiveInject(m.DesignerEntityService),e.\u0275\u0275directiveInject(m.DesignerEntityDataSourceService),e.\u0275\u0275directiveInject(m.DesignerTimelineConfigService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(s.TimelineResourcesService))},Dr.\u0275cmp=e.\u0275\u0275defineComponent({type:Dr,selectors:[["crt-timeline-item-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:11,consts:[[1,"properties-panel-wrap","timeline-item-properties-panel"],[3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],["labelPosition","above",3,"readonly","control","label","useStaticFiltering","items",4,"ngIf"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles",4,"ngIf"],["labelPosition","above",3,"readonly","control","label","useStaticFiltering","items"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],["data-qa","allow-feed-external-post",3,"default","title","toggleChange"]],template:function(r,t){if(r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3),e.\u0275\u0275template(4,hp,1,5,"crt-combobox",4),e.\u0275\u0275template(5,Cp,1,5,"crt-combobox",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"crt-expansion-panel",3),e.\u0275\u0275template(7,fp,1,5,"crt-combobox",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,yp,2,4,"crt-expansion-panel",5),e.\u0275\u0275element(9,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2){let n,a,i;e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.caption),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",((n=t.getLookupItems("linkedColumn"))==null?null:n.length)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",((a=t.getLookupItems("sortedByColumn"))==null?null:a.length)>0),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("FiltrationGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",((i=t.getLookupItems("ownerColumn"))==null?null:i.length)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.visibleFeedExternalUserGroup),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm)}},dependencies:[f.NgIf,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,E.SlideToggleComponent,D,F],styles:[`crt-timeline-item-properties-panel{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-timeline-item-properties-panel form{width:100%}crt-timeline-item-properties-panel crt-expansion-panel{height:auto;overflow:inherit}crt-timeline-item-properties-panel .properties-panel-wrap{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-timeline-item-properties-panel.embedded-properties-panel{height:auto}crt-timeline-item-properties-panel .properties-form .form-field-wrapper{width:100%;margin-top:12px}crt-timeline-item-properties-panel .properties-form .form-field-wrapper .structure-explorer-input{width:80%}crt-timeline-item-properties-panel .properties-form .form-field-wrapper .structure-explorer-icon{float:right;width:16px;height:16px;padding-right:2px}crt-timeline-item-properties-panel .properties-form .crt-control-form-field-wrapper{margin-top:12px;padding-bottom:1.25em}
`],encapsulation:2,changeDetection:0}),Dr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.TimelineItemPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[g.LczToStringPipe,e.Injector,w.CrtControlStateAdapter,m.DesignerEntityService,m.DesignerEntityDataSourceService,m.DesignerTimelineConfigService,_.DesignerSchemaService,s.TimelineResourcesService])],Dr);function Sp(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",5)(1,"crt-label",9),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("title",t.translate("GeneralGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("EmptyDataSourceHint"))}}const bp=function(o){return{rowId:o}},Pp=function(o){return{$implicit:o}};function _p(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",17,18),e.\u0275\u0275listener("focused",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.setFocusedRow(a.rowId))})("blurred",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.setFocusedRow(null))})("click",function(a){return a.stopPropagation()})("menuClosed",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.setFocusedRow(null))}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275reference(1),n=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275classProp("crt-toolbar-visible",(t==null?null:t.menuOpen)||n.rowId===i.focusedRowId),e.\u0275\u0275property("crtMenuTriggerFor",a)("crtMenuTriggerData",e.\u0275\u0275pureFunction1(9,Pp,e.\u0275\u0275pureFunction1(7,bp,n.rowId)))("iconPosition","only-icon")("icon","actions-button-icon")("disableRipple",!0)}}function vp(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275template(1,_p,2,11,"crt-button",14),e.\u0275\u0275element(2,"crt-menu",15,16),e.\u0275\u0275elementEnd()),o&2){const t=r.$implicit,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("menuItems",n.rowMenuItems)}}function Tp(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",10)(1,"crt-data-table",11),e.\u0275\u0275template(2,vp,4,2,"ng-template",12),e.\u0275\u0275elementEnd()()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("title",t.translate("ObjectsCaption")),e.\u0275\u0275property("fullWidthHeader",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("features",t.features)("columns",t.columns)("primaryColumnName","name")("items",t.items),e.\u0275\u0275advance(1),e.\u0275\u0275property("crtDataTableRowToolbarPosition","after")}}function wp(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-checkbox",19),o&2){const t=r.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275property("label",n.translate("FilterCaption."+t.name))("control",n.getControl("filter_"+t.name))}}let xr=class extends J{set config(r){super.config=r,this._viewItemConfig=r.itemConfig,this._updateView(this._viewItemConfig)}get config(){return super.config}get hasDataSource(){return this._hasDataSource}get masterEntityControl(){return this._masterEntityControl}get extraDataProviderConfig(){return{itemsCustomFilterFunction:this.structureExplorerFilterFunc.bind(this)}}constructor(r,t,n,a,i,u,h,b,O,q,ee,en,wn,lo,so){super(r,t,b,n,a,i,u,h),this.designerSchemaService=b,this._dialogService=O,this._designerTimelineService=q,this._designerConfigService=ee,this._designerContainerService=en,this._designerEntityDataSourceService=wn,this._designerEntityService=lo,this._commandFactoryService=so,this._cellClicked=new e.EventEmitter,this._subscriptions=new d.Subscription,this.translatePrefix="InterfaceDesigner.PropertiesPages.TimelinePropertiesPanel",this.bindingAttributePath="masterEntity",this.selectedObjects=[],this.allObjects=[],this.features={rows:{hierarchical:!0},header:{visible:!1}},this.columns=[{id:"caption",code:"caption",caption:"Caption",dataValueType:l.DataValueType.Text,cellView:{linkable:{mode:"preventDefault",clicked:this._cellClicked}}}],this.rowMenuItems=[{caption:this.translate("ContextMenu.Delete"),code:"remove",icon:"delete-icon",type:"action",handler:po=>{this._onRemoveClick(po.rowId)}},{caption:this.translate("ContextMenu.Edit"),code:"edit",icon:"pen-icon",type:"action",handler:({rowId:po})=>{this.onCellClick({name:po})}}],Q.setRequestsFilter(null),this._viewCommandExecutor=this.injector.get(m.ViewItemCommandExecutor),this._subscribeCellClicked()}_subscribeToSchemaChanged(){this.designerSchemaService.schemaChanged$.pipe((0,c.filter)(({changes:{parentName:r,operation:t}})=>r===this._viewItemConfig.name||t===m.MetaItemDesignSettingChangesOperation.CreateDataSource)).subscribe(({changes:{operation:r}})=>{r===m.MetaItemDesignSettingChangesOperation.CreateDataSource&&this._initDataSource().subscribe(()=>this._updateView(this._viewItemConfig)),this._updateView(this._viewItemConfig)})}_subscribeCellClicked(){this._cellClicked.subscribe(r=>{this.onCellClick(r.payload)})}_prepareObjectsList(r){if(r.length){const t=[];this._designerConfigService.getCaptions(r.map(n=>n.data)).pipe((0,c.map)(n=>{r.forEach(a=>{const i=a.data.schemaType||a.data.schemaName,u=n.find(h=>h.schemaName===i).caption.toString();t.push({...(0,y.omit)(a,"items"),caption:u})})}),(0,c.take)(1)).subscribe(()=>{r.length===t.length&&(this.items=t.filter(n=>!n.data.isDeleted).sort((n,a)=>n.caption>a.caption?1:-1),this.changeDetector.detectChanges())})}}_removeItem(r){this._viewCommandExecutor.remove({name:r}).pipe((0,c.switchMap)(t=>t.execute())).subscribe()}_onRemoveClick(r){this._removeItem(r)}_addSelectedItems(r){r?.forEach(t=>this._addItem(t))}_addItem(r){const t=this._designerConfigService.getNewViewItemConfig(r,this._viewItemConfig);this._viewCommandExecutor.add(t).pipe((0,c.switchMap)(n=>n.execute())).subscribe()}_updateView(r){r&&this._prepareObjectsList(r.items)}_setOpenPanelAnimationMode(){this.openPanelAnimationService.animationMode$.next("forward")}_initMasterEntitySchemaName(r){r||delete this._viewItemConfig[this.bindingAttributePath],this._viewItemConfig.masterEntitySchemaName=r}_getPrimaryDataSource(r){if(!r||r.length===0)return null;const t=this.designerSchemaService.getPrimaryDataSourceName();return r.find(n=>n.dataSourceName===t)}_initDataSourceFromItemConfig(r){this._initMasterEntityControlValue(r),this._hasDataSource=!0}_getColumnPath(r){const[t,n]=r.split("."),a=this.designerSchemaService.getDataSourceConfigAttributePath(t,n)||n;return[this.designerSchemaService.getDataSourceConfigByName(t).entitySchemaName,a].join(".")}_initDataSource(){return this._designerEntityDataSourceService.getDataSources$().pipe((0,c.switchMap)(r=>{const t=this._getPrimaryDataSource(r);this._hasDataSource=Boolean(t);const n=this.itemMetadata||this.config;if(t){const a=t?.initialConfig?.entitySchemaName,i=`${t.dataSourceName}.Id`,h=`$${this.designerSchemaService.findAttributeByDataSourceAttributePath(i)||this.designerSchemaService.getOrAddViewModelAttribute("Id",t.dataSourceName)}`;h&&(this._initMasterEntityControlValue(h),this._initMasterEntitySchemaName(a))}return(0,d.of)(n)}))}_initMasterEntityControlValue(r){const t=r??this._viewItemConfig[this.bindingAttributePath];this._masterEntityControlChanged$?.unsubscribe(),this.masterEntityControl.setValue({attributeName:"masterEntity",value:t,caption:this.translate("BindToDataSourceCaption"),dataValueType:l.DataValueType.Guid}),this._masterEntityControlChanged$=this.masterEntityControl.valueChanges.pipe((0,c.takeUntil)(this.destroyed$)).subscribe(n=>{this.getControl("masterEntity").setValue(n.value),n.value?this._loadReferenceColumnInfo(n.value):this._initMasterEntitySchemaName(null)}),this.changeDetector.detectChanges()}_loadReferenceColumnInfo(r){const t=this.designerSchemaService.getMappedDataSourceAttributePath(r.replace("$","")),n=this._getColumnPath(t);t.split(".")[1]==="Id"?this._initMasterEntitySchemaName(n.split(".")[0]):this._designerEntityService.getReferenceColumn(n).subscribe(a=>{this._initMasterEntitySchemaName(a.referenceSchema.name)})}structureExplorerFilterFunc(r){return[l.DataValueType.Lookup,l.DataValueType.Guid].includes(r.data?.dataValueType)}structureExplorerRelatedItemsFilterFunc(r){return r?.data?.dataSchemaType===l.DataSchemaType.Entity}handleSelectedDataSource(r){super.handleSelectedDataSource(r);const n=r.selectedItems[0]?.data?.item?.referenceSchemaName;this._initMasterEntitySchemaName(n)}getPropertiesConfig(){return{...super.getPropertiesConfig(),masterEntitySchemaName:{path:"itemConfig.masterEntitySchemaName",dataValueType:l.DataValueType.Text},masterEntity:{path:"itemConfig.masterEntity",dataValueType:l.DataValueType.Text}}}ngAfterViewInit(){this._subscribeToSchemaChanged(),this._designerTimelineService.availableObjects$.subscribe(r=>{this.allObjects=r})}openObjectExplorer(){this._dialogService.open(s.CrtObjectExplorerComponent,{data:this.allObjects}).subscribe(r=>{this._addSelectedItems(r),this.changeDetector.detectChanges()})}setFocusedRow(r){this.focusedRowId=r}onCellClick(r){const t=r.name,{viewConfig:n}=this.designerSchemaService.getViewConfigInfoByName(t);this.onEditTabItem(n)}onEditTabItem(r){this._setOpenPanelAnimationMode(),this._designerContainerService.select(r.name)}loadData(r){return this._viewItemConfig=r.itemConfig,this._viewItemConfig.filters&&this.initFilters(this._viewItemConfig.filters),this._viewItemConfig[this.bindingAttributePath]?(this._initDataSourceFromItemConfig(this._viewItemConfig[this.bindingAttributePath]),(0,d.of)(r)):this._initDataSource()}ngOnInit(){super.ngOnInit(),this._masterEntityControl=new p.FormControl}ngOnDestroy(){this._subscriptions.unsubscribe()}initFilters(r){this.filters=r;for(const t of r){this.propertiesForm.addControl("filter_"+t.name,new p.FormControl,{emitEvent:!1});const n=this.getControl("filter_"+t.name);n.setValue(t.visible,{onlySelf:!0}),this._subscriptions.add(n.valueChanges.subscribe(a=>{this.onFilterValueChanged(a,t.name)}))}}onFilterValueChanged(r,t){const n=this.filters.find(a=>a.name===t);if(n){n.visible=r;const a={silentMode:!0,viewConfig:this._viewItemConfig};this._subscriptions.add(this._commandFactoryService.create("crt.UpdateViewConfigCommand",a).pipe((0,c.mergeMap)(i=>i.execute()),(0,c.take)(1)).subscribe()),this.changeDetector.detectChanges()}}};xr.\u0275fac=function(r){return new(r||xr)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(z.StructureExplorerService),e.\u0275\u0275directiveInject(g.LczToStringPipe),e.\u0275\u0275directiveInject(m.DesignerDataSourceManager),e.\u0275\u0275directiveInject(_.AttributeConfigProvider),e.\u0275\u0275directiveInject(I.MatIconRegistry),e.\u0275\u0275directiveInject(te.DomSanitizer),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(E.DialogService),e.\u0275\u0275directiveInject(m.DesignerTimelineService),e.\u0275\u0275directiveInject(m.DesignerTimelineConfigService),e.\u0275\u0275directiveInject(m.DesignerContainerService),e.\u0275\u0275directiveInject(m.DesignerEntityDataSourceService),e.\u0275\u0275directiveInject(m.DesignerEntityService),e.\u0275\u0275directiveInject(_.DesignerCommandFactoryService))},xr.\u0275cmp=e.\u0275\u0275defineComponent({type:xr,selectors:[["crt-timeline-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:11,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[3,"formGroup"],["class","form-field-group","togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles",4,"ngIf"],["class","form-field-group no-horizontal-paddings","togglePosition","after","expanded","true","toggleType","material",3,"title","fullWidthHeader",4,"ngIf"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],["labelPosition","right",3,"label","control",4,"ngFor","ngForOf"],[1,"properties-form",3,"formGroup"],["ngDefaultControl","",3,"formControl","extraStructureExplorerProviderConfig"],[1,"control"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group","no-horizontal-paddings",3,"title","fullWidthHeader"],[1,"menu-items-table",3,"features","columns","primaryColumnName","items"],["crtDataTableRowToolbar","",3,"crtDataTableRowToolbarPosition"],[1,"crt-row-toolbar-wrapper"],["class","crt-toolbar crt-row-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","iconPosition","icon","disableRipple","crt-toolbar-visible","focused","blurred","click","menuClosed",4,"ngIf"],[3,"menuItems"],["rowMenu",""],[1,"crt-toolbar","crt-row-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","iconPosition","icon","disableRipple","focused","blurred","click","menuClosed"],["trigger","crtMenuTrigger"],["labelPosition","right",3,"label","control"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275elementStart(2,"form",2),e.\u0275\u0275template(3,Sp,3,3,"crt-expansion-panel",3),e.\u0275\u0275template(4,Tp,3,7,"crt-expansion-panel",4),e.\u0275\u0275element(5,"crt-properties-panel-visibility-settings",2),e.\u0275\u0275elementStart(6,"crt-expansion-panel",5),e.\u0275\u0275template(7,wp,1,2,"crt-checkbox",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"crt-properties-panel-advanced-settings",7),e.\u0275\u0275element(9,"crt-attribute-mapping",8),e.\u0275\u0275elementEnd()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.hasDataSource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasDataSource),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("FiltrationCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.filters),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControl",t.masterEntityControl)("extraStructureExplorerProviderConfig",t.extraDataProviderConfig))},dependencies:[f.NgForOf,f.NgIf,s.CrtButtonComponent,s.CrtCheckboxComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,s.CrtMenuComponent,s.CrtMenuTriggerDirective,s.CrtDataTableComponent,s.CrtDataTableRowToolbarDirective,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,x.CdkScrollable,D,Z,F,A],styles:[`crt-timeline-properties-panel{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-timeline-properties-panel form{width:100%}crt-timeline-properties-panel crt-expansion-panel{height:auto;overflow:inherit}crt-timeline-properties-panel .properties-panel-wrap{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}crt-timeline-properties-panel.embedded-properties-panel{height:auto}crt-timeline-properties-panel .properties-form .form-field-wrapper{width:100%;margin-top:12px}crt-timeline-properties-panel .properties-form .form-field-wrapper .structure-explorer-input{width:80%}crt-timeline-properties-panel .properties-form .form-field-wrapper .structure-explorer-icon{float:right;width:16px;height:16px;padding-right:2px}crt-timeline-properties-panel .properties-form .crt-control-form-field-wrapper{margin-top:12px;padding-bottom:1.25em}
`],encapsulation:2}),xr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.TimelinePropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,z.StructureExplorerService,g.LczToStringPipe,m.DesignerDataSourceManager,_.AttributeConfigProvider,I.MatIconRegistry,te.DomSanitizer,_.DesignerSchemaService,E.DialogService,m.DesignerTimelineService,m.DesignerTimelineConfigService,m.DesignerContainerService,m.DesignerEntityDataSourceService,m.DesignerEntityService,_.DesignerCommandFactoryService])],xr);function Dp(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getBindToDataSourceErrorMessage())}}function xp(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-form-field",19)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"input",20),e.\u0275\u0275elementStart(4,"mat-icon",21),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onSelectDataSourceClick())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Dp,2,1,"mat-error",22),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("TargetDateTimeColumn")),e.\u0275\u0275advance(1),e.\u0275\u0275property("readonly",!0)("formControl",t.bindToDataSource)("errorStateMatcher",t.anyErrorStateMatcher),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.bindToDataSource.invalid)}}function Mp(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getBindToDataSourceErrorMessage())}}function Ip(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-form-field",19)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"input",20),e.\u0275\u0275elementStart(4,"mat-icon",21),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onSelectDataSourceClick())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Mp,2,1,"mat-error",22),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("StartDateTimeColumn")),e.\u0275\u0275advance(1),e.\u0275\u0275property("readonly",!0)("formControl",t.bindToDataSource)("errorStateMatcher",t.anyErrorStateMatcher),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.bindToDataSource.invalid)}}function Ep(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",23),e.\u0275\u0275element(1,"crt-checkbox",24),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("control",t.getControl("showNegativeCountDownValue"))("labelPosition","right")("label",t.translate("ShowNegativeCountDownValue"))}}let Mr=class extends J{constructor(r,t,n,a,i,u,h,b,O){super(r,t,n,a,i,u,h,b),this.translatePrefix="InterfaceDesigner.PropertiesPages.TimerPropertiesPage",this.labelLeftPanel=new Pe(this.injector,O)}set config(r){this.labelLeftPanel.config=r,super.config=this.labelLeftPanel.config}get config(){return super.config}get textAlignOptions(){return this.labelLeftPanel.textAlignOptions}get backgroundColors(){return this.labelLeftPanel.fontColors}get fontColors(){return this.labelLeftPanel.fontColors}get isShowFromDateTimer(){return this.getControl("timerType").value?.value===s.TimerType.FromDate}get isShowCountDownTimer(){return this.getControl("timerType").value?.value===s.TimerType.CountdownToDate}getPropertiesConfig(){return{...super.getPropertiesConfig(),...this.labelLeftPanel.getPropertiesConfig(),timerType:{path:"itemConfig.timerType",dataValueType:l.DataValueType.Lookup,controlInitialConfig:{validatorOrOpts:[this.requiredValidator.validateFn]},options:{items:[{value:s.TimerType.FromDate,displayValue:this.translate("FromDateTimerType")},{value:s.TimerType.CountdownToDate,displayValue:this.translate("CountdownToSpecificDateTimerType")}]}},negativeTextColor:{path:"itemConfig.negativeTextColor",dataValueType:l.DataValueType.Text},positiveTextColor:{path:"itemConfig.positiveTextColor",dataValueType:l.DataValueType.Text},showNegativeCountDownValue:{path:"itemConfig.showNegativeCountDownValue",dataValueType:l.DataValueType.Boolean},positiveTextValue:{path:"itemConfig.positiveTextValue",dataValueType:l.DataValueType.LOCALIZABLE_STRING},negativeTextValue:{path:"itemConfig.negativeTextValue",dataValueType:l.DataValueType.LOCALIZABLE_STRING}}}};Mr.\u0275fac=function(r){return new(r||Mr)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(z.StructureExplorerService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(g.LczToStringPipe),e.\u0275\u0275directiveInject(m.DesignerDataSourceManager),e.\u0275\u0275directiveInject(_.AttributeConfigProvider),e.\u0275\u0275directiveInject(I.MatIconRegistry),e.\u0275\u0275directiveInject(te.DomSanitizer),e.\u0275\u0275directiveInject(w.CrtControlStateAdapter))},Mr.\u0275cmp=e.\u0275\u0275defineComponent({type:Mr,selectors:[["crt-timer-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:32,vars:49,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[1,"properties-form",3,"formGroup"],[3,"simpleTitle"],["togglePosition","after","expanded","true","toggleType","material",1,"form-field-group",3,"title","extraStyles"],[1,"control",3,"control","label","items","useStaticFiltering","labelPosition"],["class","form-field-wrapper","floatLabel","always",4,"ngIf"],[1,"form-field-wrapper"],[1,"text-value-container"],["labelType","caption",3,"caption"],["data-qa","positive-value-tooltip","svgIcon","tooltip-icon",1,"inner-icon","text-value-tooltip",3,"crtTooltip"],["formControlName","positiveTextValue","iconLineType","bold",3,"label"],["positiveTextValue",""],["data-qa","negative-value-tooltip","svgIcon","tooltip-icon",1,"inner-icon","text-value-tooltip",3,"crtTooltip"],["formControlName","negativeTextValue","iconLineType","bold",3,"label"],["negativeTextValue",""],["class","crt-control-form-field-wrapper",4,"ngIf"],[1,"control",3,"items","control","label"],["pickerMode","extended",1,"control",3,"label","colors","control"],[3,"formGroup"],["floatLabel","always",1,"form-field-wrapper"],["required","","matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl","errorStateMatcher"],["svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[4,"ngIf"],[1,"crt-control-form-field-wrapper"],[3,"control","labelPosition","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"crt-properties-panel-header",2),e.\u0275\u0275elementStart(3,"crt-expansion-panel",3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275element(5,"crt-combobox",4),e.\u0275\u0275template(6,xp,6,5,"mat-form-field",5),e.\u0275\u0275template(7,Ip,6,5,"mat-form-field",5),e.\u0275\u0275elementStart(8,"mat-form-field",6)(9,"div",7),e.\u0275\u0275element(10,"crt-label",8)(11,"mat-icon",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"ts-localizable-text-input",10,11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"mat-form-field",6)(15,"div",7),e.\u0275\u0275element(16,"crt-label",8)(17,"mat-icon",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(18,"ts-localizable-text-input",13,14),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,Ep,2,3,"div",15),e.\u0275\u0275element(21,"crt-combobox",4),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275element(23,"crt-combobox",4),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275element(25,"crt-icon-radio-button",16),e.\u0275\u0275pipe(26,"translate"),e.\u0275\u0275element(27,"crt-properties-panel-color-picker",17),e.\u0275\u0275pipe(28,"translate"),e.\u0275\u0275element(29,"crt-properties-panel-color-picker",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(30,"crt-properties-panel-visibility-settings",18)(31,"crt-properties-panel-advanced-settings",18),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.translate("PageCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",e.\u0275\u0275pipeBind1(4,39,"InterfaceDesigner.PropertiesPages.LabelPropertiesPage.GeneralCaption")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",t.translate("TimerType")),e.\u0275\u0275property("control",t.getControl("timerType"))("items",t.getLookupItems("timerType"))("useStaticFiltering",!0)("labelPosition","above"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isShowCountDownTimer),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isShowFromDateTimer),e.\u0275\u0275advance(3),e.\u0275\u0275property("caption",t.translate("TextForPositiveValues")),e.\u0275\u0275advance(1),e.\u0275\u0275property("crtTooltip",t.translate("ValueTextTooltip")),e.\u0275\u0275advance(1),e.\u0275\u0275property("label",t.translate("TextForPositiveValues")),e.\u0275\u0275advance(4),e.\u0275\u0275property("caption",t.translate("TextForNegativeValues")),e.\u0275\u0275advance(1),e.\u0275\u0275property("crtTooltip",t.translate("ValueTextTooltip")),e.\u0275\u0275advance(1),e.\u0275\u0275property("label",t.translate("TextForNegativeValues")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isShowCountDownTimer),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(22,41,"InterfaceDesigner.PropertiesPages.LabelPropertiesPage.TypeLabel")),e.\u0275\u0275property("control",t.getControl("labelType"))("items",t.getLookupItems("labelType"))("useStaticFiltering",!0)("labelPosition","above"),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(24,43,"InterfaceDesigner.PropertiesPages.LabelPropertiesPage.ThicknessLabel")),e.\u0275\u0275property("control",t.getControl("labelThickness"))("items",t.getLookupItems("labelThickness"))("useStaticFiltering",!0)("labelPosition","above"),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(26,45,"InterfaceDesigner.PropertiesPages.LabelPropertiesPage.TextAlignLabel")),e.\u0275\u0275property("items",t.textAlignOptions)("control",t.getControl("labelTextAlign")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(28,47,"InterfaceDesigner.PropertiesPages.LabelPropertiesPage.FontColorLabel")),e.\u0275\u0275property("colors",t.fontColors)("control",t.getControl("positiveTextColor")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",t.translate("TextColorForNegativeValues")),e.\u0275\u0275property("colors",t.backgroundColors)("control",t.getControl("negativeTextColor")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,s.CrtIconRadioButtonComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.FormControlDirective,p.FormGroupDirective,p.FormControlName,E.TooltipDirective,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,D,ne,F,A,P.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .text-value-container[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]   .text-value-tooltip[_ngcontent-%COMP%]{margin-left:8px}"]}),Mr=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.TimerPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[e.Injector,z.StructureExplorerService,_.DesignerSchemaService,g.LczToStringPipe,m.DesignerDataSourceManager,_.AttributeConfigProvider,I.MatIconRegistry,te.DomSanitizer,w.CrtControlStateAdapter])],Mr);function Fp(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-attribute-mapping",4),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("formControl",t.recordIdControl)}}let mt=class extends hn{constructor(){super(...arguments),this.translatePrefix="InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.UpdateRecordRequest",this.recordIdControl=new p.FormControl,this.entitySelectLabel=this.translate("WhichObjectToOpenRecordOfLabel"),this.recordIdLabel=this.translate("WhichRecordToOpenLabel")}_onRecordIdChange(r){this.params={entityName:this.params.entityName,recordId:r},super.onParamsChanged()}onEntitySelect(r){super.onEntitySelect(r),this.recordIdControl.setValue({attributeName:"recordId",value:null,caption:this.recordIdLabel,dataValueType:l.DataValueType.Lookup,referenceSchemaName:r},{emitEvent:!1})}ngOnInit(){setTimeout(()=>{super.ngOnInit(),this.recordIdControl.setValue({attributeName:"recordId",value:this.params?.recordId,caption:this.recordIdLabel,dataValueType:l.DataValueType.Lookup,referenceSchemaName:this.params?.entityName}),this.recordIdControl.valueChanges.pipe((0,c.takeUntil)(this.destroyed$)).subscribe({next:({value:r})=>this._onRecordIdChange(r)}),this.cdr.detectChanges()},0)}};mt.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(mt)))(t||mt)}}(),mt.\u0275cmp=e.\u0275\u0275defineComponent({type:mt,selectors:[["crt-update-record-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:5,consts:[["cdkScrollable","",1,"update-record-request-properties-panel","properties-panel-wrap"],[1,"properties-form"],[3,"control","items","label","config"],[3,"formControl",4,"ngIf"],[3,"formControl"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"crt-entity-schema-select",2),e.\u0275\u0275template(3,Fp,1,1,"crt-attribute-mapping",3),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.entitySelectControl)("items",t.entityOptions)("label",t.entitySelectLabel)("config",t.config),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.params==null?null:t.params.entityName))},dependencies:[f.NgIf,p.NgControlStatus,p.FormControlDirective,x.CdkScrollable,Z,de],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .update-record-request-properties-panel[_ngcontent-%COMP%]{width:100%;display:block}"],changeDetection:0}),mt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.UpdateRecordRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],mt);let Ir=class extends W{constructor(r,t,n,a,i){super(),this._designerSchemaService=r,this._crtControlStateAdapter=t,this.injector=n,this.cdr=a,this._sysSettingsService=i,this._subscriptions=new d.Subscription,this.translatePrefix="InterfaceDesigner.PropertiesPages.UploadFileRequestPropertiesPanel",this.translateService=this.injector.get(P.TranslateService),this.fileTypesControl=new p.FormControl,this.maxFileSizeControl=new p.FormControl(null),this.viewElementControl=new p.FormControl,this.views=[],this.maxFileSizePlaceholder="",this._viewControlValueChanges$=this.viewElementControl.valueChanges,this._fileTypesControlValueChanges$=this.fileTypesControl.valueChanges,this._maxFileSizeControlValueChanges$=this.maxFileSizeControl.valueChanges}_initializeData(){const r=[...this._getDataGridViewConfigInfos()];this.views=this._convertViewConfigInfoCollectionToLookupValues(r)}_setControls(){this.maxFileSizeControl.addValidators(this._crtControlStateAdapter.transform({instance:new w.MinValidator(this.injector),params:{min:1}})),this.fileTypesControl.setValue(this.params.allowedFileTypes||null),this.maxFileSizeControl.setValue(this.params.maximumAllowedFileSize);const r=this.views.find(t=>t.value===this.params.viewElementName)||null;this.viewElementControl.setValue(r),this.cdr.detectChanges()}_getDataGridViewConfigInfos(){return this._designerSchemaService.getViewConfigInfoByProperty("type","crt.FileList")}_convertViewConfigInfoCollectionToLookupValues(r){return r.map(t=>({value:t.viewConfig.name,displayValue:t.viewConfig.name}))}_subscribeViewControlChanges(){this._subscriptions.add(this._viewControlValueChanges$.subscribe(r=>{const t=r?.value;t!==this.params.viewElementName&&(t?this.params.viewElementName=t:delete this.params.viewElementName,this._valueChangesHandle())})),this._subscriptions.add(this._fileTypesControlValueChanges$.subscribe(r=>{r===this.params.allowedFileTypes||r===null||(r&&r.trim()?this.params.allowedFileTypes=r.trim():delete this.params.allowedFileTypes,this._valueChangesHandle())})),this._subscriptions.add(this._maxFileSizeControlValueChanges$.subscribe(r=>{r!==this.params.maximumAllowedFileSize&&(r&&this.maxFileSizeControl.valid?this.params.maximumAllowedFileSize=r:delete this.params.maximumAllowedFileSize,this._valueChangesHandle())}))}_valueChangesHandle(){this.paramsChange.emit(this.params),this.cdr.detectChanges()}translate(r){return this.translateService.instant(`${this.translatePrefix}.${r}`)}ngOnInit(){setTimeout(()=>{this._subscribeViewControlChanges(),this.params=this.params||{},this._initializeData(),this._setControls()}),this._sysSettingsService.getByCodes(["MaxFileSize"]).subscribe(r=>{if(r&&r.success){const t=r.values.MaxFileSize?.value||0;this.maxFileSizePlaceholder=wt.String.format(this.translate("MaxSizePlaceholder"),t),this.cdr.detectChanges()}})}ngOnDestroy(){this._subscriptions.unsubscribe()}};Ir.\u0275fac=function(r){return new(r||Ir)(e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(w.CrtControlStateAdapter),e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(B.SysSettingsService))},Ir.\u0275cmp=e.\u0275\u0275defineComponent({type:Ir,selectors:[["crt-upload-file-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:12,consts:[["cdkScrollable","",1,"properties-panel-wrap"],["labelPosition","above",1,"control",3,"items","useStaticFiltering","control","label"],[1,"crt-control-form-field-wrapper"],["labelPosition","above",1,"control",3,"control","label","tooltip","placeholder"],["labelPosition","above","multiline","true",1,"control",3,"control","label","tooltip","placeholder"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-combobox",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275element(3,"crt-number-input",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",2),e.\u0275\u0275element(5,"crt-input",4),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",t.translate("ViewSelectCaption")),e.\u0275\u0275property("items",t.views)("useStaticFiltering",!0)("control",t.viewElementControl),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("tooltip",t.translate("MaxSizeEmptyMessage")),e.\u0275\u0275propertyInterpolate("placeholder",t.maxFileSizePlaceholder),e.\u0275\u0275property("control",t.maxFileSizeControl)("label",t.translate("MaxSize")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("tooltip",t.translate("AllowedExtensionsEmptyMessage")),e.\u0275\u0275propertyInterpolate("placeholder",t.translate("FileTypesPlaceholder")),e.\u0275\u0275property("control",t.fileTypesControl)("label",t.translate("AllowedExtensions")))},dependencies:[s.CrtComboBoxComponent,s.CrtInputComponent,s.CrtNumberInputComponent,x.CdkScrollable],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{width:100%;display:block}"]}),Ir=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.UploadFileRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[_.DesignerSchemaService,w.CrtControlStateAdapter,e.Injector,e.ChangeDetectorRef,B.SysSettingsService])],Ir);const Vp=function(o){return{name:"propertiesComponent",type:o,isEmbedded:!0}};function Ap(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0,19,20),e.\u0275\u0275listener("viewElementShow",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onDsAttributePropertiesPanelShow(a))}),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("crtViewElement",e.\u0275\u0275pureFunction1(1,Vp,t.propertiesComponentTypeName))}}function Op(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getBindToDataSourceErrorMessage())}}let gt=class extends ue{constructor(){super(...arguments),this.icons=[s.DEFAULT_WEB_ICON,"whatsapp-web-icon","youtube-web-icon","android-web-icon","apple-web-icon","channel-telegram-web-icon","chat-bubble-web-icon","chat-feed-web-icon","facebook-web-icon","google-drive-web-icon","google-meet-web-icon","google-web-icon","instagram-web-icon","linkedin-web-icon","link-web-icon","messenger-web-icon","microsoft-sharepoint-web-icon","microsoft-teams-web-icon","microsoft-web-icon","picture-web-icon","portal-chat-web-icon","skype-web-icon","team-web-icon","twitter-web-icon","viber-web-icon"],this.defaultIcon=s.DEFAULT_WEB_ICON}getPropertiesConfig(){return{...super.getPropertiesConfig(),icon:{path:"itemConfig.icon",dataValueType:l.DataValueType.Text,controlInitialConfig:{value:this.defaultIcon}}}}};gt.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(gt)))(t||gt)}}(),gt.\u0275cmp=e.\u0275\u0275defineComponent({type:gt,selectors:[["crt-web-text-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:35,vars:38,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"simpleTitle"],[3,"crtViewElement","viewElementShow",4,"ngIf"],[1,"properties-form",3,"formGroup"],["togglePosition","after","expanded","true","toggleType","material",3,"title","extraStyles"],[1,"crt-control-form-field-wrapper"],[3,"control","labelPosition","label"],[3,"formGroup"],[3,"items","useStaticFiltering","control","labelPosition","label"],[1,"form-field-wrapper"],["iconLineType","bold",3,"formControlName","label"],["titleOnPage",""],["placeholder",""],["tooltip",""],[3,"iconControl","usePositionOptions","toggleUseIcon","icons","defaultIcon"],["floatLabel","always",1,"form-field-wrapper"],["matInput","","readonly","",1,"structure-explorer-input",3,"readonly","formControl","errorStateMatcher"],["svgIcon","lookup-icon",1,"structure-explorer-icon",3,"click"],[4,"ngIf"],[3,"crtViewElement","viewElementShow"],["DataSourceAttributePropertiesPanel",""]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-properties-panel-header",1),e.\u0275\u0275template(2,Ap,2,3,"ng-container",2),e.\u0275\u0275elementStart(3,"form",3)(4,"crt-expansion-panel",4)(5,"div",5),e.\u0275\u0275element(6,"crt-checkbox",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(7,"crt-properties-panel-visibility-settings",7),e.\u0275\u0275elementStart(8,"crt-expansion-panel",4)(9,"div",5),e.\u0275\u0275element(10,"crt-combobox",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-form-field",9)(12,"mat-label"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"ts-localizable-text-input",10,11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"mat-form-field",9)(17,"mat-label"),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"ts-localizable-text-input",10,12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"mat-form-field",9)(22,"mat-label"),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"ts-localizable-text-input",10,13),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(26,"crt-properties-panel-icon-settings",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"crt-properties-panel-advanced-settings",7)(28,"mat-form-field",15)(29,"mat-label"),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(32,"input",16),e.\u0275\u0275elementStart(33,"mat-icon",17),e.\u0275\u0275listener("click",function(){return t.onSelectDataSourceClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(34,Op,2,1,"mat-error",18),e.\u0275\u0275elementEnd()()()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("simpleTitle",t.getTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.propertiesComponentTypeName),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("Editability")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("control",t.getControl("readonly"))("labelPosition","right")("label",t.translate("EditabilityControls.Readonly")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.translate("AppearanceGroup")),e.\u0275\u0275property("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.getLookupItems("labelPosition"))("useStaticFiltering",!0)("control",t.getControl("labelPosition"))("labelPosition","above")("label",t.translate("LabelPosition")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.translate("TitleOnPage")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","titleOnPage")("label",t.translate("TitleOnPage")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",t.translate("Placeholder")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","placeholderValue")("label",t.translate("Placeholder")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",t.translate("Tooltip")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","tooltipValue")("label",t.translate("Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("iconControl",t.getControl("icon"))("usePositionOptions",!1)("toggleUseIcon",!1)("icons",t.icons)("defaultIcon",t.defaultIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(31,36,"PropertiesPages.BaseInputPropertiesPanel.BindToDataSourceCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("readonly",!0)("formControl",t.bindToDataSource)("errorStateMatcher",t.anyErrorStateMatcher),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.bindToDataSource.invalid))},dependencies:[f.NgIf,s.CrtCheckboxComponent,s.CrtComboBoxComponent,s.CrtExpansionPanelComponent,S.LocalizableTextInputComponent,v.MatLegacyError,v.MatLegacyFormField,v.MatLegacyLabel,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.FormControlDirective,p.FormGroupDirective,p.FormControlName,V.ViewElementDirective,I.MatIcon,K.MatLegacyInput,x.CdkScrollable,D,ge,F,A,P.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}"]}),gt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.WebTextPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],gt);var G=T(78094);const Kn=new Map([["#A6DE00","light-green"],["#00C853","green"],["#22AC14","dark-green"],["#FFAC07","orange"],["#FF8800","orange-red"],["#F9307F","coral"],["#FF6534","bright-red"],["#FF4013","red"],["#B87CCF","purple"],["#7848EE","violet"],["#0091EA","celestial-blue"],["#0058EF","blue"],["#03A9F4","light-blue"],["#4F43C2","navy-blue"],["#009688","dark-turquoise"],["#00BFA5","turquoise"]]),Do=new Map([[G.WidgetTheme.FullFill,{value:G.WidgetTheme.FullFill,displayValue:"Styles.FullyColored"}],[G.WidgetTheme.WithoutFill,{value:G.WidgetTheme.WithoutFill,displayValue:"Styles.PlainWhite"}],[G.WidgetTheme.PartialFill,{value:G.WidgetTheme.PartialFill,displayValue:"Styles.PartiallyColored"}],[G.WidgetTheme.Glassmorphism,{value:G.WidgetTheme.Glassmorphism,displayValue:"Styles.Glassmorphism"}]]);class ae{constructor(r,t,n,a){this.designerSchemaService=t,this.widgetDataProvidingMetadataGenerator=n,this.widgetDataProvidingMetadataCompressor=a,this.isWidgetDataSourceUnsupported=Boolean(r?.[G.DISABLE_SUPPORT_WIDGET_DATA_SOURCE_FEATURE_NAME])}_actualizeWidgetMetadata(r){if(this.isWidgetDataSourceUnsupported)return null;const t=this._compressWidgetMetadata(r.name),n=this.widgetDataProvidingMetadataGenerator?.generate(r,t);return n?((0,y.defaultsDeep)(t,n),t):null}_compressWidgetMetadata(r){const t={...this.designerSchemaService.schema};return this.widgetDataProvidingMetadataCompressor?.compress(r,t),t}getWidgetViewConfig(r,t){const n=t?.viewConfig??this.designerSchemaService.schema?.viewConfig??{};return g.MetadataSchemaUtils.getViewConfigInfoByProperty("name",r,n)?.pop()?.viewConfig}getApplyPropertiesStrategies(){return[{value:R.ApplyChangedPropertyStrategy.Override,propertyPath:"itemConfig.config"}]}compressMetadata(r){const t=r.itemConfig;let n;if(this.isWidgetDataSourceUnsupported)n={...r,applyPropertiesStrategies:this.getApplyPropertiesStrategies()};else{const a=this._compressWidgetMetadata(t.name);n={...r,itemConfig:this.getWidgetViewConfig(t.name,a),modelConfig:a.modelConfig,viewModelConfig:a.viewModelConfig,applyPropertiesStrategies:this.getApplyPropertiesStrategies()}}return this.designerSchemaService.update(n),n}generateMetadata(r){const t=this._actualizeWidgetMetadata(r.itemConfig),n={...r,modelConfig:t?.modelConfig??r.modelConfig,viewModelConfig:t?.viewModelConfig??r.viewModelConfig,applyPropertiesStrategies:this.getApplyPropertiesStrategies()};return this.designerSchemaService.update(n),n}}ae.\u0275fac=function(r){return new(r||ae)(e.\u0275\u0275inject(g.FEATURE_VALUES),e.\u0275\u0275inject(_.DesignerSchemaService),e.\u0275\u0275inject(G.AbstractWidgetDataProvidingMetadataGenerator,8),e.\u0275\u0275inject(G.AbstractWidgetDataProvidingMetadataCompressor,8))},ae.\u0275prov=e.\u0275\u0275defineInjectable({token:ae,factory:ae.\u0275fac});class Ln extends ae{constructor(r,t,n,a,i){super(r,t,n,a),this._filterViewElementConfigProvider=i}_clearWidgetViewConfigBindings(r){!r||(delete r.seriesData,delete r.seriesConfigsChanged)}_clearRemovedFilters(r,t){const n=r?.config?.series??[],i=(t?.config?.series??[]).map(u=>u?.data?.providing?.filters?.filterAttributes).flat().map(u=>u?.attribute).filter(Boolean);n.map(u=>u?.data?.providing).map(u=>({attribute:u?.attribute,removedFilterAttributes:this._getRemovedFilterAttributes(u?.filters?.filterAttributes,i)})).filter(({attribute:u,removedFilterAttributes:h})=>u&&h.length).forEach(({attribute:u,removedFilterAttributes:h})=>this._filterViewElementConfigProvider.removeFiltersFromCollection(u,h))}_getRemovedFilterAttributes(r,t){return(r??[]).map(n=>n?.attribute).filter(Boolean).filter(n=>!t.includes(n))}getApplyPropertiesStrategies(){const r=super.getApplyPropertiesStrategies();return this.isWidgetDataSourceUnsupported?r:[...r,{value:R.ApplyChangedPropertyStrategy.Override,propertyPath:"itemConfig.seriesData"},{value:R.ApplyChangedPropertyStrategy.Override,propertyPath:"itemConfig.seriesConfigsChanged"}]}generateMetadata(r){if(this.isWidgetDataSourceUnsupported)return super.generateMetadata(r);const t=r.itemConfig,n=this.getWidgetViewConfig(t.name);this._clearWidgetViewConfigBindings(t);const a=super.generateMetadata(r);return this._clearRemovedFilters(n,t),a}}Ln.\u0275fac=function(r){return new(r||Ln)(e.\u0275\u0275inject(g.FEATURE_VALUES),e.\u0275\u0275inject(_.DesignerSchemaService),e.\u0275\u0275inject(G.ChartWidgetDataProvidingMetadataGenerator),e.\u0275\u0275inject(G.ChartWidgetDataProvidingMetadataCompressor),e.\u0275\u0275inject(m.FilterViewElementConfigProvider))},Ln.\u0275prov=e.\u0275\u0275defineInjectable({token:Ln,factory:Ln.\u0275fac});class _n extends ae{constructor(r,t,n,a,i){super(r,t,n,a),this._filterViewElementConfigProvider=i}_clearWidgetViewConfigBindings(r){!r||delete r.data}_clearRemovedFilters(r,t){const{filters:n}=r?.config?.data?.providing??{},{attribute:a,filters:i}=t?.config?.data?.providing??{},u=(i?.filterAttributes??[]).map(b=>b?.attribute).filter(Boolean),h=(n?.filterAttributes??[]).map(b=>b?.attribute).filter(Boolean).filter(b=>!u.includes(b));this._filterViewElementConfigProvider.removeFiltersFromCollection(a,h)}getApplyPropertiesStrategies(){const r=super.getApplyPropertiesStrategies();return this.isWidgetDataSourceUnsupported?r:[...r,{value:R.ApplyChangedPropertyStrategy.Override,propertyPath:"itemConfig.data"}]}generateMetadata(r){if(this.isWidgetDataSourceUnsupported)return super.generateMetadata(r);const t=r.itemConfig,n=this.getWidgetViewConfig(t.name);this._clearWidgetViewConfigBindings(t);const a=super.generateMetadata(r);return this._clearRemovedFilters(n,t),a}}_n.\u0275fac=function(r){return new(r||_n)(e.\u0275\u0275inject(g.FEATURE_VALUES),e.\u0275\u0275inject(_.DesignerSchemaService),e.\u0275\u0275inject(G.IndicatorWidgetDataProvidingMetadataGenerator),e.\u0275\u0275inject(G.IndicatorWidgetDataProvidingMetadataCompressor),e.\u0275\u0275inject(m.FilterViewElementConfigProvider))},_n.\u0275prov=e.\u0275\u0275defineInjectable({token:_n,factory:_n.\u0275fac});const Nn=new e.InjectionToken("Widget themes");class ht extends L{get settings(){return this._settings}set settings(r){this._settings=r;const t=(0,y.cloneDeep)(r);delete t.metaItemType,delete t.mode;const n=r.itemConfig?.config?.theme;this.setColors(n),super.config=t}set config(r){this._configureMissingProperties(r),this.title=(0,y.get)(r,"itemConfig.config.title")||"",this._settings={metaItemType:this.metaItemType,mode:m.MetaItemDesignerOpeningState.Edit,...r},this.setDataSourceConfig(r);const t=r.itemConfig?.config?.theme;this.setColors(t),super.config=r}get config(){return super.config}get colors(){return Array.from(this.colorsMap.keys())}get selectedColor(){const r=this.getControl("color")?.value;return this._getColorKeyByValue(r)}constructor(r,t){super(r),this.injector=r,this.widgetMetadataActualizeService=t,this._widgetThemes=[G.WidgetTheme.FullFill,G.WidgetTheme.WithoutFill],this._designerSettingsService=this.injector.get(m.DesignerSettingsService),this.colorsMap=Kn,this.translatePrefix="PropertiesPages.WidgetPropertiesPanel",this.designerSchemaService=this.injector.get(_.DesignerSchemaService),this._getColorValueByKey=n=>this.colorsMap.get(n?.toUpperCase()),this._getColorKeyByValue=n=>(0,y.first)([...this.colorsMap].find(([a,i])=>n===i)),this._widgetThemes=[...this._widgetThemes,...r.get(Nn,[])]}_configureMissingProperties(r){var t;!r?.itemConfig.config||((t=r.itemConfig.config).theme??(t.theme=G.WidgetTheme.FullFill))}setColors(r){this.colorsMap=r==="glassmorphism"?new Map([]):Kn}onThemeChanged(r){this.setColors(r)}setDataSourceConfig(r){if(r&&!r.dataSourceConfig){const t=this.designerSchemaService.getPrimaryDataSourceName();t?(this.dataSourceConfig=this.designerSchemaService.getDataSourceConfigByName(t),r.dataSourceConfig=this.dataSourceConfig):(this.dataSourceConfig=this.designerSchemaService.getDataSources(),r.dataSourceConfig=this.dataSourceConfig?.[0]?.config)}}getColorPropertyPath(){return"itemConfig.config.color"}getPropertiesConfig(){const r=this._widgetThemes.filter(t=>Do.has(t)).map(t=>Do.get(t)).map(({value:t,displayValue:n})=>({value:t,displayValue:this.translate(n)}));return{...super.getPropertiesConfig(),color:{path:this.getColorPropertyPath(),dataValueType:l.DataValueType.Text},theme:{path:"itemConfig.config.theme",dataValueType:l.DataValueType.Lookup,options:{items:r}}}}afterGetLookupControlValue(r,t){return t?.value||null}beforeSetLookupControlValue(r,t,n){return n.find(a=>a.value===t)||null}emitChanges(r){this._settings=this.widgetMetadataActualizeService.compressMetadata(this.settings),r.forEach(t=>(0,y.set)(this._settings,t.path,t.value)),this._settings=this.widgetMetadataActualizeService.generateMetadata(this._settings),super.emitChanges(r),this.changeDetector.detectChanges()}ngOnInit(){super.ngOnInit(),this.getControl("theme")?.valueChanges.pipe((0,c.takeUntil)(this.destroyed$)).subscribe(r=>{this.onThemeChanged(r.value)})}selectedColorChange(r){const t=this._getColorValueByKey(r);this.getControl("color")?.setValue(t)}openSettingsDialog(){const r=this.widgetMetadataActualizeService.compressMetadata(this.settings);this._designerSettingsService.openSettings$({settings:r}).pipe((0,c.map)(t=>t??r),(0,c.map)(t=>this.widgetMetadataActualizeService.generateMetadata(t))).subscribe(t=>{this.settings=t,this.changeDetector.detectChanges()})}}ht.\u0275fac=function(r){return new(r||ht)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(ae))},ht.\u0275dir=e.\u0275\u0275defineDirective({type:ht,features:[e.\u0275\u0275InheritDefinitionFeature]});const kp=function(){return{rowSize:6}};function Lp(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-color-picker",2),e.\u0275\u0275listener("selectedColorChange",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.selectedColorChange.emit(a))}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("pickerConfig",e.\u0275\u0275pureFunction0(7,kp))("label",e.\u0275\u0275pipeBind1(1,5,"PropertiesPages.WidgetPropertiesPanel.ColorLabel"))("colors",t.colors)("selectedColor",t.selectedColor),e.\u0275\u0275attribute("data-item-marker","colorControl")}}class he{constructor(){this.selectedColorChange=new e.EventEmitter}}he.\u0275fac=function(r){return new(r||he)},he.\u0275cmp=e.\u0275\u0275defineComponent({type:he,selectors:[["crt-widget-style-settings"]],inputs:{selectedThemeControl:"selectedThemeControl",themes:"themes",colors:"colors",selectedColor:"selectedColor"},outputs:{selectedColorChange:"selectedColorChange"},decls:3,vars:8,consts:[["labelPosition","above",1,"control",3,"control","label","items","useStaticFiltering"],["class","control","pickerMode","basic","labelPosition","above",3,"pickerConfig","label","colors","selectedColor","selectedColorChange",4,"ngIf"],["pickerMode","basic","labelPosition","above",1,"control",3,"pickerConfig","label","colors","selectedColor","selectedColorChange"]],template:function(r,t){r&1&&(e.\u0275\u0275element(0,"crt-combobox",0),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275template(2,Lp,2,8,"crt-color-picker",1)),r&2&&(e.\u0275\u0275property("control",t.selectedThemeControl)("label",e.\u0275\u0275pipeBind1(1,6,"PropertiesPages.WidgetPropertiesPanel.StyleLabel"))("items",t.themes)("useStaticFiltering",!0),e.\u0275\u0275attribute("data-item-marker","themeControl"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.colors==null?null:t.colors.length))},dependencies:[f.NgIf,s.CrtComboBoxComponent,s.CrtColorPickerComponent,P.TranslatePipe],encapsulation:2,changeDetection:0});const Np=function(o){return{rowId:o}},Rp=function(o){return{$implicit:o}};function Bp(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",7,8),e.\u0275\u0275listener("focused",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.setSeriesListFocusedRow(a.rowId))})("blurred",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.setSeriesListFocusedRow(null))})("click",function(a){return a.stopPropagation()})("menuClosed",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.setSeriesListFocusedRow(null))}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275reference(1),n=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("crt-toolbar-visible",(t==null?null:t.menuOpen)||n.rowId===i.seriesListFocusedRowId),e.\u0275\u0275property("crtMenuTriggerFor",a)("crtMenuTriggerData",e.\u0275\u0275pureFunction1(9,Rp,e.\u0275\u0275pureFunction1(7,Np,n.rowId)))("icon","actions-button-icon")("disableRipple",!0)("size","medium")}}function Gp(o,r){if(o&1&&(e.\u0275\u0275elementStart(0,"div",3),e.\u0275\u0275template(1,Bp,2,11,"crt-button",4),e.\u0275\u0275element(2,"crt-menu",5,6),e.\u0275\u0275elementEnd()),o&2){const t=r.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("menuItems",n.seriesListRowMenuItems)}}let Ct=class{constructor(r,t,n){this._designerSchemaService=r,this._resourceFinderService=t,this._translateService=n,this._cellClicked=new e.EventEmitter,this.seriesListItems=[],this.seriesListColumns=[{id:"caption",code:"caption",caption:"Caption",dataValueType:l.DataValueType.Text,cellView:{linkable:{mode:"preventDefault",clicked:this._cellClicked}}}],this.seriesListFeatures={rows:{hierarchical:!0,selection:!1},header:{visible:!1}},this.seriesListRowMenuItems=[{caption:this._translateService.instant("PropertiesPages.WidgetPropertiesPanel.ContextMenu.Edit"),code:"edit",icon:"pen-icon",type:"action",handler:({rowId:a})=>this.onCellClick(a)}],this.selectSeries=new e.EventEmitter}_subscribeCellClicked(){this._cellClicked.subscribe(r=>{this.onCellClick(r.payload.name)})}_getLocalizedResource(r){return this._resourceFinderService.findValueFromResource(r,this._designerSchemaService.resources)||r}onCellClick(r){const t=this.seriesListItems.findIndex(n=>n.name===r);t!==-1&&this.selectSeries.emit(t)}setSeriesListFocusedRow(r){this.seriesListFocusedRowId=r}ngOnInit(){this._subscribeCellClicked()}ngOnChanges(r){"series"in r&&(this.seriesListItems=this.series.filter(t=>!!t.label).map(t=>({caption:this._getLocalizedResource(t.label),name:t.label})))}};Ct.\u0275fac=function(r){return new(r||Ct)(e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(g.ResourceFinderService),e.\u0275\u0275directiveInject(P.TranslateService))},Ct.\u0275cmp=e.\u0275\u0275defineComponent({type:Ct,selectors:[["crt-chart-widget-series-list"]],inputs:{series:"series"},outputs:{selectSeries:"selectSeries"},features:[e.\u0275\u0275NgOnChangesFeature],decls:4,vars:9,consts:[["expanded","true","togglePosition","after","toggleType","material",1,"form-field-group","no-horizontal-paddings",3,"title","fullWidthHeader"],[1,"menu-items-table",3,"items","columns","features","primaryColumnName"],["crtDataTableRowToolbar","",3,"crtDataTableRowToolbarPosition"],[1,"crt-row-toolbar-wrapper"],["iconPosition","only-icon","class","crt-toolbar crt-row-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","icon","disableRipple","size","crt-toolbar-visible","focused","blurred","click","menuClosed",4,"ngIf"],[3,"menuItems"],["rowMenu",""],["iconPosition","only-icon",1,"crt-toolbar","crt-row-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","icon","disableRipple","size","focused","blurred","click","menuClosed"],["trigger","crtMenuTrigger"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"crt-expansion-panel",0),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementStart(2,"crt-data-table",1),e.\u0275\u0275template(3,Gp,4,2,"ng-template",2),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,7,"PropertiesPages.WidgetPropertiesPanel.ChartSeries"))("fullWidthHeader",!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.seriesListItems)("columns",t.seriesListColumns)("features",t.seriesListFeatures)("primaryColumnName","name"),e.\u0275\u0275advance(1),e.\u0275\u0275property("crtDataTableRowToolbarPosition","after"))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtExpansionPanelComponent,s.CrtMenuComponent,s.CrtMenuTriggerDirective,s.CrtDataTableComponent,s.CrtDataTableRowToolbarDirective,P.TranslatePipe],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),Ct=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ChartWidgetSeriesListComponent",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[_.DesignerSchemaService,g.ResourceFinderService,P.TranslateService])],Ct);let ft=class{constructor(r,t){this._designerSchemaService=r,this._resourceFinderService=t}_getLocalizedResource(r){return this._resourceFinderService.findValueFromResource(r,this._designerSchemaService.resources)||r}ngOnChanges(r){"series"in r&&(this.caption=this._getLocalizedResource(this.series.label))}};ft.\u0275fac=function(r){return new(r||ft)(e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(g.ResourceFinderService))},ft.\u0275cmp=e.\u0275\u0275defineComponent({type:ft,selectors:[["crt-chart-widget-series-setting"]],inputs:{series:"series"},features:[e.\u0275\u0275NgOnChangesFeature],decls:3,vars:6,consts:[["labelPosition","above","data-item-marker","chart-widget-series-setting-series-title",1,"control","crt-chart-widget-series-setting-series-title",3,"value","label","readonly"],[1,"crt-chart-widget-series-setting-filters",3,"attributeName"]],template:function(r,t){r&1&&(e.\u0275\u0275element(0,"crt-input",0),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"crt-attribute-filters-setting",1)),r&2&&(e.\u0275\u0275property("value",t.caption)("label",e.\u0275\u0275pipeBind1(1,4,"PropertiesPages.WidgetPropertiesPanel.SeriesControlLabel"))("readonly",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("attributeName",t.series==null||t.series.data==null||t.series.data.providing==null?null:t.series.data.providing.attribute))},dependencies:[s.CrtInputComponent,Ie,P.TranslatePipe],styles:["[_nghost-%COMP%]{display:block}.crt-chart-widget-series-setting-series-title[_ngcontent-%COMP%], .crt-chart-widget-series-setting-filters[_ngcontent-%COMP%]{display:block;padding:0 16px 16px}"],changeDetection:0}),ft=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ChartWidgetSeriesSettingComponent",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[_.DesignerSchemaService,g.ResourceFinderService])],ft);function jp(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-chart-widget-series-list",9),e.\u0275\u0275listener("selectSeries",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.onSelectSeries(a))}),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("series",t.series)}}function zp(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"crt-expansion-panel",3)(2,"crt-widget-style-settings",4),e.\u0275\u0275listener("selectedColorChange",function(a){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.selectedColorChange(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",5)(4,"crt-label",6),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"crt-button",7),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openSettingsDialog())}),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(8,jp,1,1,"crt-chart-widget-series-list",8),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275element(10,"crt-properties-panel-visibility-settings",1)(11,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("GeneralLabel"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedThemeControl",t.getControl("theme"))("themes",t.getLookupItems("theme"))("colors",t.colors)("selectedColor",t.selectedColor),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.translate("SetupBlockCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("SetupButtonLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(9,11,t.isSeriesListAvailable$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm)}}function qp(o,r){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"crt-breadcrumbs",10),e.\u0275\u0275listener("itemClicked",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.resetSelectedSeries())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(2,"crt-chart-widget-series-setting",11),e.\u0275\u0275elementContainerEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbs",t.breadcrumbs),e.\u0275\u0275advance(1),e.\u0275\u0275property("series",t.series[t.selectedSeriesIndex])}}let yt=class extends ht{constructor(){super(...arguments),this.metaItemType="crt.ChartWidget",this.isSeriesListAvailable$=this.injector.get(B.FeatureService).getFeatureState(G.DISABLE_SUPPORT_WIDGET_DATA_SOURCE_FEATURE_NAME).pipe((0,c.map)(r=>!r),(0,c.takeUntil)(this.destroyed$)),this.series=[],this.selectedSeriesIndex=null}set settings(r){super.settings=r,this._setupSeries(r.itemConfig)}get settings(){return super.settings}set config(r){this.setDataSourceConfig(r),this._setupSeries(r.itemConfig),super.config=r}_setupSeries(r){this.series=r?.config?.series??[],this.selectedSeriesIndex=null}onSelectSeries(r){this.selectedSeriesIndex=r;const t=this.series[r].label,n=this.resourceFinderService.findValueFromResource(t,this.designerSchemaService.resources);this.breadcrumbs=[{name:"ChartSeries",caption:this.translate("ChartSeries")},{name:t,caption:n||t}]}resetSelectedSeries(){this.selectedSeriesIndex=null}};yt.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(yt)))(t||yt)}}(),yt.\u0275cmp=e.\u0275\u0275defineComponent({type:yt,selectors:[["crt-chart-widget-properties-panel"]],features:[e.\u0275\u0275ProvidersFeature([{provide:Nn,useValue:[G.WidgetTheme.PartialFill,G.WidgetTheme.Glassmorphism]},{provide:ae,useClass:Ln}]),e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:4,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],[4,"ngIf"],["expanded","true","togglePosition","after","toggleType","material",3,"title","extraStyles"],[3,"selectedThemeControl","themes","colors","selectedColor","selectedColorChange"],[1,"crt-widget-properties-panel-setup-button-container"],["labelType","body-1","labelFontSize","13px"],["color","primary","shape","rounded",3,"clicked"],[3,"series","selectSeries",4,"ngIf"],[3,"series","selectSeries"],[3,"breadcrumbs","itemClicked"],[3,"series"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1)(2,"crt-properties-panel-header"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,zp,12,13,"ng-container",2),e.\u0275\u0275template(5,qp,3,2,"ng-container",2),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("HeaderLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedSeriesIndex===null),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedSeriesIndex!==null))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,s.CrtBreadcrumbsComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,he,Ct,ft,D,F,A,f.AsyncPipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .crt-widget-properties-panel-setup-button-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-widget-properties-panel-attribute-filters-setting[_ngcontent-%COMP%]{padding-bottom:16px}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{margin-top:10px}"],changeDetection:0}),yt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.ChartWidgetPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],yt);let St=class extends ht{constructor(){super(...arguments),this.metaItemType="crt.FullPipelineWidget"}};St.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(St)))(t||St)}}(),St.\u0275cmp=e.\u0275\u0275defineComponent({type:St,selectors:[["crt-full-pipeline-widget-properties-panel"]],features:[e.\u0275\u0275ProvidersFeature([{provide:Nn,useValue:[G.WidgetTheme.PartialFill]},ae]),e.\u0275\u0275InheritDefinitionFeature],decls:13,vars:12,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],["expanded","true","togglePosition","after","toggleType","material",3,"title","extraStyles"],[3,"selectedThemeControl","themes","colors","selectedColor","selectedColorChange"],[1,"crt-widget-properties-panel-setup-button-container"],["labelType","body-1","labelFontSize","13px"],["color","primary","shape","rounded",3,"clicked"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1)(2,"crt-properties-panel-header"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"crt-expansion-panel",2)(5,"crt-widget-style-settings",3),e.\u0275\u0275listener("selectedColorChange",function(a){return t.selectedColorChange(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4)(7,"crt-label",5),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"crt-button",6),e.\u0275\u0275listener("clicked",function(){return t.openSettingsDialog()}),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(11,"crt-properties-panel-visibility-settings",1)(12,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("HeaderLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("GeneralLabel"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedThemeControl",t.getControl("theme"))("themes",t.getLookupItems("theme"))("colors",t.colors)("selectedColor",t.selectedColor),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.translate("SetupBlockCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("SetupButtonLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[s.CrtButtonComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,he,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .crt-widget-properties-panel-setup-button-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-widget-properties-panel-attribute-filters-setting[_ngcontent-%COMP%]{padding-bottom:16px}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{margin-top:10px}"],changeDetection:0}),St=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.FullPipelineWidgetPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],St);let bt=class extends ht{constructor(){super(...arguments),this.metaItemType="crt.FunnelWidget"}};bt.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(bt)))(t||bt)}}(),bt.\u0275cmp=e.\u0275\u0275defineComponent({type:bt,selectors:[["crt-funnel-widget-properties-panel"]],features:[e.\u0275\u0275ProvidersFeature([{provide:Nn,useValue:[G.WidgetTheme.PartialFill]},ae]),e.\u0275\u0275InheritDefinitionFeature],decls:13,vars:12,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],["expanded","true","togglePosition","after","toggleType","material",3,"title","extraStyles"],[3,"selectedThemeControl","themes","colors","selectedColor","selectedColorChange"],[1,"crt-widget-properties-panel-setup-button-container"],["labelType","body-1","labelFontSize","13px"],["color","primary","shape","rounded",3,"clicked"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1)(2,"crt-properties-panel-header"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"crt-expansion-panel",2)(5,"crt-widget-style-settings",3),e.\u0275\u0275listener("selectedColorChange",function(a){return t.selectedColorChange(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4)(7,"crt-label",5),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"crt-button",6),e.\u0275\u0275listener("clicked",function(){return t.openSettingsDialog()}),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(11,"crt-properties-panel-visibility-settings",1)(12,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("HeaderLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("GeneralLabel"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedThemeControl",t.getControl("theme"))("themes",t.getLookupItems("theme"))("colors",t.colors)("selectedColor",t.selectedColor),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.translate("SetupBlockCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("SetupButtonLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[s.CrtButtonComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,he,D,F,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .crt-widget-properties-panel-setup-button-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-widget-properties-panel-attribute-filters-setting[_ngcontent-%COMP%]{padding-bottom:16px}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{margin-top:10px}"],changeDetection:0}),bt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.FunnelWidgetPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],bt);function Up(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-attribute-filters-setting",8),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("attributeName",t.dataProvidingAttribute)}}let Pt=class extends ht{constructor(){super(...arguments),this.metaItemType="crt.GaugeWidget",this.isDataSourcesSupported$=this.injector.get(B.FeatureService).getFeatureState(G.DISABLE_SUPPORT_WIDGET_DATA_SOURCE_FEATURE_NAME).pipe((0,c.map)(r=>!r),(0,c.takeUntil)(this.destroyed$))}set settings(r){super.settings=r,this._setDataProvidingAttribute(r.itemConfig.config)}get settings(){return super.settings}set config(r){this.setDataSourceConfig(r),super.config=r,this._setDataProvidingAttribute(r.itemConfig.config)}_setDataProvidingAttribute(r){this.dataProvidingAttribute=r.data?.providing?.attribute}getColorPropertyPath(){return"itemConfig.config.layout.color"}openSettingsDialog(){this.dataProvidingAttribute=null,super.openSettingsDialog()}};Pt.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Pt)))(t||Pt)}}(),Pt.\u0275cmp=e.\u0275\u0275defineComponent({type:Pt,selectors:[["crt-gauge-widget-properties-panel"]],features:[e.\u0275\u0275ProvidersFeature([{provide:Nn,useValue:[G.WidgetTheme.PartialFill,G.WidgetTheme.Glassmorphism]},{provide:ae,useClass:_n}]),e.\u0275\u0275InheritDefinitionFeature],decls:15,vars:15,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],["expanded","true","togglePosition","after","toggleType","material",3,"title","extraStyles"],[3,"selectedThemeControl","themes","colors","selectedColor","selectedColorChange"],[1,"crt-widget-properties-panel-setup-button-container"],["labelType","body-1","labelFontSize","13px"],["color","primary","shape","rounded",3,"clicked"],["class","crt-widget-properties-panel-attribute-filters-setting",3,"attributeName",4,"ngIf"],[1,"crt-widget-properties-panel-attribute-filters-setting",3,"attributeName"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1)(2,"crt-properties-panel-header"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"crt-expansion-panel",2)(5,"crt-widget-style-settings",3),e.\u0275\u0275listener("selectedColorChange",function(a){return t.selectedColorChange(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4)(7,"crt-label",5),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"crt-button",6),e.\u0275\u0275listener("clicked",function(){return t.openSettingsDialog()}),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,Up,1,1,"crt-attribute-filters-setting",7),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(13,"crt-properties-panel-visibility-settings",1)(14,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("HeaderLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("GeneralLabel"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedThemeControl",t.getControl("theme"))("themes",t.getLookupItems("theme"))("colors",t.colors)("selectedColor",t.selectedColor),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.translate("SetupBlockCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("SetupButtonLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,13,t.isDataSourcesSupported$)&&t.dataProvidingAttribute),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,Ie,he,D,F,A,f.AsyncPipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .crt-widget-properties-panel-setup-button-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-widget-properties-panel-attribute-filters-setting[_ngcontent-%COMP%]{padding-bottom:16px}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{margin-top:10px}"],changeDetection:0}),Pt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.GaugeWidgetPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Pt);function Wp(o,r){if(o&1&&e.\u0275\u0275element(0,"crt-attribute-filters-setting",8),o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("attributeName",t.dataProvidingAttribute)}}let _t=class extends ht{constructor(){super(...arguments),this._glassMorphismColorsMap=new Map([...Kn,[s.TRANSPARENT_COLOR,"transparent"]]),this.metaItemType="crt.IndicatorWidget",this.isDataSourcesSupported$=this.injector.get(B.FeatureService).getFeatureState(G.DISABLE_SUPPORT_WIDGET_DATA_SOURCE_FEATURE_NAME).pipe((0,c.map)(r=>!r),(0,c.takeUntil)(this.destroyed$))}set settings(r){super.settings=r,this._setDataProvidingAttribute(r.itemConfig.config)}get settings(){return super.settings}set config(r){super.config=r,this._setDataProvidingAttribute(r.itemConfig.config)}_setDataProvidingAttribute(r){this.dataProvidingAttribute=r.data?.providing?.attribute}setColors(r){this.colorsMap=r===G.WidgetTheme.Glassmorphism?this._glassMorphismColorsMap:Kn}onThemeChanged(r){super.onThemeChanged(r),this.colorsMap.has(this.selectedColor)||this.selectedColorChange(this.colors[0])}getColorPropertyPath(){return"itemConfig.config.layout.color"}openSettingsDialog(){this.dataProvidingAttribute=null,super.openSettingsDialog()}};_t.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(_t)))(t||_t)}}(),_t.\u0275cmp=e.\u0275\u0275defineComponent({type:_t,selectors:[["crt-indicator-widget-properties-panel"]],features:[e.\u0275\u0275ProvidersFeature([{provide:Nn,useValue:[G.WidgetTheme.Glassmorphism]},{provide:ae,useClass:_n}]),e.\u0275\u0275InheritDefinitionFeature],decls:15,vars:15,consts:[["cdkScrollable","",1,"properties-panel-wrap"],[3,"formGroup"],["expanded","true","togglePosition","after","toggleType","material",3,"title","extraStyles"],[3,"selectedThemeControl","themes","colors","selectedColor","selectedColorChange"],[1,"crt-widget-properties-panel-setup-button-container"],["labelType","body-1","labelFontSize","13px"],["color","primary","shape","rounded",3,"clicked"],["class","crt-widget-properties-panel-attribute-filters-setting",3,"attributeName",4,"ngIf"],[1,"crt-widget-properties-panel-attribute-filters-setting",3,"attributeName"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1)(2,"crt-properties-panel-header"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"crt-expansion-panel",2)(5,"crt-widget-style-settings",3),e.\u0275\u0275listener("selectedColorChange",function(a){return t.selectedColorChange(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4)(7,"crt-label",5),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"crt-button",6),e.\u0275\u0275listener("clicked",function(){return t.openSettingsDialog()}),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,Wp,1,1,"crt-attribute-filters-setting",7),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(13,"crt-properties-panel-visibility-settings",1)(14,"crt-properties-panel-advanced-settings",1),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("HeaderLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.translate("GeneralLabel"))("extraStyles",t.getControlGroupStyles()),e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedThemeControl",t.getControl("theme"))("themes",t.getLookupItems("theme"))("colors",t.colors)("selectedColor",t.selectedColor),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.translate("SetupBlockCaption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.translate("SetupButtonLabel")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,13,t.isDataSourcesSupported$)&&t.dataProvidingAttribute),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.propertiesForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.propertiesForm))},dependencies:[f.NgIf,s.CrtButtonComponent,s.CrtExpansionPanelComponent,s.CrtLabelComponent,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.FormGroupDirective,x.CdkScrollable,Ie,he,D,F,A,f.AsyncPipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .crt-widget-properties-panel-setup-button-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-widget-properties-panel-attribute-filters-setting[_ngcontent-%COMP%]{padding-bottom:16px}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{margin-top:10px}"],changeDetection:0}),_t=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.IndicatorWidgetPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],_t);class Er{}Er.\u0275fac=function(r){return new(r||Er)},Er.\u0275mod=e.\u0275\u0275defineNgModule({type:Er}),Er.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.CommonModule,s.CrtComboBoxModule,s.CrtColorPickerModule,U.CrtLibTranslateModule.forRoot({i18n:Hn})]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Er,{declarations:[he],imports:[f.CommonModule,s.CrtComboBoxModule,s.CrtColorPickerModule,U.CrtLibTranslateModule],exports:[he]})}();const Qp=[yt,_t,bt,St,Pt,Ct,ft];class Fr{}Fr.\u0275fac=function(r){return new(r||Fr)},Fr.\u0275mod=e.\u0275\u0275defineNgModule({type:Fr}),Fr.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.CommonModule,s.CrtCheckboxModule,s.CrtExpansionPanelModule,P.TranslateModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Fr,{declarations:[Bt],imports:[f.CommonModule,s.CrtCheckboxModule,s.CrtExpansionPanelModule,P.TranslateModule],exports:[Bt]})}();var xo=T(11667);let vn=class extends m.BaseDesignerCommand{constructor(r,t){super(r),this.injector=r,this.config=t}_getViewModelItemsAttributeName(){const r=this.config.viewItemConfig?.items?.toString();return r?.startsWith("$")?r.slice(1):r}injectDependencies(){return this._designerDataGridStateHandler=this.injector.get(m.DesignerDataGridStateHandler),this._commandFactoryService=this.injector.get(m.DesignerCommandFactoryService),super.injectDependencies()}innerExecute(){return this._commandFactoryService.create("crt.ResetFilterTargetsCommand",{viewAttributeName:this.config.viewItemConfig.name,collectionAttributeName:this._getViewModelItemsAttributeName()}).pipe((0,d.switchMap)(r=>r.execute()),(0,d.take)(1),(0,d.switchMap)(()=>this._designerDataGridStateHandler.handleEntitySelect(this.config.viewItemConfig,this.config.entitySchemaName,this.config.oldDataSourceName).pipe((0,d.switchMap)(()=>this._commandFactoryService.create("crt.ConfigureExpandedListRelatedElementsCommand",{dataGridViewElementName:this.config.viewItemConfig.name,entitySchemaName:this.config.entitySchemaName,dataSourceName:this.designerSchemaService.getMappedDataSourceAttributePath(this._getViewModelItemsAttributeName()),entitySchemaCaption:this.config.entityCaption,oldEntitySchemaCaption:this.config.oldEntitySchemaCaption,resources:this.designerSchemaService.schema.resources}).pipe((0,d.switchMap)(r=>r.execute()),(0,d.take)(1))))))}};vn.\u0275fac=function(r){e.\u0275\u0275invalidFactory()},vn.\u0275prov=e.\u0275\u0275defineInjectable({token:vn,factory:vn.\u0275fac}),vn=(0,C.__decorate)([(0,m.CrtDesignerCommand)({type:"crt.ChangeDataGridEntityCommand"}),(0,C.__metadata)("design:paramtypes",[e.Injector,Object])],vn);class ve{}ve.\u0275fac=function(r){return new(r||ve)},ve.\u0275mod=e.\u0275\u0275defineNgModule({type:ve}),ve.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.CommonModule,s.CrtComboBoxModule,s.CrtButtonModule,P.TranslateModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(ve,{declarations:[Gt],imports:[f.CommonModule,s.CrtComboBoxModule,s.CrtButtonModule,P.TranslateModule],exports:[Gt]})}();class Vr{}Vr.\u0275fac=function(r){return new(r||Vr)},Vr.\u0275mod=e.\u0275\u0275defineNgModule({type:Vr}),Vr.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.CommonModule,s.CrtButtonModule,ve,s.CrtLabelModule,I.MatIconModule,X.MatLegacyTooltipModule,P.TranslateModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Vr,{declarations:[Fe],imports:[f.CommonModule,s.CrtButtonModule,ve,s.CrtLabelModule,I.MatIconModule,X.MatLegacyTooltipModule,P.TranslateModule],exports:[Fe]})}();class Ar{}Ar.\u0275fac=function(r){return new(r||Ar)},Ar.\u0275mod=e.\u0275\u0275defineNgModule({type:Ar}),Ar.\u0275inj=e.\u0275\u0275defineInjector({providers:[m.DesignerDataGridStateHandler,H,m.DataSourceDependencySettingService,m.FilterViewElementConfigProvider,vn],imports:[f.CommonModule,xo.MatLegacySelectModule,X.MatLegacyTooltipModule,v.MatLegacyFormFieldModule,s.CrtButtonModule,s.CrtComboBoxModule,s.CrtCheckboxModule,Fr,ve,Vr,s.CrtExpansionPanelModule,s.CrtFiltersModule,s.CrtLabelModule,I.MatIconModule,V.ViewModule,U.CrtLibTranslateModule.forRoot({i18n:Hn}),m.FilterViewElementConfigFindersModule,m.FilteringModelRelationConfigConvertersModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Ar,{imports:[f.CommonModule,xo.MatLegacySelectModule,X.MatLegacyTooltipModule,v.MatLegacyFormFieldModule,s.CrtButtonModule,s.CrtComboBoxModule,s.CrtCheckboxModule,Fr,ve,Vr,s.CrtExpansionPanelModule,s.CrtFiltersModule,s.CrtLabelModule,I.MatIconModule,V.ViewModule,U.CrtLibTranslateModule,m.FilterViewElementConfigFindersModule,m.FilteringModelRelationConfigConvertersModule],exports:[Bt,Gt,Fe]})}();let Te=class extends yn{};Te.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Te)))(t||Te)}}(),Te.\u0275cmp=e.\u0275\u0275defineComponent({type:Te,selectors:[["crt-delete-records-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:7,consts:[["cdkScrollable","",1,"properties-panel-wrap"],["labelPosition","above",3,"items","control","useStaticFiltering","label","loading"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-combobox",1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("items",t.availableDataSources)("control",t.selectedDataSource)("useStaticFiltering",!0)("label",e.\u0275\u0275pipeBind1(2,5,"InterfaceDesigner.PropertiesPages.DeleteRecordsRequestPropertiesPanel.SelectDataToDelete"))("loading",t.loading))},dependencies:[s.CrtComboBoxComponent,P.TranslatePipe],encapsulation:2}),Te=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.DeleteRecordsRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Te);let Ce=class{};Ce.\u0275fac=function(r){return new(r||Ce)},Ce.\u0275mod=e.\u0275\u0275defineNgModule({type:Ce}),Ce.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.CrtComboBoxModule,P.TranslateModule]}),Ce=(0,C.__decorate)([(0,l.CrtModule)({viewElements:[Te]})],Ce),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Ce,{declarations:[Te],imports:[s.CrtComboBoxModule,P.TranslateModule],exports:[Te]})}();var Rn=T(31892);function Hp(o){return r=>r.value===s.DEFAULT_TAG_IN_RECORD_SOURCE_SCHEMA_NAME||!(0,y.isEmpty)(o)&&r.value===`${o}InTag`}class Bn extends W{get tagInRecordSourceSchemaReadonlyState(){return!this.availableTagInRecordSchemas||this.availableTagInRecordSchemas.length<=1}set params(r){super.params=r,this._setSelectedDataSource(r?.dataSourceName,{emitEvent:!1}),this._setAvailableTagInRecordSchemas(r?.dataSourceName,r?.tagInRecordSourceSchemaName),this._setSelectedTagInRecordSchema(this._getTagInRecordSchemaNameOrDefault(r?.tagInRecordSourceSchemaName),{emitEvent:!1})}get params(){return super.params}constructor(r,t,n,a,i,u,h){super(),this._dataSourcesLookupValuesProvider=r,this._selectionViewElementConfigProvider=t,this._filteringRequestParamsBindingConfigCreator=n,this._translateService=a,this._designerEntityService=i,this._designerSchemaService=u,this._cdr=h,this._destroyed$=new d.Subject,this._availableReferenceSchemas=[],this.isLoading=!1,this.selectedDataSource=new p.FormControl(null),this.tagInRecordSchema=new p.FormControl(null),this.availableDataSources=[],this.availableTagInRecordSchemas=[]}_setSelectedDataSource(r,t){const n=this.selectedDataSource.value,a=this.availableDataSources.find(i=>i.value===r);a?.value!==n?.value&&this.selectedDataSource.setValue(a,{emitEvent:!!t?.emitEvent})}_setAvailableTagInRecordSchemas(r,t){if((0,y.isEmpty)(r)){this.availableTagInRecordSchemas=[];return}this.availableTagInRecordSchemas=this._getAvailableReferenceSchemasByDataSourceName(r,t)}_getAvailableReferenceSchemasByDataSourceName(r,t){const n=this._getDataSchemaNameByDataSource(r),a=this._availableReferenceSchemas.filter(Hp(n));return this._isCustomTagInRecordSchema(t,a)?this._availableReferenceSchemas.filter(i=>i.value===t):a}_getDataSchemaNameByDataSource(r){return(0,y.isEmpty)(r)?null:this._designerSchemaService.getDataSourceConfigByName(r)?.entitySchemaName}_isCustomTagInRecordSchema(r,t){return!(0,y.isEmpty)(r)&&!t.some(n=>n.value===r)}_setSelectedTagInRecordSchema(r,t){const n=this.tagInRecordSchema.value,a=r?this.availableTagInRecordSchemas.find(i=>i.value===r):this._getDefaultTagInRecordSchema();a?.value!==n?.value&&this.tagInRecordSchema.setValue(a,{emitEvent:!!t?.emitEvent})}_getDefaultTagInRecordSchema(){return this.availableTagInRecordSchemas.sort((r,t)=>t.value.localeCompare(s.DEFAULT_TAG_IN_RECORD_SOURCE_SCHEMA_NAME)).reverse(),this.availableTagInRecordSchemas.length>0?this.availableTagInRecordSchemas[0]:null}_subscribeSelectedDataSourceChanges(){this.selectedDataSource.valueChanges.pipe((0,c.distinctUntilChanged)(),(0,c.tap)(r=>this._onSelectedDataSourceChanged(r)),(0,c.takeUntil)(this._destroyed$)).subscribe()}_subscribeAvailableDataSourcesChanges(){this.isLoading=!0,this._getAvailableDataSourcesChanges().pipe((0,c.tap)(r=>this._onAvailableDataSourcesChanged(r)),(0,c.tap)(()=>this.isLoading=!1),(0,c.takeUntil)(this._destroyed$)).subscribe()}_getAvailableDataSourcesChanges(){return this._dataSourcesLookupValuesProvider.get({scope:l.DataSourceScope.ViewElement}).pipe((0,c.map)(r=>r??[]),(0,c.map)(r=>r.filter(t=>this._selectionViewElementConfigProvider.isModelBoundToSelectionViewElement(t?.value))))}_onSelectedDataSourceChanged(r){const t=r?.value,n=this._filteringRequestParamsBindingConfigCreator.createCollectionFilteringParams(t,{supportEmptySelection:!1});super.params={...this.params,...n,dataSourceName:t},this._setAvailableTagInRecordSchemas(t,null),this._setSelectedTagInRecordSchema(null,{emitEvent:!0}),this._emitParamsChange()}_emitParamsChange(){this._cdr.detectChanges(),this.paramsChange.emit(this.params)}_onAvailableDataSourcesChanged(r){this.availableDataSources=r,this._setSelectedDataSource(this.params?.dataSourceName)}_subscribeTagInRecordSourceSchemaNameChanges(){this.tagInRecordSchema.valueChanges.pipe((0,c.distinctUntilChanged)(),(0,c.tap)(r=>this._onTagInRecordSourceSchemaNameChanged(r)),(0,c.takeUntil)(this._destroyed$)).subscribe()}_subscribeAvailableTagInRecordSourceSchemaNamesChanges(){this._getAvailableTagInRecordSourceSchemaNames().pipe((0,c.tap)(r=>this._onAvailableTagInRecordSourceSchemaNamesChanged(r)),(0,c.takeUntil)(this._destroyed$)).subscribe()}_getAvailableTagInRecordSourceSchemaNames(){return this._designerEntityService.getAvailableReferenceSchemas().pipe((0,c.tap)(r=>{this._availableReferenceSchemas=r.map(t=>({value:t.name,displayValue:t.caption}))}),(0,c.map)(()=>this._getAvailableReferenceSchemasByDataSourceName(this.params?.dataSourceName,this.params?.tagInRecordSourceSchemaName)))}_onTagInRecordSourceSchemaNameChanged(r){const t=r?.value;super.params={...this.params,tagInRecordSourceSchemaName:t},this._emitParamsChange()}_onAvailableTagInRecordSourceSchemaNamesChanged(r){this.availableTagInRecordSchemas=r,this._setSelectedTagInRecordSchema(this._getTagInRecordSchemaNameOrDefault(this.params?.tagInRecordSourceSchemaName),{emitEvent:!1})}_getTagInRecordSchemaNameOrDefault(r){return r??s.DEFAULT_TAG_IN_RECORD_SOURCE_SCHEMA_NAME}ngOnInit(){this._subscribeSelectedDataSourceChanges(),this._subscribeTagInRecordSourceSchemaNameChanges(),this._subscribeAvailableDataSourcesChanges(),this._subscribeAvailableTagInRecordSourceSchemaNamesChanges()}translate(r){return this._translateService.instant(`${this.translatePrefix}.${r}`)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}Bn.\u0275fac=function(r){return new(r||Bn)(e.\u0275\u0275directiveInject(H),e.\u0275\u0275directiveInject(R.SelectionViewElementConfigProvider),e.\u0275\u0275directiveInject(se),e.\u0275\u0275directiveInject(P.TranslateService),e.\u0275\u0275directiveInject(m.DesignerEntityService),e.\u0275\u0275directiveInject(_.DesignerSchemaService),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},Bn.\u0275dir=e.\u0275\u0275defineDirective({type:Bn,inputs:{params:"params"},features:[e.\u0275\u0275InheritDefinitionFeature]});function Jp(o,r){o&1&&e.\u0275\u0275element(0,"ts-mask",4)}let we=class extends Bn{constructor(){super(...arguments),this.translatePrefix="InterfaceDesigner.PropertiesPages.AddTagsInRecordsRequestPropertiesPanel"}get selectedDataSourceCaption(){return this.translate("SelectDataToAddTagsCaption")}};we.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(we)))(t||we)}}(),we.\u0275cmp=e.\u0275\u0275defineComponent({type:we,selectors:[["crt-add-tags-in-records-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:13,consts:[["class","component-mask",4,"ngIf"],["cdkScrollable","",1,"properties-panel-wrap"],["labelPosition","above",3,"items","control","useStaticFiltering","label","loading"],["labelPosition","above",3,"items","control","useStaticFiltering","label","readonly"],[1,"component-mask"]],template:function(r,t){r&1&&(e.\u0275\u0275template(0,Jp,1,0,"ts-mask",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"crt-combobox",2)(3,"crt-combobox",3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275property("ngIf",t.isLoading),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.availableDataSources)("control",t.selectedDataSource)("useStaticFiltering",!0)("label",t.selectedDataSourceCaption)("loading",t.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("items",t.availableTagInRecordSchemas)("control",t.tagInRecordSchema)("useStaticFiltering",!0)("label",e.\u0275\u0275pipeBind1(4,11,"InterfaceDesigner.PropertiesPages.BaseTagsInRecordsRequestPropertiesPanel.TagInRecordSourceSchemaName"))("readonly",t.tagInRecordSourceSchemaReadonlyState))},dependencies:[Rn.CdkScrollable,s.CrtComboBoxComponent,f.NgIf,E.MaskComponent,P.TranslatePipe],styles:["[_nghost-%COMP%]   .component-mask[_ngcontent-%COMP%]{height:100%;width:100%}[_nghost-%COMP%]   .component-mask[_ngcontent-%COMP%]     .mask-wrap{margin-top:40px}"]}),we=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.AddTagsInRecordsRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],we);function Zp(o,r){o&1&&e.\u0275\u0275element(0,"ts-mask",4)}let De=class extends Bn{constructor(){super(...arguments),this.translatePrefix="InterfaceDesigner.PropertiesPages.RemoveTagsInRecordsRequestPropertiesPanel"}get selectedDataSourceCaption(){return this.translate("SelectDataToRemoveTagsCaption")}};De.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(De)))(t||De)}}(),De.\u0275cmp=e.\u0275\u0275defineComponent({type:De,selectors:[["crt-remove-tags-in-records-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:13,consts:[["class","component-mask",4,"ngIf"],["cdkScrollable","",1,"properties-panel-wrap"],["labelPosition","above",3,"items","control","useStaticFiltering","label","loading"],["labelPosition","above",3,"items","control","useStaticFiltering","label","readonly"],[1,"component-mask"]],template:function(r,t){r&1&&(e.\u0275\u0275template(0,Zp,1,0,"ts-mask",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"crt-combobox",2)(3,"crt-combobox",3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275property("ngIf",t.isLoading),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.availableDataSources)("control",t.selectedDataSource)("useStaticFiltering",!0)("label",t.selectedDataSourceCaption)("loading",t.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("items",t.availableTagInRecordSchemas)("control",t.tagInRecordSchema)("useStaticFiltering",!0)("label",e.\u0275\u0275pipeBind1(4,11,"InterfaceDesigner.PropertiesPages.BaseTagsInRecordsRequestPropertiesPanel.TagInRecordSourceSchemaName"))("readonly",t.tagInRecordSourceSchemaReadonlyState))},dependencies:[Rn.CdkScrollable,s.CrtComboBoxComponent,f.NgIf,E.MaskComponent,P.TranslatePipe],styles:["[_nghost-%COMP%]   .component-mask[_ngcontent-%COMP%]{height:100%;width:100%}[_nghost-%COMP%]   .component-mask[_ngcontent-%COMP%]     .mask-wrap{margin-top:40px}"]}),De=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.RemoveTagsInRecordsRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],De);let fe=class{};fe.\u0275fac=function(r){return new(r||fe)},fe.\u0275mod=e.\u0275\u0275defineNgModule({type:fe}),fe.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.CrtComboBoxModule,f.CommonModule,P.TranslateModule,E.MaskModule]}),fe=(0,C.__decorate)([(0,l.CrtModule)({viewElements:[we,De]})],fe),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(fe,{declarations:[we,De],imports:[Rn.CdkScrollable,s.CrtComboBoxModule,f.CommonModule,P.TranslateModule,E.MaskModule],exports:[we,De]})}();const Mo=[...Qp,Le,At,Lt,J,Rt,ut,Ae,Oe,ke,Ne,qt,Ft,Vt,Ot,kt,zt,Ut,Ue,qe,We,Qt,Jt,Zt,er,Je,Ze,Ke,Xe,at,lt,fr,pt,ct,dt,Dr,xr,Ir,Ve,Wt,jt,oe,je,ze,Ht,Kt,Qe,Xt,He,$t,Yt,tr,rr,nr,or,Pe,ar,ir,lr,sr,pr,Ye,it,Cr,br,Tr,wr,ue,Mr,mt,Sr,yr,Ge,Re,gt,st,dr,cr],oc=[...Mo,...Ni,Ee,Cn,de,cn];class Or{}Or.\u0275fac=function(r){return new(r||Or)},Or.\u0275mod=e.\u0275\u0275defineNgModule({type:Or}),Or.\u0275inj=e.\u0275\u0275defineInjector({providers:[Se],imports:[V.ViewModule,I.MatIconModule,s.CrtButtonModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Or,{imports:[V.ViewModule,I.MatIconModule,s.CrtButtonModule]})}();class kr{constructor(r){this._materialIconsRegistrator=r,this._materialIconsRegistrator.addIcons([{name:"open-icon",icon:T(45385)},{name:"plus-icon",icon:T(49206)},{name:"button-size-s-icon",icon:T(71802)},{name:"button-size-m-icon",icon:T(97771)},{name:"button-size-l-icon",icon:T(47425)},{name:"button-size-xl-icon",icon:T(80141)}])}}kr.\u0275fac=function(r){return new(r||kr)(e.\u0275\u0275inject(E.MaterialIconsRegistrator))},kr.\u0275mod=e.\u0275\u0275defineNgModule({type:kr}),kr.\u0275inj=e.\u0275\u0275defineInjector({providers:[Q],imports:[V.ViewModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(kr,{imports:[V.ViewModule]})}();class Lr{constructor(){}}Lr.\u0275fac=function(r){return new(r||Lr)},Lr.\u0275mod=e.\u0275\u0275defineNgModule({type:Lr}),Lr.\u0275inj=e.\u0275\u0275defineInjector({imports:[V.ViewModule,I.MatIconModule,s.CrtButtonModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Lr,{imports:[V.ViewModule,I.MatIconModule,s.CrtButtonModule]})}();class Nr{constructor(r){this._materialIconsRegistrator=r,this._materialIconsRegistrator.addIcons([{name:"icon-position-left",icon:T(50918)},{name:"icon-position-only-icon",icon:T(92016)},{name:"icon-position-right",icon:T(29797)},{name:"dropdown-arrow",icon:T(49774)}])}}Nr.\u0275fac=function(r){return new(r||Nr)(e.\u0275\u0275inject(E.MaterialIconsRegistrator))},Nr.\u0275mod=e.\u0275\u0275defineNgModule({type:Nr}),Nr.\u0275inj=e.\u0275\u0275defineInjector({imports:[V.ViewModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Nr,{imports:[V.ViewModule]})}();class Rr{constructor(r){this._materialIconsRegistrator=r,this._materialIconsRegistrator.addIcons([{name:"icon-eye",icon:T(4477)},{name:"icon-eye-crossed",icon:T(94166)},{name:"icon-conditional",icon:T(80834)}])}}Rr.\u0275fac=function(r){return new(r||Rr)(e.\u0275\u0275inject(E.MaterialIconsRegistrator))},Rr.\u0275mod=e.\u0275\u0275defineNgModule({type:Rr}),Rr.\u0275inj=e.\u0275\u0275defineInjector({imports:[V.ViewModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Rr,{imports:[V.ViewModule]})}();class Br{}Br.\u0275fac=function(r){return new(r||Br)},Br.\u0275mod=e.\u0275\u0275defineNgModule({type:Br}),Br.\u0275inj=e.\u0275\u0275defineInjector({imports:[V.ViewModule,P.TranslateModule,f.CommonModule,s.CrtButtonModule,s.CrtComboBoxModule,s.CrtExpansionPanelModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Br,{declarations:[gn,Be],imports:[V.ViewModule,P.TranslateModule,f.CommonModule,s.CrtButtonModule,s.CrtComboBoxModule,s.CrtExpansionPanelModule],exports:[gn,Be]})}();class Gr{constructor(r){this._materialIconsRegistrator=r,this._materialIconsRegistrator.addIcons([{name:"expansion-panel-toggle-type-default",icon:T(90917)},{name:"expansion-panel-toggle-type-material",icon:T(27282)},{name:"expansion-panel-toggle-position-before",icon:T(94898)},{name:"expansion-panel-toggle-position-after",icon:T(73670)}])}}Gr.\u0275fac=function(r){return new(r||Gr)(e.\u0275\u0275inject(E.MaterialIconsRegistrator))},Gr.\u0275mod=e.\u0275\u0275defineNgModule({type:Gr}),Gr.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.CommonModule,V.ViewModule,I.MatIconModule,qn.MatLegacyRadioModule,v.MatLegacyFormFieldModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Gr,{imports:[f.CommonModule,V.ViewModule,I.MatIconModule,qn.MatLegacyRadioModule,v.MatLegacyFormFieldModule]})}();class jr{constructor(r){this._materialIconsRegistrator=r,this._materialIconsRegistrator.addIcons([{name:"flex-row",icon:T(49122)},{name:"flex-column",icon:T(95572)}])}}jr.\u0275fac=function(r){return new(r||jr)(e.\u0275\u0275inject(E.MaterialIconsRegistrator))},jr.\u0275mod=e.\u0275\u0275defineNgModule({type:jr}),jr.\u0275inj=e.\u0275\u0275defineInjector({imports:[V.ViewModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(jr,{imports:[V.ViewModule]})}();class zr{constructor(){}}zr.\u0275fac=function(r){return new(r||zr)},zr.\u0275mod=e.\u0275\u0275defineNgModule({type:zr}),zr.\u0275inj=e.\u0275\u0275defineInjector({imports:[V.ViewModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(zr,{imports:[V.ViewModule]})}();class qr{}qr.\u0275fac=function(r){return new(r||qr)},qr.\u0275mod=e.\u0275\u0275defineNgModule({type:qr}),qr.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.CommonModule,s.CrtComboBoxModule,s.CrtExpansionPanelModule,p.ReactiveFormsModule,V.ViewModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(qr,{imports:[f.CommonModule,s.CrtComboBoxModule,s.CrtExpansionPanelModule,p.ReactiveFormsModule,V.ViewModule]})}();class Ur{}Ur.\u0275fac=function(r){return new(r||Ur)},Ur.\u0275mod=e.\u0275\u0275defineNgModule({type:Ur}),Ur.\u0275inj=e.\u0275\u0275defineInjector({imports:[V.ViewModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Ur,{imports:[V.ViewModule]})}();class Wr{constructor(r){this._materialIconsRegistrator=r,this._materialIconsRegistrator.addIcons([{name:"label-align-left",icon:T(64388)},{name:"label-align-right",icon:T(62448)},{name:"label-align-center",icon:T(5789)},{name:"label-align-full",icon:T(62606)}])}}Wr.\u0275fac=function(r){return new(r||Wr)(e.\u0275\u0275inject(E.MaterialIconsRegistrator))},Wr.\u0275mod=e.\u0275\u0275defineNgModule({type:Wr}),Wr.\u0275inj=e.\u0275\u0275defineInjector({imports:[V.ViewModule,I.MatIconModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Wr,{imports:[V.ViewModule,I.MatIconModule]})}();let vt=class extends W{constructor(r,t,n){super(),this._translateService=r,this._dataSourceManager=t,this._designerEntityService=n,this._destroyed$=new d.Subject,this._loadConfig={loadType:l.DataSourceLoadType.Reload,useLastLoadParameters:!0},this.dataSourceControl=new p.FormControl,this.dataSourceOptions$=this._getLookupValues(),this.dataSourceComboBoxLabel=this._translateService.instant("InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.LoadDataRequest.DataSourceComboBoxLabel")}_getDataSourceLookupValue(r){return r.getSchema().pipe((0,c.map)(t=>t.dataSourceConfig.config.entitySchemaName),(0,c.switchMap)(t=>this._designerEntityService.getEntityCaption(t)),(0,c.map)(t=>({displayValue:t?`${t} | ${r.dataSourceName}`:r.dataSourceName,value:r.dataSourceName})),(0,c.take)(1))}_getLookupValues(){const r=this._dataSourceManager.getDataSources$(l.DataSourceScope.Page).pipe((0,c.take)(1)),t=this._dataSourceManager.getDataSources$(l.DataSourceScope.ViewElement).pipe((0,c.take)(1));return(0,d.forkJoin)([r,t]).pipe((0,c.map)(([a,i])=>[...a,...i])).pipe((0,c.switchMap)(a=>(0,d.forkJoin)(a.map(i=>this._getDataSourceLookupValue(i)))),(0,c.take)(1))}ngOnInit(){setTimeout(()=>{this.dataSourceOptions$.pipe((0,c.tap)(r=>{const t=this.params||{dataSourceName:""},{dataSourceName:n}=t;if(n){const i=r.find(u=>u.value===n)?.displayValue;this.dataSourceControl.setValue({displayValue:i,value:n})}}),(0,c.takeUntil)(this._destroyed$)).subscribe()}),this.dataSourceControl.valueChanges.pipe((0,c.tap)(r=>{this.params={config:this._loadConfig,dataSourceName:r.value},this.paramsChange.emit(this.params)}),(0,c.takeUntil)(this._destroyed$)).subscribe()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}};vt.\u0275fac=function(r){return new(r||vt)(e.\u0275\u0275directiveInject(P.TranslateService),e.\u0275\u0275directiveInject(m.DesignerDataSourceManager),e.\u0275\u0275directiveInject(m.DesignerEntityService))},vt.\u0275cmp=e.\u0275\u0275defineComponent({type:vt,selectors:[["crt-load-data-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:7,consts:[["cdkScrollable","",1,"load-data-request-properties-panel","properties-panel-wrap"],[1,"properties-form"],[1,"control",3,"items","control","useStaticFiltering","labelPosition","label"]],template:function(r,t){r&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"crt-combobox",2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()()),r&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("items",e.\u0275\u0275pipeBind1(3,5,t.dataSourceOptions$))("control",t.dataSourceControl)("useStaticFiltering",!0)("labelPosition","above")("label",t.dataSourceComboBoxLabel))},dependencies:[s.CrtComboBoxComponent,f.AsyncPipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-expansion-panel[_ngcontent-%COMP%]{height:auto;overflow:inherit}[_nghost-%COMP%]   .properties-panel-wrap[_ngcontent-%COMP%]{margin-top:40px;overflow:auto;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}.embedded-properties-panel[_nghost-%COMP%]{height:auto}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:12px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-input[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .structure-explorer-icon[_ngcontent-%COMP%]{float:right;width:16px;height:16px;padding-right:2px}[_nghost-%COMP%]   .properties-form[_ngcontent-%COMP%]   .crt-control-form-field-wrapper[_ngcontent-%COMP%]{margin-top:12px;padding-bottom:1.25em}[_nghost-%COMP%]   .load-data-request-properties-panel[_ngcontent-%COMP%]{width:100%;display:block}"],changeDetection:0}),vt=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.LoadDataRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,C.__metadata)("design:paramtypes",[P.TranslateService,m.DesignerDataSourceManager,m.DesignerEntityService])],vt);class Qr{}Qr.\u0275fac=function(r){return new(r||Qr)},Qr.\u0275mod=e.\u0275\u0275defineNgModule({type:Qr}),Qr.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.CommonModule,s.CrtComboBoxModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Qr,{declarations:[vt],imports:[f.CommonModule,s.CrtComboBoxModule],exports:[vt]})}();class Hr{constructor(r){this._materialIconsRegistrator=r,this._materialIconsRegistrator.addIcons([{name:"plus-icon",icon:T(49206)},{name:"copy-icon",icon:T(59230)},{name:"pen-icon",icon:T(25058)},{name:"delete-icon",icon:T(79410)}])}}Hr.\u0275fac=function(r){return new(r||Hr)(e.\u0275\u0275inject(E.MaterialIconsRegistrator))},Hr.\u0275mod=e.\u0275\u0275defineNgModule({type:Hr}),Hr.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.CommonModule,s.CrtDataTableModule,s.CrtButtonModule,s.CrtExpansionPanelModule,s.CrtMenuModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Hr,{declarations:[be],imports:[f.CommonModule,s.CrtDataTableModule,s.CrtButtonModule,s.CrtExpansionPanelModule,s.CrtMenuModule],exports:[be]})}();class Jr{}Jr.\u0275fac=function(r){return new(r||Jr)},Jr.\u0275mod=e.\u0275\u0275defineNgModule({type:Jr}),Jr.\u0275inj=e.\u0275\u0275defineInjector({providers:[Q,_.DesignerSchemaService],imports:[V.ViewModule,I.MatIconModule,s.CrtButtonModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Jr,{imports:[V.ViewModule,I.MatIconModule,s.CrtButtonModule]})}();class Zr{}Zr.\u0275fac=function(r){return new(r||Zr)},Zr.\u0275mod=e.\u0275\u0275defineNgModule({type:Zr}),Zr.\u0275inj=e.\u0275\u0275defineInjector({imports:[V.ViewModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Zr,{imports:[V.ViewModule]})}();class Kr{}Kr.\u0275fac=function(r){return new(r||Kr)},Kr.\u0275mod=e.\u0275\u0275defineNgModule({type:Kr}),Kr.\u0275inj=e.\u0275\u0275defineInjector({imports:[V.ViewModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Kr,{imports:[V.ViewModule]})}();var Kp=T(12947);class Xr{}Xr.\u0275fac=function(r){return new(r||Xr)},Xr.\u0275mod=e.\u0275\u0275defineNgModule({type:Xr}),Xr.\u0275inj=e.\u0275\u0275defineInjector({providers:[le.PagesListLoaderService,B.SchemaInfoService,Qn.WorkspaceOpenCreateDialogService,{provide:g.NAVIGATION_HANDLER_TOKEN,useClass:g.NavigationService},{provide:g.RestErrorHandler,useClass:Kp.RestValidationErrorHandler}],imports:[V.ViewModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Xr,{imports:[V.ViewModule]})}();class Tn extends W{constructor(){super(...arguments),this._dataSourcesLookupValuesProvider=(0,e.inject)(H),this._selectionViewElementConfigProvider=(0,e.inject)(R.SelectionViewElementConfigProvider),this._filteringRequestParamsBindingConfigCreator=(0,e.inject)(se),this._translateService=(0,e.inject)(P.TranslateService),this._cdr=(0,e.inject)(e.ChangeDetectorRef),this._designerEntityService=(0,e.inject)(m.DesignerEntityService),this._designerSchemaService=(0,e.inject)(_.DesignerSchemaService),this._folderTreeUseStaticFolderService=(0,e.inject)(s.FolderTreeUseStaticFolderService),this._destroyed$=new d.Subject,this._entitySchemas=[],this._allowedEntitySchemas=[],this.isLoading=!1,this.selectedDataSource=new p.FormControl(null),this.availableDataSources=[]}set params(r){super.params=r,this._setSelectedDataSource(r?.dataSourceName,{emitEvent:!1})}get params(){return super.params}_setSelectedDataSource(r,t){const n=this.selectedDataSource.value,a=this.availableDataSources.find(i=>i.value===r);a?.value!==n?.value&&this.selectedDataSource.setValue(a,{emitEvent:!!t?.emitEvent})}_subscribeSelectedDataSourceChanges(){this.selectedDataSource.valueChanges.pipe((0,c.distinctUntilChanged)(),(0,c.tap)(r=>this._onSelectedDataSourceChanged(r)),(0,c.takeUntil)(this._destroyed$)).subscribe()}_subscribeAvailableDataSourcesChanges(){this.isLoading=!0,this._getAvailableDataSourcesChanges().pipe((0,c.tap)(r=>this._onAvailableDataSourcesChanged(r)),(0,c.tap)(()=>{this.isLoading=!1,this._cdr.detectChanges()}),(0,c.takeUntil)(this._destroyed$)).subscribe()}_getAvailableDataSourcesChanges(){return(0,d.forkJoin)({allowedEntitySchemas:this._folderTreeUseStaticFolderService.getAllowedEntitySchemaNames(),entitySchemas:this._designerEntityService.getReferenceSchemasLookupItems(),dataSources:this._dataSourcesLookupValuesProvider.get({scope:l.DataSourceScope.ViewElement})}).pipe((0,c.tap)(({allowedEntitySchemas:r})=>this._allowedEntitySchemas=r),(0,c.tap)(({entitySchemas:r})=>this._entitySchemas=r.map(t=>t.value)),(0,c.map)(({dataSources:r})=>r??[]),(0,c.map)(r=>r.filter(t=>this._selectionViewElementConfigProvider.isModelBoundToSelectionViewElement(t?.value)).filter(t=>{const a=this._designerSchemaService.getDataSourceConfigByName(t.value).entitySchemaName,i=(0,s.getOldFolderEntitySchemaName)(a);return this._allowedEntitySchemas.includes(a)&&this._entitySchemas.includes(i)})))}_onSelectedDataSourceChanged(r){const t=r?.value,n=this._filteringRequestParamsBindingConfigCreator.createCollectionFilteringParams(t,{supportEmptySelection:!1});super.params={...this.params,...n,dataSourceName:t},this._emitParamsChange()}_emitParamsChange(){this._cdr.detectChanges(),this.paramsChange.emit(this.params)}_onAvailableDataSourcesChanged(r){this.availableDataSources=r,this._setSelectedDataSource(this.params?.dataSourceName)}ngOnInit(){this._subscribeSelectedDataSourceChanges(),this._subscribeAvailableDataSourcesChanges()}translate(r){return this._translateService.instant(`${this.translatePrefix}.${r}`)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}Tn.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Tn)))(t||Tn)}}(),Tn.\u0275dir=e.\u0275\u0275defineDirective({type:Tn,inputs:{params:"params"},features:[e.\u0275\u0275InheritDefinitionFeature]});function Xp(o,r){o&1&&e.\u0275\u0275element(0,"ts-mask",3)}let xe=class extends Tn{constructor(){super(...arguments),this.translatePrefix="InterfaceDesigner.PropertiesPages.AddRecordsInStaticFoldersRequestPropertiesPanel"}get selectedDataSourceCaption(){return this.translate("SelectRecordsToAddInStaticFoldersCaption")}};xe.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(xe)))(t||xe)}}(),xe.\u0275cmp=e.\u0275\u0275defineComponent({type:xe,selectors:[["crt-add-records-in-static-folders-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:6,consts:[["class","component-mask",4,"ngIf"],["cdkScrollable","",1,"properties-panel-wrap"],["labelPosition","above",3,"items","control","useStaticFiltering","label","loading"],[1,"component-mask"]],template:function(r,t){r&1&&(e.\u0275\u0275template(0,Xp,1,0,"ts-mask",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"crt-combobox",2),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275property("ngIf",t.isLoading),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.availableDataSources)("control",t.selectedDataSource)("useStaticFiltering",!0)("label",t.selectedDataSourceCaption)("loading",t.isLoading))},dependencies:[Rn.CdkScrollable,s.CrtComboBoxComponent,f.NgIf,E.MaskComponent],styles:["[_nghost-%COMP%]   .component-mask[_ngcontent-%COMP%]{height:100%;width:100%}[_nghost-%COMP%]   .component-mask[_ngcontent-%COMP%]     .mask-wrap{margin-top:40px}"]}),xe=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.AddRecordsInStaticFoldersRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],xe);function Yp(o,r){o&1&&e.\u0275\u0275element(0,"ts-mask",3)}let Me=class extends Tn{constructor(){super(...arguments),this.translatePrefix="InterfaceDesigner.PropertiesPages.RemoveRecordsInStaticFoldersRequestPropertiesPanel"}get selectedDataSourceCaption(){return this.translate("SelectRecordsToRemoveInStaticFoldersCaption")}};Me.\u0275fac=function(){let o;return function(t){return(o||(o=e.\u0275\u0275getInheritedFactory(Me)))(t||Me)}}(),Me.\u0275cmp=e.\u0275\u0275defineComponent({type:Me,selectors:[["crt-remove-records-in-static-folders-request-properties-panel"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:6,consts:[["class","component-mask",4,"ngIf"],["cdkScrollable","",1,"properties-panel-wrap"],["labelPosition","above",3,"items","control","useStaticFiltering","label","loading"],[1,"component-mask"]],template:function(r,t){r&1&&(e.\u0275\u0275template(0,Yp,1,0,"ts-mask",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"crt-combobox",2),e.\u0275\u0275elementEnd()),r&2&&(e.\u0275\u0275property("ngIf",t.isLoading),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.availableDataSources)("control",t.selectedDataSource)("useStaticFiltering",!0)("label",t.selectedDataSourceCaption)("loading",t.isLoading))},dependencies:[Rn.CdkScrollable,s.CrtComboBoxComponent,f.NgIf,E.MaskComponent],styles:["[_nghost-%COMP%]   .component-mask[_ngcontent-%COMP%]{height:100%;width:100%}[_nghost-%COMP%]   .component-mask[_ngcontent-%COMP%]     .mask-wrap{margin-top:40px}"]}),Me=(0,C.__decorate)([(0,l.CrtViewElement)({type:"crt.RemoveRecordsInStaticFoldersRequestPropertiesPanel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Me);let ye=class{};ye.\u0275fac=function(r){return new(r||ye)},ye.\u0275mod=e.\u0275\u0275defineNgModule({type:ye}),ye.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.CrtComboBoxModule,f.CommonModule,P.TranslateModule,E.MaskModule]}),ye=(0,C.__decorate)([(0,l.CrtModule)({viewElements:[xe,Me]})],ye),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(ye,{declarations:[xe,Me],imports:[Rn.CdkScrollable,s.CrtComboBoxModule,f.CommonModule,P.TranslateModule,E.MaskModule],exports:[xe,Me]})}();class Yr{constructor(r){this._materialIconsRegistrator=r,this._materialIconsRegistrator.addIcons([{name:"icon-position-left",icon:T(50918)},{name:"icon-position-only-icon",icon:T(92016)}])}}Yr.\u0275fac=function(r){return new(r||Yr)(e.\u0275\u0275inject(E.MaterialIconsRegistrator))},Yr.\u0275mod=e.\u0275\u0275defineNgModule({type:Yr}),Yr.\u0275inj=e.\u0275\u0275defineInjector({providers:[Q],imports:[V.ViewModule,s.CrtButtonModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Yr,{imports:[V.ViewModule,s.CrtButtonModule]})}();class $r{}$r.\u0275fac=function(r){return new(r||$r)},$r.\u0275mod=e.\u0275\u0275defineNgModule({type:$r}),$r.\u0275inj=e.\u0275\u0275defineInjector({providers:[Q,_.DesignerSchemaService],imports:[V.ViewModule,I.MatIconModule,s.CrtButtonModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope($r,{imports:[V.ViewModule,I.MatIconModule,s.CrtButtonModule]})}();let Tt=class{};Tt.\u0275fac=function(r){return new(r||Tt)},Tt.\u0275mod=e.\u0275\u0275defineNgModule({type:Tt}),Tt.\u0275inj=e.\u0275\u0275defineInjector({providers:[se,Yn,w.ViewModelGenerator,{provide:z.DATA_PROVIDER,useClass:Io.EntitySchemaStructureExplorerDataProviderService,multi:!0},no],imports:[f.CommonModule,m.BaseInterfaceDesignerModule,s.CrtComponentsModule,Ar,Ce,fe,ye,E.DialogModule,rn.MatLegacyDialogModule,S.LocalizableTextModule,v.MatLegacyFormFieldModule,p.ReactiveFormsModule,P.TranslateModule,E.TooltipModule,V.ViewModule,S.CodeEditorModule,I.MatIconModule,K.MatLegacyInputModule,X.MatLegacyTooltipModule,z.StructureExplorerModule,qn.MatLegacyRadioModule,Gr,Wr,Kr,Ur,jr,kr,Lr,Nt,Yr,tn.MatLegacyButtonModule,E.MaskModule,Xr,Zr,fn,qr,zr,Qr,Un.ValuePickerModule,E.SlideToggleModule,Gn.MatLegacyMenuModule,s.CrtMenuModule,Hr,Jr,ie.RelatedPagesDesignerModule,Wn.BusinessRulesDesignerModule,Or,g.LczToStringModule,Rr,$r,Nr,hr,Et,pe,vr,Er,E.CrtSkeletonLoaderModule,Br,ur]}),Tt=(0,C.__decorate)([(0,l.CrtModule)({viewElements:[...Mo,vt],includes:[Ce,fe,ye]})],Tt),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Tt,{declarations:[yt,_t,bt,St,Pt,Ct,ft,Le,At,Lt,J,Rt,ut,Ae,Oe,ke,Ne,qt,Ft,Vt,Ot,kt,zt,Ut,Ue,qe,We,Qt,Jt,Zt,er,Je,Ze,Ke,Xe,at,lt,fr,pt,ct,dt,Dr,xr,Ir,Ve,Wt,jt,oe,je,ze,Ht,Kt,Qe,Xt,He,$t,Yt,tr,rr,nr,or,Pe,ar,ir,lr,sr,pr,Ye,it,Cr,br,Tr,wr,ue,Mr,mt,Sr,yr,Ge,Re,gt,st,dr,cr,un,D,ne,dn,Z,sn,ge,F,A,ce,re,$,Ee,Cn,de,cn,on,an,nn],imports:[f.CommonModule,m.BaseInterfaceDesignerModule,s.CrtComponentsModule,Ar,Ce,fe,ye,E.DialogModule,rn.MatLegacyDialogModule,S.LocalizableTextModule,v.MatLegacyFormFieldModule,p.ReactiveFormsModule,P.TranslateModule,E.TooltipModule,V.ViewModule,S.CodeEditorModule,I.MatIconModule,K.MatLegacyInputModule,X.MatLegacyTooltipModule,z.StructureExplorerModule,qn.MatLegacyRadioModule,Gr,Wr,Kr,Ur,jr,kr,Lr,Nt,Yr,tn.MatLegacyButtonModule,E.MaskModule,Xr,Zr,fn,qr,zr,Qr,Un.ValuePickerModule,E.SlideToggleModule,Gn.MatLegacyMenuModule,s.CrtMenuModule,Hr,Jr,ie.RelatedPagesDesignerModule,Wn.BusinessRulesDesignerModule,Or,g.LczToStringModule,Rr,$r,Nr,hr,Et,pe,vr,Er,E.CrtSkeletonLoaderModule,Br,ur]})}();const io=[{Id:(0,l.generateGuid)(),UId:"mock-process-uid-TestProcess1",Name:"TestProcess1",Caption:"Test process 1"},{Id:(0,l.generateGuid)(),UId:"mock-process-uid-TestProcess2",Name:"TestProcess2",Caption:"Test process 2"},{Id:(0,l.generateGuid)(),UId:"mock-process-uid-TestProcess3",Name:"TestProcess3",Caption:"Test process 3"}];function $p(o){return{rows:[io.find(r=>r.Name===o)],rowConfig:{Id:{dataValueType:l.DataValueType.Guid},UId:{dataValueType:l.DataValueType.Guid},Name:{dataValueType:l.DataValueType.MEDIUM_TEXT}}}}function ec(o){return{rows:io.filter(r=>r.Caption.includes(o)),rowConfig:{Id:{dataValueType:l.DataValueType.Guid},Name:{dataValueType:l.DataValueType.MEDIUM_TEXT}}}}const tc={rows:io,rowConfig:{Id:{dataValueType:l.DataValueType.Guid},Name:{dataValueType:l.DataValueType.MEDIUM_TEXT}}}},79525:M=>{M.exports=`<svg width="12" height="16" viewBox="0 0 12 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4.04907 0.90918H8.54907L5.04907 5.90918H10.0491L2.04907 14.9092L5.04907 7.90918H1.04907L4.04907 0.90918Z" stroke="#0D2E4E"/>
</svg>
`},47425:M=>{M.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
	<text x="37.5%" y="65.5%" fill="#0d2e4e" font-size="14" font-family="Montserrat-SemiBold, Montserrat" font-weight="600" letter-spacing="0.007em">L</text>
</svg>

`},97771:M=>{M.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
	<text x="31%" y="65.5%" fill="#0d2e4e" font-size="14" font-family="Montserrat-SemiBold, Montserrat" font-weight="600" letter-spacing="0.007em">M</text>
</svg>

`},71802:M=>{M.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
	<text x="37.5%" y="65.5%" fill="#0d2e4e" font-size="14" font-family="Montserrat-SemiBold, Montserrat" font-weight="600" letter-spacing="0.007em">S</text>
</svg>
`},80141:M=>{M.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
	<text x="25%" y="65.5%" fill="#0d2e4e" font-size="14" font-family="Montserrat-SemiBold, Montserrat" font-weight="600" letter-spacing="0.007em">XL</text>
</svg>
`},68265:M=>{M.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="377px" height="241px" viewBox="0 0 377 241" enable-background="new 0 0 377 241" xml:space="preserve">  <image id="image0" width="377" height="241" x="0" y="0"
    href="data:image/png;base64,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" />
</svg>
`},17740:M=>{M.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="334px" height="588px" viewBox="0 0 334 588" enable-background="new 0 0 334 588" xml:space="preserve">  <image id="image0" width="334" height="588" x="0" y="0"
    href="data:image/png;base64,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
WCw2UjT9wCn+xNharTY3NxcEQSazukLPAEDuv/5r5LP/t5yBMAOpLOSz0J6DjhxkU5AK0EEt8Uze
XB9Js2uRyXXLqaCJNPFMLvvUhpVzWqZUILJSTTWULULMxmswfVvLCYw7KxEbN24cGRnZtWtXsViU
j4vVxTzjfmK5MUBUq9WlpaX+/v5isRhVywBAVzpdOPW0euMg6CykM5DOBplskM4GqcYvC2Sa/2VX
HufJN+PcyQKkAdKrvy4VAKT4A6q5Ow29agBVzad8YazJ/wnS/ToESRss3AEbwtTKb5lwTmm0eIrz
WuMXD3jbon+gulltvq4T6qhKg3BZXd62bLMluk/8T3pNWOlKgdh32Mqfac5NNYA8ZpLZTWDvKRHr
168/7bTThoaGFhcX+UgWXrkpX6dFc3jGWC6X6+/v7+vraxqE/O+re3i0AvzPM3p4tAR8qHt4tAR8
qHt4tAR8qHt4tAR8qHt4tAR8qHt4tAR8qHt4tAR8qHt4tAR8qHt4tAR8qHt4tAR8qHt4tAQyAFAq
lQ62Gi0BfpuRgMO0CbxFhz4iizIAsHv37sPUjMMIJ5xwAlK6e/duONw6k9Giw8ucZ7xFy9tDc7nc
xo0bD7Ziz0zMzc1NTk5Sah4urUC06HAxp0Us8mt1D4+WwHJWz2Qy/f39B1uZZyyIWf0wagWKRYeR
Oa1gkc/qHh4tAR/qHh4tAR/qHh4tAR/qHh4tAR/qHh4tAR/qHh4tAR/qHh4tAR/qHh4tAR/qHh4t
AR/qHh4tgUx8FnTcd99973//+4Wb11xzzcknn/yRj3zknnvu4e+fffbZH/zgBx966CGZxEh12223
feYzn+Hvd3d3/8M//ENvb+//+T//Z+/evXzRy1/+8ne/+90H0g+JYH5+/tZbb73ttttKpVIYhscf
f/w73vGOTZs2NUrvvvvuj3zkI3z9t7/97a9+9asB4NFHH73yyiuheSPdoeAExKJ6vf6JT3zizjvv
jCo3GvSoo46KLBLMAYCDaxFjbM+ePTfddNNPf/rTtra2SqXyspe97JJLLsnn80aLkOZzxgENdQDY
unXrJz7xid7eXv7m0tISYkyDBACsqBox39bWxt+cmpoCgGuuuebMM888wIYnjocffrhUKn3605/u
6OhgjH3nO9+5+uqrP/zhD69btw4AJiYmnvvc537gAx9odCwe8/Pz69evB4B/+qd/6u7uPth2kCyq
VqszMzPvete7XvGKV8iEDYsONXPq9fqPf/zjs846693vfncmk5mfn//4xz/+5S9/+fLLL0+n07hF
SPM5w0/gD1ecc845b37zmzs6OgAgCILf//3fL5VKDz30UKM0DMP+/n5lR6nX6+vXr1+/fn2C3Wit
LWr8lrBuA2nDokPNnEwmc9lll73gBS9o/Mh5R0fHK1/5yp/97Gfj4+NGi5Dmc4YP9WcUZmZmGhf7
9u3T1RkcHDzYalpbtLS0NDo6+gywaGlpqfGDyrhFSPM540BP4D3WCIODg7Ozszt27IjubNu2TVe5
MYEXVjeHGgSLurq6GmsTnUWHuDmMsUceeWT9+vXRz57jFiHN5wYf6s8ElEqlG2+88aSTTjr22GMB
oFwuj4+P//CHP7z22mvDMOzp6TnvvPNe//rX9/T0AMDg4GDjadDtt99eq9Xa29vPPPPMN7/5zdEj
vUMBgkUzMzPDw8Pvec97FhcXU6nU1q1bL7744pe85CWNuXHDIsEcADikLHrqqad+8IMf/Omf/mln
ZyduEd58zggagw2YDtZKBPIT+MYjt0KhID9LbzxvUz60N1J9+9vfFp7AN57SLS4uyk/g1/op3fj4
+O7du0844QTkiMJGE4BTK9Rqtc997nN33333Rz/60WOOOaZxs1qtLi0tNda9e/fu/fSnPx0EwQc+
8IGOjo5ardaYQzZKx8fHr7/++t/97nfXXHPNhg0bkrXIrVMpLSqVSqlUqq2trVqt3nvvvf/2b//2
qle96k/+5E+CIGhYJJgDAIeORWNjYx/84AcHBgbe//73RyIQi5DmI0qULWqtJ/CNLv7MeALfQK1W
+8IXvnDXXXddeeWVUVQAQDabzWazjett27a94x3vuPLKK5944onTTz89k8k0EksDAwMDb33rW9//
/vffc889yqfBh4hFUZfNZrPnnnvuzMzMt771rZe+9KXd3d28RZE5AHCIWDQ2NvbhD384m82+613v
4ocSxCKk+ZzV8BP4wxi1Wu2GG2644447rrzyynPOOQep2dHR0dbWVq/XlaX5fL63t7dWqx1sgyws
GhgYqNfrYRjqzGlwO9gGweTk5DXXXAMAf/u3fzswMOBmEd58RPhQP1xRq9VuvvnmW265xRgVADA/
Pw8AXV1dytJyuTwzM9N4Vne4WDQ2NtbX16d8HdUwB1aePh5ETE9P/9M//VO1WjXGOW4R3nxE+Jdt
hyXq9fp3vvOdm2666W/+5m/kqNizZ8/3vve9Rv8AgImJic9+9rNnnnnmUUcdNTMz881vfnN8fLzx
dhcASqXSF7/4xd7e3jiTw7W26O67777nnnsaWZox9sADD/zHf/zHxRdfXCwWI4sEcw66RbOzs//4
j/+4tLT0oQ99SI5zxCKk+eLo47P6YYlqtXr//fdPT09fddVV/P3Gc42enp69e/e+6U1vAoAgCLq6
ui6++OLzzz8/k8kUCoVKpfLe974XAObm5gqFQiaTueCCC972trchT6QOukUbN278whe+8NGPfrSz
s3NpaenYY4+96qqrGk/IIosEcwD9qZYDgPHx8ccee2xmZua1r30tf7/xHWTEIqT54uhzQJ/AtybW
+gn8oWzRYWFOi1jkJ/AeHi0BH+oeHi0BH+oeHi0BH+oeHi0BH+oeHi0BH+oeHi0BH+oeHi2B5Zfy
S0tL0atdj2RB/yb24dIKRIsOF3NaxKLlUD/Et/Uf1shkMsTvOR0urUC06HAxp0UsChhjB1srDw+P
NYdfq3t4tAR8qHt4tAR8qHt4tAR8qHt4tAR8qHt4tAR8qHt4tAR8qHt4tAR8qHt4tAR8qHt4tAR8
qHt4tAR8qHt4tAQOrcOhv/nNb/785z+/+uqrC4VCdHNxcfGv//qvAeDcc899zWtec7B1PAwwNTV1
+eWXP/DAA40/BwYGzj///Le//e2bN28+2Kq5IwzDX/3qV1/5yld+/etf9/b27t69e8uWLS9+8Yvf
8pa3dHd3H2ztrPHNb36TPwZ769atr3zlKy+99NL+/v41knhohbpHgvja177W+O2E6enpa6+99n3v
e98nP/nJg/6DJ26Yn5//yEc+MjMzc9VVV23fvj0IAsbY6OjoyMhIzN88OYi46KKLGlmNMTY8PPyZ
z3zmPe95z7/+679Gv8qcLPwE/pmPnp6eN73pTXNzc7/61a8Oti4uqNfr1157bb1e/+d//ucdO3YE
QQAAQRBs2LDhlFNOafx5WCMIgo0bN/7Zn/3Zvn37du7cuUZSDstQZ4z9/Oc/v+SSS1784hc///nP
v+6665aWlur1+ic/+cl3v/vdpVKpUW3Pnj0ve9nL7rrrLr9RN5fL5XK56LeBDi888cQT3//+91//
+tcf3F9rOdxxWIb6L37xi2uuueaDH/zgXXfddfvttz/++OPXXnstAFx66aUTExO33norY2xxcfFT
n/rUeeedd9555z0DBv6YqFQqlUqF+GPjhxoeeOCBgYGBmL9Ydohjenr65ptvPuWUU44//vg1EnHI
rdW/+93vfve731UWnXvuuQBQKpW++tWvvvrVr244paOj45JLLrnqqqte/vKXH3PMMe9///vf9773
nXTSSY8//vjg4OBf/dVfpdPpg23TQcbIyMinPvWp448//jD9Vfk9e/Zs3rxZ+ROlhzX4rt7d3f2O
d7xD+AH2ZHHIZfWLLrrooYceeorDQw89dNFFF1100UWNCiMjI4888shJJ50U5equrq6lpaWJiQkA
OPHEEy+77LK/+Iu/+Ld/+7d3vvOdh+lTqETw+te//uijjz766KPPP//85zznOVdfffUzYwK8uLj4
3ve+9+gV/PKXvzzYGjmC7+o/+tGPFhcXr7nmmmj5mTgOuVA3ol6v1+v1qB8fffTRF1544f79+xul
QRCce+65+Xz+3HPPfc5znnOwlT2Y+NrXvvbUU0898MADz3/+8/ft23f4zm62bdu2f//+crnc+LNQ
KPzLv/zLU089dccddxzWrw959PT0XHLJJTt37vzWt761RiIOv1AHgM7Ozu9973tPNaPxYqler990
000bN2589NFHb7311oOt6cFHZ2fnm970pltuueXRRx892Lo44rjjjhseHh4cHDzYiqwt8vn8wMDA
2pl5+IX6pk2btm/f/vTTTytL77777jvvvPPDH/7wX/7lX37xi1984oknDra+Bx9nnnnmC1/4ws99
7nNrNzlcU5xwwglnnHHGDTfcsLi4eLB1WUOUy+WxsbGOjo414n/4hXqxWHzDG95w3XXX3X///Y23
aEtLSz/60Y/m5uaeeuqpa6655q/+6q+2bdt2zjnnXHDBBdddd91h2r8TRDqdfv3rX//II4/85Cc/
Odi6uKBQKPzlX/7lE088cfXVVw8NDUWvThljYRgebO2SQeNrTsPDwxdeeOEaiTjknsBT8LznPe9j
H/vYZz7zmQcffLBYLFYqlde85jWnnnrqZz/72QsuuOAFL3gBrPTvd7/73V//+tff+MY3plKH36CW
II466qg3vOENn/3sZ08//fSNGzcebHWssXXr1i9/+cs333zzO9/5zp07d27ZsmVkZGTz5s2vfOUr
d+zYcbC1c4TwBP4P/uAPvvSlL23dunWNxPlz4D08WgItnes8PFoHPtQ9PFoCPtQ9PFoCPtQ9PFoC
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
AAAASUVORK5CYII=" />
</svg>
`},80834:M=>{M.exports=`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
	<path fill-rule="evenodd" clip-rule="evenodd" d="M21.886 12H15.5C15.5 10.067 13.933 8.5 12 8.5C10.067 8.5 8.5 10.067 8.5 12C8.5 13.933 10.067 15.5 12 15.5V21.896H9.79498V18.953C9.15496 18.8336 8.55404 18.5589 8.04498 18.153L5.97699 20.301L3.51099 17.835L5.659 15.767C5.47489 15.4724 5.30791 15.0928 5.16586 14.7698C5.00082 14.3947 4.86945 14.096 4.784 14.096H2V9.79602H4.77899C4.90496 9.16684 5.20862 8.58693 5.65399 8.125L3.50598 5.97699L5.89203 3.51099L8.03998 5.659C8.54281 5.22835 9.14376 4.92787 9.78998 4.784V2H14.09V4.78003C14.09 4.91503 14.4202 5.04907 14.8223 5.21226L14.8223 5.21226C15.132 5.33797 15.4842 5.48097 15.761 5.65503L17.75 3.50702L20.216 5.97302L18.068 8.12097C18.4986 8.6238 18.7991 9.22476 18.943 9.87097H21.886V12Z" fill="currentColor"/>
	<rect x="14" y="14" width="8" height="2" fill="currentColor"/>
	<rect x="14" y="18" width="8" height="2" fill="currentColor"/>
</svg>
`},59230:M=>{M.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <g fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="2">
    <path stroke="none" d="M2 4h9v11H2z"/>
    <path d="M3 5h7v9H3z"/>
  </g>
  <g>
    <path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="2" d="M4 1.999h9v11"/>
  </g>
  <path fill="none" d="M0 0h16v16H0z"/>
</svg>
`},69362:M=>{M.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="cross_default_state" opacity="1">
    <rect id="Rectangle_6497" data-name="Rectangle 6497" width="16" height="16" fill="none" stroke="none"/>
    <line id="Line_772" data-name="Line 772" y1="10" x2="10" transform="translate(3 3)" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="1"/>
    <line id="Line_773" data-name="Line 773" x2="10" y2="10" transform="translate(3 3)" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="1"/>
  </g>
</svg>
`},79410:M=>{M.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <path fill="currentColor" d="M0 0h16v16H0z"/>
  <path fill="none" stroke="currentColor" stroke-width="2" d="M3 4v11h10V4Z"/>
  <path fill="none" stroke="currentColor" stroke-width="2" d="M6.5 7v5"/>
  <path fill="none" stroke="currentColor" stroke-width="2" d="M9.5 7v5"/>
  <path fill="none" stroke="currentColor" stroke-width="2" d="M1 4h14"/>
  <path fill="none" stroke="currentColor" stroke-width="2" d="m5 4 1-3h4l1 3Z"/>
</svg>
`},49774:M=>{M.exports=`<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'><g transform='translate(-1783.779 74.455)'><path style='fill: inherit;' d='M1787.779-67.455l4,4,4-4Z' /></g><rect style='fill: none;' width='16' height='16' /></svg>
`},67526:M=>{M.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect class="a" fill="none" width="16" height="16"/><g transform="translate(828.001 -256.344)"><g class="b" stroke-miterlimit="10" fill="none" transform="translate(-0.562 -0.563)"><path class="d" d="M-822.721,270.046a2.984,2.984,0,0,0-3,.861l-.715-.714a2.983,2.983,0,0,0,.862-3l9.281-9.282,2.856,2.856Z"/><path class="e" stroke="none" fill="#54657d" d="M -824.6316528320313 269.1003723144531 C -824.2100830078125 268.9744262695313 -823.8204345703125 268.9347534179688 -823.4967651367188 268.9347534179688 C -823.3335571289063 268.9347534179688 -823.1836547851563 268.9448852539063 -823.0501098632813 268.9602355957031 L -814.8533325195313 260.7627868652344 L -816.2953491210938 259.3211669921875 L -824.4864501953125 267.5129089355469 C -824.4336547851563 267.9642028808594 -824.45556640625 268.5171203613281 -824.6316528320313 269.1003723144531 M -825.7241821289063 270.9070129394531 C -826.014892578125 270.6171875 -826.1371459960938 270.4949951171875 -826.4390258789063 270.1930847167969 C -825.00927734375 268.7652282714844 -825.5767211914063 267.18896484375 -825.5767211914063 267.18896484375 L -816.2954711914063 257.9070129394531 L -813.4390258789063 260.7626647949219 L -822.7213134765625 270.045654296875 C -822.7213134765625 270.045654296875 -823.029541015625 269.9347534179688 -823.4967651367188 269.9347534179688 C -824.0857543945313 269.9347534179688 -824.927490234375 270.1108093261719 -825.7241821289063 270.9070129394531 Z"/></g><path class="c" stroke="#54657d" fill="none" d="M.5.5l2,2" transform="translate(-819.501 259.844)"/></g></svg>'},73670:M=>{M.exports=`<svg id="Component_3774_4" data-name="Component 3774 \u2013 4" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_6381" data-name="Rectangle 6381" width="16" height="16" transform="translate(16 16) rotate(180)" fill="none"/>
  <line id="Line_39" data-name="Line 39" x1="8" transform="translate(8 8) rotate(180)" fill="none" stroke="#0d2e4e" stroke-width="2"/>
  <rect id="Rectangle_40413" data-name="Rectangle 40413" width="6" height="6" transform="translate(16 11) rotate(180)" fill="#0d2e4e"/>
</svg>
`},94898:M=>{M.exports=`<svg id="Component_1193_32" data-name="Component 1193 \u2013 32" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_6381" data-name="Rectangle 6381" width="16" height="16" fill="none"/>
  <line id="Line_39" data-name="Line 39" x1="8" transform="translate(8 8)" fill="none" stroke="#0d2e4e" stroke-width="2"/>
  <rect id="Rectangle_40413" data-name="Rectangle 40413" width="6" height="6" transform="translate(0 5)" fill="#0d2e4e"/>
</svg>
`},90917:M=>{M.exports=`<svg id="Component_31_13" data-name="Component 31 \u2013 13" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_220" data-name="Rectangle 220" width="14" height="14" rx="2" transform="translate(1 1)" fill="#ff4013"/>
  <path id="Path_529" data-name="Path 529" d="M448.6,1480.38,452,1477l3.467,3.38" transform="translate(-444 -1471)" fill="none" stroke="#fff" stroke-width="1.3"/>
  <rect id="Rectangle_6214" data-name="Rectangle 6214" width="16" height="16" fill="none"/>
</svg>
`},27282:M=>{M.exports=`<svg id="Component_195_301" data-name="Component 195 \u2013 301" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <path id="Path_131501" data-name="Path 131501" d="M7,13,0,6.5,7,0" transform="translate(14.098 4.25) rotate(90)" fill="none" stroke="#006ce0" stroke-width="1.1"/>
  <rect id="Rectangle_640001" data-name="Rectangle 640001" width="16" height="16" fill="none"/>
</svg>
`},94166:M=>{M.exports=`<svg id="Component_5489_10" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <path id="Subtraction_1013" d="M1422.268-109.33h-.208a7.417,7.417,0,0,1-2.125-.3,7.126,7.126,0,0,1-1.906-.844,7.711,7.711,0,0,1-1.606-1.359,7.848,7.848,0,0,1-1.247-1.805l-.115-.187.115-.211a7.56,7.56,0,0,1,1.247-1.758,8.221,8.221,0,0,1,.856-.8l.735.735a6.43,6.43,0,0,0-1.661,2.034,5.727,5.727,0,0,0,2.437,2.532,7.813,7.813,0,0,0,3.477.96,7.38,7.38,0,0,0,1.18-.093l.835.835A7.67,7.67,0,0,1,1422.268-109.33Zm4.787-1.736h0l-.646-.646a6.561,6.561,0,0,0,1.775-2.117,6.627,6.627,0,0,0-1.086-1.453,6.967,6.967,0,0,0-1.386-1.09,7.05,7.05,0,0,0-1.64-.715,6.376,6.376,0,0,0-1.519-.251,2.683,2.683,0,0,1,1.83.9,2.991,2.991,0,0,1,.843,2.1v.117a2.753,2.753,0,0,1-.223,1.109h0l-3.973-3.973.052-.022.022-.009a3.17,3.17,0,0,1,1.166-.222c.094,0,.189,0,.284.006-.063,0-.127-.006-.191-.006h-.093a6.964,6.964,0,0,0-1.36.132l-.838-.838a7.225,7.225,0,0,1,1.99-.279,7.629,7.629,0,0,1,2.149.305,7.815,7.815,0,0,1,1.94.867,7.563,7.563,0,0,1,1.617,1.36,7.391,7.391,0,0,1,1.2,1.758l.093.211-.093.187a7,7,0,0,1-1.085,1.782,7.62,7.62,0,0,1-.827.794Zm-4.787-.279h-.092a2.672,2.672,0,0,1-2.033-.9,3.012,3.012,0,0,1-.832-2.1v-.221l3.212,3.212C1422.429-111.348,1422.346-111.345,1422.268-111.345Z" transform="translate(-1414.061 121.939)" fill="currentColor"/>
  <rect id="Rectangle_44636" width="16" height="16" fill="none"/>
  <path id="Path_11999" d="M768,8279l12,12" transform="translate(-766 -8277)" fill="none" stroke="currentColor" stroke-width="1"/>
</svg>
`},4477:M=>{M.exports=`<svg id="Component_2433_33" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
  <rect id="Rectangle_39404" width="24" height="24" fill="none"/>
  <path id="Path_11238" d="M3.011-1.195H2.7A11.1,11.1,0,0,1-.46-1.642,10.6,10.6,0,0,1-3.3-2.879,11.332,11.332,0,0,1-5.683-4.872,11.436,11.436,0,0,1-7.539-7.518l-.172-.275.172-.309a11.03,11.03,0,0,1,1.856-2.577,11.916,11.916,0,0,1,2.44-1.993A11.8,11.8,0,0,1-.391-13.944,10.859,10.859,0,0,1,2.7-14.391h0a11.457,11.457,0,0,1,3.2.447,11.648,11.648,0,0,1,2.887,1.271,11.144,11.144,0,0,1,2.405,1.993A10.779,10.779,0,0,1,12.976-8.1l.137.309-.137.275a10.173,10.173,0,0,1-1.615,2.612A11.29,11.29,0,0,1,9.024-2.947,12.152,12.152,0,0,1,6.207-1.642,11.457,11.457,0,0,1,3.011-1.195Zm0-1.478h0A10.05,10.05,0,0,0,8.182-4.03a9.55,9.55,0,0,0,3.625-3.763,9.679,9.679,0,0,0-1.615-2.131,10.351,10.351,0,0,0-2.062-1.6,10.528,10.528,0,0,0-2.44-1.048,9.591,9.591,0,0,0-2.68-.378A10.134,10.134,0,0,0-2.11-11.59a9.39,9.39,0,0,0-3.677,3.8A8.406,8.406,0,0,0-2.161-4.081,11.683,11.683,0,0,0,3.011-2.672Zm0-10.275a4.761,4.761,0,0,0-1.735.326A4.08,4.08,0,0,0-.22-11.607H.09a1.58,1.58,0,0,1,1.134.464A1.535,1.535,0,0,1,1.7-9.992a1.551,1.551,0,0,1-.481,1.134A1.551,1.551,0,0,1,.09-8.377,1.78,1.78,0,0,1-.769-8.6a1.41,1.41,0,0,1-.619-.67v.722A4.364,4.364,0,0,0-.151-5.473,3.982,3.982,0,0,0,2.873-4.15h.137A4.364,4.364,0,0,0,6.086-5.387a3.945,3.945,0,0,0,1.323-2.99v-.172a4.332,4.332,0,0,0-1.254-3.076,4,4,0,0,0-3.007-1.323H3.011Z" transform="translate(9.299 19.293)" fill="currentColor"/>
</svg>
`},95572:M=>{M.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16.068" height="16"><path fill="#0d2e4e" stroke="#0d2e4e" d="M12 9.75v-6.5h1v6.5h2l-2.5 3-2.5-3Z"/><path fill="none" d="M0 0h16v16H0z"/><path fill="none" stroke="#0d2e4e" stroke-width="2" d="M1 10h7"/><path fill="none" stroke="#0d2e4e" stroke-width="2" d="M1 6h7"/><path fill="none" stroke="#0d2e4e" stroke-width="2" d="M1 2h7"/><path fill="none" stroke="#0d2e4e" stroke-width="2" d="M1 14h7"/></svg>'},49122:M=>{M.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g><path d="M10 3.5H3.5v1H10v2L13 4l-3-2.5Z" fill="#0d2e4e" stroke="#0d2e4e"/><path fill="none" d="M16 0v16H0V0z"/><path fill="none" stroke="#0d2e4e" stroke-width="2" d="M1 10h6"/><path fill="none" stroke="#0d2e4e" stroke-width="2" d="M1 14h6"/><path fill="none" stroke="#0d2e4e" stroke-width="2" d="M9 10h6"/><path fill="none" stroke="#0d2e4e" stroke-width="2" d="M9 14h6"/></g></svg>'},50918:M=>{M.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 24" width="44" height="24">
	<g transform="translate(4 4)">
		<g fill="none">
			<g stroke="currentColor" stroke-width="2">
				<path stroke="none" d="M1 1h14v14H1z"/>
				<path d="M2 2h12v12H2z"/>
			</g>
			<g stroke="currentColor" stroke-width="2" transform="translate(9 4)">
				<circle cx="1.5" cy="1.5" r="1.5" stroke="none"/>
				<circle cx="1.5" cy="1.5" r=".5"/>
			</g>
			<g>
				<path d="m1 11 6-5 8 9H1Z"/>
				<path fill="currentColor" d="M10.55 13 6.79 8.78 3 11.94V13h7.55M15 15H1v-4l6-5 8 9Z"/>
			</g>
		</g>
		<path fill="none" d="M0 0h16v16H0z"/>
	</g>
	<g transform="translate(26 12)" stroke="#c8c8c8" stroke-width="6" fill="none" stroke-linecap="round">
		<path d="M0 0 H10"/>
	</g>
</svg>
`},92016:M=>{M.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 24" width="44" height="24">
	<g transform="translate(14 4)">
		<g fill="none">
			<g stroke="currentColor" stroke-width="2">
				<path stroke="none" d="M1 1h14v14H1z"/>
				<path d="M2 2h12v12H2z"/>
			</g>
			<g stroke="currentColor" stroke-width="2" transform="translate(9 4)">
				<circle cx="1.5" cy="1.5" r="1.5" stroke="none"/>
				<circle cx="1.5" cy="1.5" r=".5"/>
			</g>
			<g>
				<path d="m1 11 6-5 8 9H1Z"/>
				<path fill="currentColor" d="M10.55 13 6.79 8.78 3 11.94V13h7.55M15 15H1v-4l6-5 8 9Z"/>
			</g>
		</g>
		<path fill="none" d="M0 0h16v16H0z"/>
	</g>
</svg>
`},29797:M=>{M.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 24" width="44" height="24">
	<g transform="translate(8 12)" stroke="#c8c8c8" stroke-width="6" fill="none" stroke-linecap="round">
		<path d="M0 0 H10"/>
	</g>
	<g transform="translate(24 4)">
		<g fill="none">
			<g stroke="currentColor" stroke-width="2">
				<path stroke="none" d="M1 1h14v14H1z"/>
				<path d="M2 2h12v12H2z"/>
			</g>
			<g stroke="currentColor" stroke-width="2" transform="translate(9 4)">
				<circle cx="1.5" cy="1.5" r="1.5" stroke="none"/>
				<circle cx="1.5" cy="1.5" r=".5"/>
			</g>
			<g>
				<path d="m1 11 6-5 8 9H1Z"/>
				<path fill="currentColor" d="M10.55 13 6.79 8.78 3 11.94V13h7.55M15 15H1v-4l6-5 8 9Z"/>
			</g>
		</g>
		<path fill="none" d="M0 0h16v16H0z"/>
	</g>
</svg>
`},30595:M=>{M.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">
	<circle cx="7.9" cy="8.2" r="6.5" stroke="currentColor" fill="none"/>
	<path d="M7.2 7.2h1v4h-1zm0-2h1v1h-1z" fill="currentColor"/>
</svg>
`},5789:M=>{M.exports=`<svg id="Component_3786_50" data-name="Component 3786 \u2013 50" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_6381" data-name="Rectangle 6381" width="16" height="16" fill="none"/>
  <line id="Line_39" data-name="Line 39" x1="6.5" transform="translate(4.75 8)" fill="none" stroke="#0d2e4e" stroke-width="2"/>
  <line id="Line_215" data-name="Line 215" y2="12" transform="translate(14 4) rotate(90)" fill="none" stroke="#0d2e4e" stroke-width="2"/>
  <line id="Line_216" data-name="Line 216" y2="12" transform="translate(14 12) rotate(90)" fill="none" stroke="#0d2e4e" stroke-width="2"/>
</svg>
`},62606:M=>{M.exports=`<svg id="Component_3788_10" data-name="Component 3788 \u2013 10" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_6381" data-name="Rectangle 6381" width="16" height="16" fill="none"/>
  <line id="Line_39" data-name="Line 39" x1="12" transform="translate(2 8)" fill="none" stroke="#0d2e4e" stroke-width="2"/>
  <line id="Line_215" data-name="Line 215" y2="12" transform="translate(14 4) rotate(90)" fill="none" stroke="#0d2e4e" stroke-width="2"/>
  <line id="Line_216" data-name="Line 216" y2="12" transform="translate(14 12) rotate(90)" fill="none" stroke="#0d2e4e" stroke-width="2"/>
</svg>
`},64388:M=>{M.exports=`<svg id="Component_1193_30" data-name="Component 1193 \u2013 30" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_6381" data-name="Rectangle 6381" width="16" height="16" fill="none"/>
  <line id="Line_39" data-name="Line 39" x1="6.5" transform="translate(2 8)" fill="none" stroke="#0d2e4e" stroke-width="2"/>
  <line id="Line_215" data-name="Line 215" y2="12" transform="translate(14 4) rotate(90)" fill="none" stroke="#0d2e4e" stroke-width="2"/>
  <line id="Line_216" data-name="Line 216" y2="12" transform="translate(14 12) rotate(90)" fill="none" stroke="#0d2e4e" stroke-width="2"/>
</svg>
`},62448:M=>{M.exports=`<svg id="Component_3787_5" data-name="Component 3787 \u2013 5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_6381" data-name="Rectangle 6381" width="16" height="16" fill="none"/>
  <line id="Line_39" data-name="Line 39" x1="6.5" transform="translate(7.5 8)" fill="none" stroke="#0d2e4e" stroke-width="2"/>
  <line id="Line_215" data-name="Line 215" y2="12" transform="translate(14 4) rotate(90)" fill="none" stroke="#0d2e4e" stroke-width="2"/>
  <line id="Line_216" data-name="Line 216" y2="12" transform="translate(14 12) rotate(90)" fill="none" stroke="#0d2e4e" stroke-width="2"/>
</svg>
`},48962:M=>{M.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-lookup-icon-unique-class-a,.structure-explorer-lookup-icon-unique-class-b,.structure-explorer-lookup-icon-unique-class-c{fill:none;}.structure-explorer-lookup-icon-unique-class-a,.structure-explorer-lookup-icon-unique-class-b{stroke:#54657d;}.structure-explorer-lookup-icon-unique-class-a{stroke-miterlimit:10;}.structure-explorer-lookup-icon-unique-class-d{stroke:none;}</style></defs><g transform="translate(0.001)"><g class="structure-explorer-lookup-icon-unique-class-a" transform="translate(0 0)"><circle class="structure-explorer-lookup-icon-unique-class-d" cx="6" cy="6" r="6"/><circle class="structure-explorer-lookup-icon-unique-class-c" cx="6" cy="6" r="5.5"/></g><path class="structure-explorer-lookup-icon-unique-class-b" d="M.344.344,5.5,5.5" transform="translate(9.5 9.5)"/></g><rect class="structure-explorer-lookup-icon-unique-class-c" width="16" height="16"/></svg>'},45385:M=>{M.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
	<rect width="14" height="14" fill="none" stroke="#0d2e4e" stroke-miterlimit="10" rx="2" transform="translate(1 1)"/>
	<path fill="none" stroke="#0d2e4e" stroke-miterlimit="10" d="m11.529 4.43-7.554 7.503M5.606 4.43h5.923v5.923"/>
	<path fill="none" d="M0 0h16v16H0z"/>
</svg>
`},27519:M=>{M.exports=`<svg id="Component_906_1" data-name="Component 906 \u2013 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_6385" data-name="Rectangle 6385" width="14" height="14" rx="2" transform="translate(1 1)" fill="none" stroke="#ffffff" stroke-miterlimit="10" stroke-width="1"/>
  <line id="Line_217" data-name="Line 217" x1="7.554" y2="7.503" transform="translate(3.975 4.43)" fill="none" stroke="#FDFBFF" stroke-miterlimit="10" stroke-width="1"/>
  <path id="Path_6133" data-name="Path 6133" d="M-1021.839,155.963h5.923v5.923" transform="translate(1027.445 -151.533)" fill="none" stroke="#ffffff" stroke-miterlimit="10" stroke-width="1"/>
  <rect id="Rectangle_6386" data-name="Rectangle 6386" width="16" height="16" fill="none"/>
</svg>
`},25058:M=>{M.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <g fill="currentColor">
    <path d="m9.377 4.146 2.5 2.524-5.669 5.674-2.625-2.562Z"/>
    <path d="m2.877 10.891 2.25 2.25-2.958.646Z"/>
    <path d="m10.377 3.521 2.021 2.125 1.375-1.271-2.021-2.062Z"/>
  </g>
  <path fill="none" d="M0 0h16v16H0z"/>
</svg>
`},49206:M=>{M.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <line y2="13" transform="translate(8 1.5)" fill="none" stroke="currentColor" stroke-width="2"/>
  <line y2="13" transform="translate(14.5 8) rotate(90)" fill="none" stroke="currentColor" stroke-width="2"/>
  <rect width="16" height="16" fill="none"/>
</svg>
`}}]);
