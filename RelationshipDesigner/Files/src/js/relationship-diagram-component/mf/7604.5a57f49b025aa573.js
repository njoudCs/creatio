(self.webpackChunkapp_studio_enterprise_relationship_diagram=self.webpackChunkapp_studio_enterprise_relationship_diagram||[]).push([[7604,8239,5036,6118,7344,8160,1034,8056],{47009:(f,Z,p)=>{p.d(Z,{h:()=>T});var I=p(90093),i=p.n(I),A=p(46081),m=p(83400);function T(s){return function(d){(0,A.nA)(s.type,"RequestTypeName"),(0,A.rO)(s.type),m.G.register(s,d)}}},46081:(f,Z,p)=>{p.d(Z,{Fd:()=>m,Mh:()=>d,YN:()=>T,hm:()=>C,nA:()=>A,rO:()=>s,xV:()=>z});var I=p(97600),i=p.n(I);function A(_,E){if(_.split(".").length<2)throw new Error(`Error when register ${_}. Type property should have format "VendorPrefix.${E}"`)}function m(_,E){return A(_,E)}function T(_){const[E,O]=_.split("."),me=d(O);if(!E||me!==O)throw new Error(`Error when register ${_}. Type property should have Pascal case, e.g. ${E+"."+me}. The first letter of each word in a compound word should be capitalized`)}function s(_){const[E,O]=_.split("."),me=d(O);if(E.toLowerCase()==="crt"&&me!==O)throw new Error(`Error when register ${_}. Type property should have Pascal case, e.g. ${E+"."+me}. The first letter of each word in a compound word should be capitalized`)}function d(_){return(0,I.upperFirst)((0,I.camelCase)(_))}function C(_,E){if(!E)throw new Error(`Error when resolve ${_}. Type was not registered.`)}function z(_,E,O){if(O.has(_)&&!(0,I.isEqual)(O.get(_),E))throw new Error(`Error when register ${_}. Element with this type has already exist`)}},83400:(f,Z,p)=>{p.d(Z,{G:()=>i});var I=p(46081);class i{static get requestsRegistrationInfos(){return this._requestsRegistrationInfos}static register(m,T){const s=m.type;i._requestsMap.set(s,T),i._requestsRegistrationInfos.set(s,m)}static get(m){const T=i._requestsMap.get(m);return(0,I.hm)(m,T),T&&new T}}i._requestsMap=new Map,i._requestsRegistrationInfos=new Map},77604:(f,Z,p)=>{p.r(Z),p.d(Z,{ACCESS_CONTROL_WHITELIST:()=>tc,ACTIVITY_CATEGORY_EMAIL:()=>ui,ACTIVITY_CATEGORY_MEETING:()=>ci,ACTIVITY_CATEGORY_TODO:()=>li,ACTIVITY_SCHEME_NAME:()=>si,ACTIVITY_SCHEME_UID:()=>ai,ACTIVITY_TYPE_EMAIL:()=>ii,ACTIVITY_TYPE_TASK:()=>oi,ALLOW_PAGE_DESIGN:()=>jo,ALL_EMPLOYEES_SYSADMINUNIT_ID:()=>Fo,ALL_PORTAL_USERS_SYSADMINUNIT_ID:()=>Oo,APPEARANCE_SETTINGS_DEFAULT_LOADER:()=>ma,APPEARANCE_SETTINGS_LOADER:()=>ga,APPLICATION_INFO_PROVIDER:()=>_,AbstractEntityDataSourceAttributeConfigCreator:()=>Mr,AbstractExpressionFactory:()=>F,AbstractExpressionFactoryMediator:()=>Nr,AbstractThemeProvider:()=>Bs,AbstractValidator:()=>Pn,AclRightsException:()=>Or,AclRules:()=>Fr,AddonName:()=>en,AggregationSubQueryOperandExpression:()=>Ha,AggregationSubQueryOperandExpressionFactory:()=>qa,AppBaseUrlCsrfInterceptor:()=>Jt,AppearanceSettingsMetadata:()=>Bc,AppearanceSettingsService:()=>Zt,ApplicationInfo:()=>C,ApplicationInfoService:()=>E,ArithmeticOperatorDataTypeResolver:()=>Dn,ArithmeticOperatorExpression:()=>Za,ArithmeticOperatorExpressionFactory:()=>os,ArithmeticOperatorType:()=>k,BASE_HOME_PAGE_TEMPLATE_ANGULAR:()=>ri,BASE_MODAL_PAGE_TEMPLATE_ANGULAR:()=>ni,BASE_PAGE_TEMPLATE_ANGULAR:()=>ti,BYTES_IN_MEGABYTE:()=>Jn,BaseDateTimeHandler:()=>fe,BaseFormatPipe:()=>Ur,BaseRequireJsPathRegisterService:()=>dr,BaseSchema:()=>me,BinaryOperatorExpression:()=>Fn,BrowserExtensionsService:()=>Ke,BrowserExtensionsServiceMock:()=>Ye,BusinessRuleExpressionComparisonType:()=>an,BusinessRuleExpressionType:()=>nn,BusinessRuleTriggerType:()=>on,BypassSecurityTrustModule:()=>ot,BypassSecurityTrustPipe:()=>it,CLIENT_SCHEMA_SAVED_CHANNEL_NAME:()=>Nc,COMPOSER_EVENT_ATTRIBUTE_PREFIX:()=>di,CONTEXT_SERVICE_TOKEN:()=>Uo,CRT_NAVIGATION_LOCK_TOKEN:()=>Ho,ChangeColumnTypeRules:()=>De,ClientLogMessage:()=>Ni,ClientLogMessageType:()=>Pr,ClientLogService:()=>Xe,ClientUnitSchemaType:()=>tn,CollectionLoadType:()=>mn,ColumnOperandExpression:()=>Mn,ColumnOperandExpressionFactory:()=>Qa,ColumnOperandType:()=>q,CommonModule:()=>he,ConstOperandExpression:()=>$a,ConstantOperandDataTypeResolver:()=>xr,ConstantOperandExpressionFactory:()=>es,ContactColorService:()=>Bt,ContextService:()=>Bo,CopyClipboardRequest:()=>Sn,CopyClipboardRequestHandler:()=>Vr,CrtAutoUnsubscribe:()=>Uc,CrtColor:()=>Gn,CrtInjectionContext:()=>ha,CrtInjectionContextsService:()=>ze,CrtNoopNavigationLock:()=>hr,CrtTextOverflowTitleDirective:()=>pt,CrtTextOverflowTitleModule:()=>ht,CrtZoneProvider:()=>je,CrtZoneService:()=>Be,CrtZoneState:()=>or,CrtZoneType:()=>Hr,CultureInfo:()=>ur,CustomEventTranslateLoader:()=>Ot,CustomValidators:()=>ko,DATA_SERVICE_URI:()=>fn,DATA_SERVICE_URI_PROVIDER:()=>Mi,DATE_TIME_DATA_VALUE_TYPES:()=>ln,DATE_TIME_FORMATTER:()=>Ps,DATE_TIME_FORMAT_INFO:()=>Ds,DEFAULT_CULTURE_ID:()=>Kn,DEFAULT_CULTURE_NAME:()=>Zr,DEFAULT_DATA_SERVICE_URI:()=>ia,DEFAULT_FORMATTER:()=>Un,DEFAULT_ITEM_PROPERTY_VALUES:()=>$o,DEFAULT_THEME:()=>Yc,DEVKIT_MASK_SERVICE:()=>Go,DataSourceLoadingType:()=>hn,DataSourceType:()=>pn,DataValueTypeGroup:()=>X,DataValueTypeItems:()=>Je,DateTimeEmptyPlaceholderCreator:()=>ve,DateTimeFormatInfoConverter:()=>oc,DateTimeFormatPipe:()=>B,DateTimeFormatter:()=>Ve,DateTimeFormattingModule:()=>_t,DateTypes:()=>$n,DaysHandler:()=>Fe,DefaultZones:()=>At,DesignerDataValueTypeIconsProvider:()=>qt,EMPTY_PLACEHOLDER_CREATOR_FACTORY:()=>En,EMPTY_PLACEHOLDER_CREATOR_FACTORY_PROVIDER:()=>Ea,ENTITY_DATA_SOURCE_ATTRIBUTE_CONFIG_CREATOR_FACTORY:()=>pa,ENTITY_STRUCTURE_TOKEN:()=>Xo,ERROR_TRANSLATION_KEY_PATTERN:()=>fs,EmptyPlaceholderCreator:()=>Tn,EntityColumn:()=>Ii,EntityDataSourceAggregationAttributeConfigCreator:()=>le,EntityDataSourceAttributeConfigCreatorModule:()=>Ut,EntityDataSourceDefaultAttributeConfigCreator:()=>ue,EntityDataSourceFunctionAttributeConfigCreator:()=>de,EntityDataSourceTypeName:()=>wi,EntityDeserializer:()=>sr,EntitySchema:()=>zn,EntitySchemaColumn:()=>O,EntitySchemaColumnUsageType:()=>oe,EntitySchemaColumnUsageTypeItems:()=>Qs,EntitySchemaProvider:()=>$e,EntitySchemaRepository:()=>kt,EntitySchemaService:()=>ge,EntityStructureService:()=>Ss,EventService:()=>ir,ExecutionTrackingZone:()=>kn,Expression:()=>mr,ExpressionFactory:()=>ps,ExpressionFactoryMediator:()=>rt,ExpressionFactoryMediatorMock:()=>Ao,ExpressionFactoryMock:()=>bo,ExpressionFactoryModule:()=>Qt,ExpressionMock:()=>Mo,ExpressionType:()=>$,ExpressionVisitor:()=>Do,ExpressionVisitorMock:()=>wo,FEATURE_VALUES:()=>_n,FORMATTERS_REGISTRATION_MAP:()=>Hn,FeatureValues:()=>Di,FeedNotificationOperation:()=>Rr,FeedNotificationService:()=>$t,FileApiHttpParamEncoder:()=>Ir,FileApiService:()=>Mt,FileDownloaderService:()=>ye,FileReaderService:()=>Rt,Formatter:()=>Sr,FormatterFactory:()=>Et,FormattersModule:()=>ke,FunctionExpression:()=>Ba,FunctionExpressionFactory:()=>Ja,GENERATE_GUID_MACRO:()=>na,GET_TRANSLATIONS_EVENT_NAME:()=>qn,GenerateNameMacroProcessor:()=>rc,HEADER_FIXED_HEIGHT:()=>Wo,HTML_SANITIZATION_FORMATTER:()=>Vs,HintDirectiveConfig:()=>ac,HintOverlayDirective:()=>Er,HourHandler:()=>Re,HtmlFormattingModule:()=>It,HtmlSanitizationFormatter:()=>yt,ISOtoMomentDateTimeFormatInfoConverter:()=>gt,IS_ANGULAR_HOST:()=>Yo,IS_DESIGN_TIME:()=>Ln,ImageApiService:()=>wt,InitialsService:()=>Ht,LczToStringModule:()=>st,LczToStringPipe:()=>Q,LocalizableStringArray:()=>Y,LogicalOperation:()=>sn,MACROS_HANDLER:()=>Tr,MODAL_SIZE_CLASSES:()=>yn,MODULE_STRUCTURE_TOKEN:()=>Jo,MODULE_UTILS:()=>qo,MOMENT_DATE_TIME_FORMATTER:()=>jn,MacrosHandlerService:()=>be,MacrosHelperService:()=>We,MacrosModule:()=>ct,MainMenuService:()=>Pt,MeasurePerformanceService:()=>Kt,MemoryFormatPipe:()=>te,MemoryFormattingModule:()=>St,MemoryUnit:()=>rn,MessageChannelService:()=>ie,MessageChannelType:()=>Xr,MessageType:()=>Jr,MetadataSchemaUtils:()=>H,ModalSize:()=>pe,ModelMode:()=>gn,ModuleStructureService:()=>Is,MonthsHandler:()=>Pe,NAME_PATTERN:()=>ei,NAVIGATION_HANDLER_TOKEN:()=>vi,NOT_CONFIGURED_PERMISSIONS:()=>nl,NUMBER_FORMATTER:()=>Ls,NUMBER_PRECISIONS_MAP:()=>un,NUMERIC_DATA_VALUE_TYPES:()=>Dr,NavigationService:()=>Lt,NotConfiguredPermissionsModel:()=>Wn,NumberFormatAdjuster:()=>Tt,NumberFormatConfig:()=>Ra,NumberFormatInfo:()=>wa,NumberFormatPipe:()=>U,NumberFormatUtility:()=>Qe,NumberFormatter:()=>Le,NumberFormattingModule:()=>vt,NumericEmptyPlaceholderCreator:()=>Ae,ObjectPermissionsService:()=>cr,OperandExpression:()=>gr,OperandExpressionFactory:()=>ts,OperandType:()=>x,OperatorExpression:()=>kr,OperatorExpressionFactory:()=>cs,OperatorType:()=>j,OrderDirectionStrict:()=>qr,PAGE_PARAMETERS_DATA_SOURCE_NAME:()=>Oi,PAGE_PARAMETERS_DATA_SOURCE_TYPE_NAME:()=>Fi,PROCESS_SCHEMA_SAVED_CHANNEL_NAME:()=>xc,PROVIDE_THEMING_ICONS_RESOLVER_APP_INITIALIZER:()=>Xc,PackageLocalizableDataService:()=>Ft,ParenthesesOperatorExpression:()=>Ka,ParenthesesOperatorExpressionFactory:()=>ls,RELATED_PAGE_TYPE_NAME:()=>kc,REQUIRE_JS:()=>Cr,REQUIRE_JS_PATH_REGISTER_PROVIDER:()=>Si,ROOT_SCHEMA_DESCRIPTORS:()=>Qo,RTLUtils:()=>vn,RelationOperatorExpression:()=>Ya,RelationOperatorExpressionFactory:()=>us,RelationOperatorType:()=>J,RequireJsPathRegisterService:()=>Te,RequireJsProvider:()=>Se,RequireJsService:()=>Xt,ResourceFinderService:()=>ce,ResourceMacrosHandlerPipe:()=>Me,ResourceStringMacrosHandler:()=>gs,RestAccumulatingErrorHandler:()=>sl,RestErrorHandler:()=>Gs,RestHandler:()=>al,RootInjectorGuard:()=>zr,RootSchemaDescriptorsService:()=>vs,RuntimeUrlProvider:()=>Wt,SAVE_ENTITY_EVENT:()=>jc,SAVE_ENTITY_SCHEMA_MESSAGE_ID:()=>_s,SAVE_ENTITY_SCHEMA_MESSAGE_ID_PROVIDER:()=>Ko,SESSION_END_NOTIFIER_TOKEN:()=>fa,SSP_DATA_SERVICE_URI:()=>oa,SSP_URL_SEGMENT:()=>Pa,STRUCTURES_TOKEN:()=>ec,SafeUrlModule:()=>dt,SafeUrlPipe:()=>ut,SanitizeHtmlPipe:()=>W,SaveScrollPositionDirective:()=>ft,SaveScrollPositionModule:()=>mt,SaveScrollPositionService:()=>Ze,SchemaAccessService:()=>zt,SchemaChangeListenerService:()=>Ie,SchemaColumnOperandExpressionFactory:()=>rs,SchemaProcessingLifecycleHooks:()=>Qr,SchemaResourcesSuffix:()=>da,SchemaTypes:()=>Nt,ScrollToBottomObserver:()=>hs,ScrollToBottomObserverFactory:()=>er,SearchStrategy:()=>He,SmartDateTimeFormatPipe:()=>re,SspUrlPrefixInterceptor:()=>oo,StaticFileContentRequireJsPathRegisterService:()=>Ee,StopwatchDateTimeFormatPipe:()=>xe,StorageService:()=>jt,StringFormatPipe:()=>yr,StringFormatter:()=>ee,StructuresService:()=>As,StubRequireJsPathRegisterService:()=>_e,SubQueryOperandExpression:()=>wn,SubQueryOperandExpressionFactory:()=>ns,SysAdminUnit:()=>Po,SysAdminUnitType:()=>On,SysSettingOperandExpression:()=>Ga,SysSettingOperandExpressionFactory:()=>as,SysVariableOperandExpression:()=>Wa,SysVariableOperandExpressionFactory:()=>ss,THEME:()=>Us,THEMES:()=>Jc,TRANSLATE_SERVICE_URI:()=>ic,TargetMode:()=>Ar,TernaryOperatorExpression:()=>Xa,TernaryOperatorExpressionFactory:()=>ds,ThemeColor:()=>N,TimerDateTimeFormatPipe:()=>ne,ToEmptyPlaceholderModule:()=>lt,ToEmptyPlaceholderPipe:()=>G,TranslateUtilsService:()=>Ge,TreeNode:()=>tr,TypeResources:()=>br,USER_INFO_PROVIDER:()=>Xn,USE_PERFORMANCE_OPTIMIZATION:()=>Zo,USE_SAVE_SCROLL_POSITION_SERVICE:()=>zo,UnaryOperatorExpression:()=>za,UrlBuilderHttpInterceptor:()=>et,UserConnectionType:()=>cn,UserInfo:()=>w,UserInfoInitializerModule:()=>bt,UserInfoService:()=>se,UserSessionMonitorService:()=>Yt,VALIDATORS:()=>Vn,ValidationErrorMock:()=>Lo,ValidationErrorTranslateService:()=>Ce,ValidationErrorTranslateServiceMock:()=>No,ValidationResult:()=>rr,Validator:()=>at,ValidatorMock:()=>xo,ValidatorTranslateDecorator:()=>nr,ValueFormatPipe:()=>Ne,VerticalResizingMixin:()=>sc,ViewModelAttributeChangeEventOptions:()=>bi,WEB_SOCKET_HEARTBEAT_INITIAL_DELAY:()=>ta,WEB_SOCKET_HEARTBEAT_INTERVAL:()=>Kr,WEB_SOCKET_HEARTBEAT_REQUEST_MESSAGE:()=>ra,WEB_SOCKET_HEARTBEAT_RESPONSE_MESSAGE:()=>vr,WEB_SOCKET_HEARTBEAT_TIMEOUT_DELAY:()=>Yr,WEB_SOCKET_RECONNECTION_DELAY:()=>ea,WINDOW_PAYLOAD_VALUES:()=>Nn,WINDOW_PAYLOAD_VALUES_PROVIDER:()=>ol,WebComponentHttpInterceptor:()=>tt,WebSocketMsgChannel:()=>Ue,WeekHandler:()=>we,WindowPayloadService:()=>lr,WorkplaceService:()=>Gt,YearsHandler:()=>Oe,addSppUrlSegment:()=>Va,areLocalizableStringsEqual:()=>io,buildFolderTreeAttributeNames:()=>Pc,capitalizeFirstLetter:()=>lo,castPageConfigsToLookups:()=>xi,chunkText:()=>Hi,compareObjectsStructure:()=>Fa,compareWorkspaceBaseUrls:()=>yi,convertArithmeticOperatorTypeToString:()=>ka,convertRelationOperatorTypeToString:()=>ja,createFileErrorLogItem:()=>Xs,createSearchLowerCasePredicate:()=>fo,ctrlSPressed:()=>Eo,ctrlShiftZPressed:()=>_o,ctrlZPressed:()=>So,dataSourceEntityNameMacrosHandler:()=>Ts,detectCircularDependencies:()=>Zc,endOfDay:()=>Xi,escapePressed:()=>To,esqServiceUrl:()=>sa,expressionVisitResultMock:()=>Ro,findCollectionRecursive:()=>Ms,findItemRecursive:()=>bs,format:()=>Na,generatePropertiesAttributeName:()=>Ai,getAbsoluteAppPath:()=>mi,getAggregationSubQueryColumnDefinitionId:()=>Ua,getAppBaseUrl:()=>dn,getAppPath:()=>la,getAppUrl:()=>pr,getArithmeticOperatorTypeFromString:()=>vo,getBaseAppLocation:()=>fi,getBusinessRuleCaption:()=>Wc,getBusinessRuleFilterAttributeName:()=>Kc,getColorByTheme:()=>Lc,getColumnDefinitionId:()=>bn,getCookie:()=>va,getDataValueTypeByName:()=>Ki,getDataValueTypeGroup:()=>Wi,getDataValueTypeIcon:()=>zi,getEntityUrl:()=>gi,getEsqServiceLocation:()=>Ei,getFullViewElementCaption:()=>go,getImageFullUrlById:()=>ro,getImageServiceUrlById:()=>no,getImageUrlById:()=>Ti,getInterfaceDesignerUrl:()=>_i,getItemsAttributeName:()=>zc,getLocalizableStringValue:()=>Vo,getNumberDataValueTypeValidatorParams:()=>Gi,getPropertyByPath:()=>Oa,getServicePrefixByUserType:()=>Io,getSubQueryColumnDefinitionId:()=>Rn,getTextDataValueTypeValidatorParams:()=>$i,getUserCultureTimeFormat:()=>qi,getViewElementContentSlots:()=>fr,getWorkspaceBaseUrl:()=>K,hasObjectStructure:()=>Cn,hashCode:()=>xa,imageServiceUrl:()=>aa,isAllowedTypeSearchColumn:()=>el,isLookupDataValueType:()=>Zi,isNumberTypeSearchColumn:()=>tl,isString:()=>La,isValidSortDirection:()=>Gc,joinPath:()=>ua,joinSubscriptions:()=>po,macrosTemplateHandler:()=>Es,nameof:()=>yo,navigationLockFactory:()=>cc,parseDate:()=>An,parseJsonObject:()=>Ma,parseJsonObjects:()=>ao,parseJsonValue:()=>ba,postJson:()=>to,removeSpecialSymbols:()=>eo,resourceStringMacrosHandlerFactory:()=>ys,separateFilesBySize:()=>Ys,setTimeZoneOffset:()=>Ji,simpleCommand:()=>Ci,startOfDay:()=>Yi,stripFileName:()=>Qi,toExtFilters:()=>uc,toOrderDirection:()=>Hc,unCapitalizeFirstLetter:()=>uo,updateArrayUniqueElements:()=>mo});var I=p(74742),i=p(75378),A=p(77207),m=p(33177),T=p(2876),s=p(94450),d=p(27049);class C{static create(e){const t=new C;return Object.assign(t,e),t}get isDebugEnabled(){return Boolean(window.Terrasoft?.isDebug)}}C.\u0275fac=function(e){return new(e||C)},C.\u0275prov=s.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"});let z=C.create({serviceUrl:"",clientConnectionClassName:""});const _={provide:C,useFactory:()=>z};let E=class{constructor(e){this._httpClient=e,this._serviceEndpoint="ServiceModel/ApplicationInfoService.svc/"}_initApplicationInfo(){const e=this._serviceEndpoint+"GetApplicationInfo";this._applicationInfoObservable$=this._httpClient.post(e,null).pipe((0,d.map)(t=>{const n=t&&t.applicationInfo;return z=C.create(n),t}),(0,d.shareReplay)(1)),this._applicationInfoObservable$.subscribe()}loadApplicationInfo(){return this._applicationInfoObservable$||this._initApplicationInfo(),this._applicationInfoObservable$}loadSysValues(){return this.loadApplicationInfo().pipe((0,d.map)(e=>e?.applicationInfo?.sysValues))}};E.\u0275fac=function(e){return new(e||E)(s.\u0275\u0275inject(T.HttpClient))},E.\u0275prov=s.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"}),E=(0,I.__decorate)([(0,m.CrtHandlerChainAdapter)({requestType:"crt.SysValuesService"}),(0,I.__metadata)("design:paramtypes",[T.HttpClient])],E);class O{get isLookupType(){return this.dataValueType?this.dataValueType===i.DataValueType.Lookup:!1}constructor(e){e&&(this.uId=e.uId,this.name=e.name,this.caption=e.caption,this.columnCaptionPath=e.columnCaptionPath,this.dataValueType=e.dataValueType,this.usageType=e.usageType,this.referenceSchemaUId=e.referenceSchemaUId,this.referenceSchemaName=e.referenceSchemaName,this.isRequired=e.isRequired,this.isValueCloneable=e.isValueCloneable,this.isMasked=e.isMasked,this.isFormatValidated=e.isFormatValidated,this.isSensitiveData=e.isSensitiveData,this.defaultValueSchema=e.defaultValueSchema,this.lookupMode=e.lookupMode)}}class me{constructor(e){e&&(this.uId=e.uId,this.name=e.name,this.caption=e.caption,this.extendParent=e.extendParent,this.packageUId=e.packageUId)}}class zn extends me{getPrimaryColumn(){return this.columns?.find(e=>e.uId===this.primaryColumnUId)}getPrimaryDisplayColumn(){return this.columns?.find(e=>e.uId===this.primaryDisplayColumnUId)}getPrimaryColorColumn(){return this.columns?.find(e=>e.uId===this.primaryColorColumnUId)}getHierarchyColumn(){return this.hierarchyColumnUId&&this.columns?.find(e=>e.uId===this.hierarchyColumnUId)}}var $r=p(96578),u=p(21322),P=p(8239);class Ws{static map(e,t){const n={};return Object.entries(e.columns).forEach(([,o])=>{const c=o;n[c.uId]={uId:c.uId,name:c.name,caption:{[t]:c.caption},dataValueType:c.dataValueType,isInherited:!!c.isInherited,isRequired:!!c.isRequired,isValueCloneable:!!c.isValueCloneable,usageType:c.usageType,referenceSchemaName:c.referenceSchemaName}}),{administratedByOperations:e.administratedByOperations,administratedByRecords:e.administratedByRecords,useMasterRecordRights:e.useMasterRecordRights,masterRecordSchemaName:e.masterRecordSchemaName,primaryColumnUId:e.primaryColumn?.uId,primaryDisplayColumnUId:e.primaryDisplayColumn?.uId,uId:e.uId,name:e.name,caption:{[t]:e.caption},columns:{Items:n}}}}class Gr{static getPathItemInfo(e){const n=/\[([\w-]+):([\w-]+):?([\w-]*)]$/g.exec(e);if(n){const a=n[1],o=n[2],c=n[3];return{isBackReference:!0,referenceSchemaName:a,referenceSchemaColumnName:o,columnName:c}}return{isBackReference:!1,columnName:e}}}class Zs extends Error{}let Wr=class{constructor(e){this._window=e}map(e){return Promise.resolve(e)}get(e){var t=this;return new Promise((n,a)=>{this._window.require([e],function(){var o=(0,P.Z)(function*(c){const l=yield t.map(c);n(l)});return function(c){return o.apply(this,arguments)}}(),()=>{a(new Zs)})})}getItems(e){var t=this;return new Promise(n=>{this._window.require(e,(0,P.Z)(function*(...a){const o=yield Promise.all(a.map(c=>t.map(c)));n({schemes:o,notFoundSchemes:[]})}))})}};Wr=(0,I.__decorate)([(0,I.__param)(0,(0,s.Inject)(m.WINDOW_TOKEN)),(0,I.__metadata)("design:paramtypes",[Object])],Wr);const Kn="A5420246-0A8E-E111-84A3-00155D054C03",Zr="en-US";class ur{constructor(e){Object.assign(this,e)}static getDefaultCulture(){return new ur({sysCultureId:Kn,sysCultureName:Zr,decimalSeparator:".",thousandSeparator:","})}}class zr{constructor(){const e=this.constructor;if((0,s.inject)(e,s.InjectFlags.Optional|s.InjectFlags.SkipSelf))throw Error(`[${e.name}]: trying to create multiple instances,
			but this service should be a singleton.`)}}class w{constructor(){this.cultureInfo=new ur,this.defCultureInfo=new ur}}const V="Information about the current user is not initialized yet. Use UserInfoService to load current user information.";function zs(){return{get id(){throw new ReferenceError(V)},get contactId(){throw new ReferenceError(V)},get contactName(){throw new ReferenceError(V)},get accountId(){throw new ReferenceError(V)},get accountName(){throw new ReferenceError(V)},get isSSP(){throw new ReferenceError(V)},get timeZoneId(){throw new ReferenceError(V)},get cultureInfo(){throw new ReferenceError(V)},get defCultureInfo(){throw new ReferenceError(V)},get timeZoneOffsetHours(){throw new ReferenceError(V)},get photoId(){throw new ReferenceError(V)},get accessType(){throw new ReferenceError(V)},get firstDayOfWeek(){throw new ReferenceError(V)},get sessionId(){throw new ReferenceError(V)}}}const D=zs(),Yn={get id(){return D.id},get contactId(){return D.contactId},get contactName(){return D.contactName},get accountId(){return D.accountId},get accountName(){return D.accountName},get isSSP(){return D.isSSP},get timeZoneId(){return D.timeZoneId},get cultureInfo(){return D.cultureInfo},get defCultureInfo(){return D.defCultureInfo},get timeZoneOffsetHours(){return D.timeZoneOffsetHours},get photoId(){return D.photoId},get accessType(){return D.accessType},get firstDayOfWeek(){return D.firstDayOfWeek||0},get sessionId(){return D.sessionId}};Object.freeze(Yn);const Xn={provide:w,useFactory:()=>Yn};class se extends zr{constructor(e){super(),this._httpClient=e,this._serviceEndpoint="ServiceModel/UserInfoService.svc"}_applyUserInfo(e){Object.keys(D).forEach(t=>{delete D[t]}),Object.assign(D,e)}loadCurrentUserInfo(){if(!this._userInfo$){const e=`${this._serviceEndpoint}/GetCurrentUserInfo`;this._userInfo$=this._httpClient.post(e,null).pipe((0,u.tap)(t=>{this._applyUserInfo(t?.userInfo)}),(0,u.shareReplay)({bufferSize:1,refCount:!1}))}return this._userInfo$}}se.\u0275fac=function(e){return new(e||se)(s.\u0275\u0275inject(T.HttpClient))},se.\u0275prov=s.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac,providedIn:"root"});class Dt extends Wr{constructor(e,t){super(e),this._userInfo=t}map(e){return Promise.resolve(Ws.map(e,this._userInfo.cultureInfo.sysCultureName))}_getLookupEntities(e){const t=e.flatMap(a=>Object.values(a.columns.Items).filter(o=>o.dataValueType===i.DataValueType.Lookup&&o.referenceSchemaName&&!e.find(c=>c.name===o.referenceSchemaName)).map(o=>o.referenceSchemaName)),n=[...new Set(t)];return this.getItems(n)}_getReferenceEntityNameFromBackReferencePath(e){return Gr.getPathItemInfo(e).referenceSchemaName}_getReferenceSchemaName(e,t){const n=this._getReferenceEntityNameFromBackReferencePath(e);let a;if(n)a=n;else{const[,o]=Object.entries(t.columns.Items).find(([,c])=>c.name===e);a=o.referenceSchemaName}return a}_loadSchemasByPath(e,t,n){var a=this;return(0,P.Z)(function*(){const o=n.find(R=>R.name===e),c=[...t],l=c.shift(),h=a._getReferenceSchemaName(l,o);if(!h)return{schemas:[],notFoundSchemas:[]};let y=n.find(R=>R.name===h);if(!y)try{y=yield a.get(h),n.push(y)}catch{return{schemas:[],notFoundSchemas:[h]}}const S=c.length?yield a._loadSchemasByPath(y.name,c,n):{schemas:[],notFoundSchemas:[]};return{schemas:[y,...S.schemas],notFoundSchemas:S.notFoundSchemas}})()}_getForwardReferenceSchemas(e,t){var n=this;return(0,P.Z)(function*(){const a=yield Promise.all(e.filter(o=>o.forwardReferencePaths).flatMap(o=>o.forwardReferencePaths.flatMap(c=>n._loadSchemasByPath(o.name,c.split("."),t))));return{schemes:a.flatMap(o=>o.schemas),notFoundSchemes:a.flatMap(o=>o.notFoundSchemas)}})()}_getEntitiesToLoadLookups(e,t){return t.schemes.filter(n=>e.requests.find(a=>a.loadLookupColumns===!0&&a.name===n.name))}getEntity(e){var t=this;return(0,P.Z)(function*(){const n=yield t.get(e);return{success:!0,schema:n}})()}getEntities(e){var t=this;return(0,P.Z)(function*(){const n=e.requests.map(h=>h.name),a=yield t.getItems(n),o=t._getEntitiesToLoadLookups(e,a),c=yield t._getLookupEntities(o),l=yield t._getForwardReferenceSchemas(e.requests,[...a.schemes,...c.schemes]);return{success:!0,schemes:[...a.schemes,...c.schemes,...l.schemes],notFoundSchemes:[...a.notFoundSchemes,...c.notFoundSchemes,...l.notFoundSchemes]}})()}}Dt.\u0275fac=function(e){return new(e||Dt)(s.\u0275\u0275inject(m.WINDOW_TOKEN),s.\u0275\u0275inject(w))},Dt.\u0275prov=s.\u0275\u0275defineInjectable({token:Dt,factory:Dt.\u0275fac,providedIn:"root"});function Ks(r){return()=>(0,u.lastValueFrom)(r.loadCurrentUserInfo(),{defaultValue:null})}class bt{}bt.\u0275fac=function(e){return new(e||bt)},bt.\u0275mod=s.\u0275\u0275defineNgModule({type:bt}),bt.\u0275inj=s.\u0275\u0275defineInjector({providers:[Xn,{provide:s.APP_INITIALIZER,useFactory:Ks,deps:[se],multi:!0}]});class ge{constructor(e,t,n,a){this.httpClient=e,this._userInfo=t,this._entityRequire=n,this._features=a,this._getEntitySchemaByNameRequests=new Map,this._getEntitySchemesRequests=new Map,this._getEntitySchemaByUIdRequests=new Map,this._destroyed$=new u.Subject}_convertToEntitySchema(e){const t=new zn;return t.uId=e.uId,t.name=e.name,t.caption=this._getCaptionElement(e),t.extendParent=e.extendParent,t.packageUId=e.packageUId,t.administratedByColumns=e.administratedByColumns,t.administratedByOperations=e.administratedByOperations,t.administratedByRecords=e.administratedByRecords,t.description=e.description,t.isDBView=e.isDBView,t.isTrackChangesInDB=e.isTrackChangesInDB,t.showInAdvancedMode=e.showInAdvancedMode,t.isVirtual=e.isVirtual,t.masterRecordSchemaName=e.masterRecordSchemaName,t.primaryColumnUId=e.primaryColumnUId,t.primaryDisplayColumnUId=e.primaryDisplayColumnUId,t.primaryColorColumnUId=e.primaryColorColumnUId,t.hierarchyColumnUId=e.hierarchyColumnUId,t.realUId=e.realUId,t.useMasterRecordRights=e.useMasterRecordRights,t.parentUId=e.parentUId,t.aclGranted=e.aclGranted,t.columns=Object.values(e.columns.Items).map(n=>{const a=new O;return a.uId=n.uId,a.name=n.name,a.caption=this._getCaptionElement(n),a.dataValueType=n.dataValueType,a.usageType=n.usageType,a.referenceSchemaUId=n.referenceSchemaUId,a.referenceSchemaName=n.referenceSchemaName,a.isRequired=n.isRequired,a.isValueCloneable=n.isValueCloneable,a.isMasked=n.isMasked,a.isFormatValidated=n.isFormatValidated,a.isSensitiveData=n.isSensitiveData,a.defaultValueSchema=n.defValue,a.lookupMode=n.isSimpleLookup?$r.LookupMode.List:$r.LookupMode.SelectionWindow,a}),t}_getCaptionElement(e){return e.caption[this._userInfo.cultureInfo.sysCultureName]||e.caption[Zr]}_createEntitySchemaColumnFromInformationObject(e){const t=new O;return t.uId=e.columnUId,t.name=e.columnName,t.caption=e.columnCaption,t.dataValueType=e.columnDataValueType,t.usageType=e.columnUsageType,t.referenceSchemaUId=e.referenceSchemaUId,t.referenceSchemaName=e.referenceSchemaName,t.columnCaptionPath=e.columnCaptionPath,t}_getServiceUrlSspPart(){return this._userInfo.isSSP?"ssp/":""}_getDataServiceUrlWithSspPart(){return`DataService/${this._getServiceUrlSspPart()}`}_getSchemaDesignerServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/SchemaDesignerRequest"}_getRuntimeEntitySchemaServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/RuntimeEntitySchemaRequest"}_getRuntimeEntitySchemeServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/RuntimeEntitySchemesRequest"}_getEntitySchemaServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/EntitySchemaRequest"}_getEntitySchemaFromEndpoint(e,t){return this.httpClient.post(e,t).pipe((0,d.mergeMap)(n=>n.schema?(0,u.of)({success:!0,entitySchema:this._convertToEntitySchema(n.schema)}):(0,u.throwError)({success:!1,entitySchema:null,errorInfo:n.errorInfo})))}_getEntitySchemaColumnByPath(e,t,n="."){return this.httpClient.post(this._getSchemaDesignerServiceEndpoint(),{getSchemaColumnInformation:{entitySchemaUId:e,schemaColumnPath:t,schemaColumnCaptionPathDelimiter:n}}).pipe((0,d.tap)(({success:a})=>{if(!a)throw new Error("SchemaDesignerService request has failed")}),(0,d.map)(({getSchemaColumnInformationResponse:a})=>this._createEntitySchemaColumnFromInformationObject(a)))}_combineEntitySchemaColumnInformationRequestsWithPaths(e,t){return t.reduce((n,a)=>({...n,[a]:this._getEntitySchemaColumnByPath(e,a)}),{})}_useRequire(){return this._features?(0,u.from)(this._features.getFeatureState("UseRequireEntitySchema8x")):(0,u.of)(!1)}_getSchemesLoader(e){return this._useRequire().pipe((0,d.switchMap)(t=>t?this._entityRequire.getEntities(e):this.httpClient.post(this._getRuntimeEntitySchemeServiceEndpoint(),e)))}_getSchemaLoader(e){return this._useRequire().pipe((0,d.switchMap)(t=>t?this._entityRequire.getEntity(e):this.httpClient.post(this._getRuntimeEntitySchemaServiceEndpoint(),{name:e})))}getEntitySchemaByUId(e,t){const n=`${e}_${t}`;if(this._getEntitySchemaByUIdRequests.has(n))return this._getEntitySchemaByUIdRequests.get(n);const a=t?this._getEntitySchemaServiceEndpoint():this._getRuntimeEntitySchemaServiceEndpoint(),o={uId:e};t&&(o.packageUId=t);const c=this._getEntitySchemaFromEndpoint(a,o).pipe((0,d.tap)(()=>this._getEntitySchemaByUIdRequests.delete(n)),(0,d.share)());return this._getEntitySchemaByUIdRequests.set(n,c),c}getEntitySchemaByName(e){if(this._getEntitySchemaByNameRequests.has(e))return this._getEntitySchemaByNameRequests.get(e);const t=this._getSchemaLoader(e).pipe((0,d.map)(n=>({success:n.success,entitySchema:n.schema?this._convertToEntitySchema(n.schema):null,errorInfo:n.errorInfo})),(0,d.tap)(()=>this._getEntitySchemaByNameRequests.delete(e)),(0,d.share)(),(0,d.catchError)(n=>(this._getEntitySchemaByNameRequests.delete(e),(0,u.throwError)(()=>n))));return this._getEntitySchemaByNameRequests.set(e,t),t}getEntitySchemes(e){const t=JSON.stringify(e);if(this._getEntitySchemesRequests.has(t))return this._getEntitySchemesRequests.get(t);const n=this._getSchemesLoader(e).pipe((0,d.map)(a=>({success:a.success,schemes:a.schemes.map(o=>this._convertToEntitySchema(o)),notFoundSchemes:a.notFoundSchemes})),(0,d.tap)(()=>this._getEntitySchemesRequests.delete(t)),(0,d.share)(),(0,d.catchError)(a=>(0,u.throwError)(()=>a)));return this._getEntitySchemesRequests.set(t,n),n}getEntitySchemaColumnsInformationByMetaPath(e,t){const n={getSchemaColumnsInformation:{entitySchemaUId:e,schemaColumnMetaPaths:t}};return this.httpClient.post(this._getSchemaDesignerServiceEndpoint(),n).pipe((0,d.tap)(({success:a})=>{if(!a)throw new Error("SchemaDesignerService request is failed")}),(0,d.map)(({getSchemaColumnsInformationResponse:a})=>a.map(o=>({column:this._createEntitySchemaColumnFromInformationObject(o),columnMetaPath:o.columnMetaPath,columnPath:o.columnPath,columnCaptionPath:o.columnCaptionPath}))))}getEntitySchemaColumnsInformationByPath(e,t,n){return this._getEntitySchemaColumnByPath(e,t,n)}getEntitySchemaColumnsInformationByPathsArray(e,t){return(0,u.forkJoin)(this._combineEntitySchemaColumnInformationRequestsWithPaths(e,t))}getColumnCaptionPathByMetaPath(e){const t={getColumnCaptionPathByMetaPath:e};return this.httpClient.post(this._getSchemaDesignerServiceEndpoint(),t).pipe((0,d.tap)(({success:n})=>{if(!n)throw new Error("SchemaDesignerService request is failed")}),(0,d.map)(({columnCaptionPath:n})=>n))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}ge.\u0275fac=function(e){return new(e||ge)(s.\u0275\u0275inject(T.HttpClient),s.\u0275\u0275inject(w),s.\u0275\u0275inject(Dt),s.\u0275\u0275inject(i.FeatureService,8))},ge.\u0275prov=s.\u0275\u0275defineInjectable({token:ge,factory:ge.\u0275fac});var b=p(31134);class ye{constructor(e){this._document=e}_getDownloadFileUrl(e){const t=new Blob([e],{type:"octet/stream"});return window.URL.createObjectURL(t)}_getDownloadFileName(e){const t=e.headers.get("Content-Disposition");return t?t.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/)[1]:null}download(e,t){const n=this._getDownloadFileUrl(e);this.downloadFromUrl(n,t)}downloadFromResponse(e,t){t=t||this._getDownloadFileName(e),this.download(e.body,t)}downloadFromUrl(e,t){const n=this._document,a=n.createElement("a");a.href=e,a.download=t,n.body.appendChild(a),a.click(),n.body.removeChild(a)}}ye.\u0275fac=function(e){return new(e||ye)(s.\u0275\u0275inject(b.DOCUMENT))},ye.\u0275prov=s.\u0275\u0275defineInjectable({token:ye,factory:ye.\u0275fac});class Ir{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}class Mt{constructor(e,t,n){this.http=e,this._fileDownloadService=t,this._userInfo=n,this._baseEndpoint="rest/FileApiService/",this._uploadFileMethodName="UploadFile",this._uploadAndAttachMethodName="UploadAndAttachFile",this._getFileSchemasMethodName="GetAllFileSchemas",this._chunkSize=5e5}_getEndpoint(e){return(this._userInfo.isSSP?"ssp/":"")+`${this._baseEndpoint}${e}`}_prepareError(e,t){const n={...e,file:t.file};return(0,u.throwError)(()=>n)}_sendWithChunks(e,t,n){const a=new Uint8Array(e.content),o=new Array;for(let l=0;l<a.length;l+=this._chunkSize){const h=Math.min(l+this._chunkSize,a.length),y=new Blob([a.subarray(l,h)]),S={start:l,end:h,content:y};o.push(S)}let c=0;return(0,u.from)(o).pipe((0,d.concatMap)(l=>(c++,e.progress=Math.floor(c/o.length*100),this.http.post(n,l.content,{headers:new T.HttpHeaders({"Content-Range":`bytes ${l.start}-${l.end-1}/${e.file.size}`,"Content-Type":e.file.type,"Content-Disposition":`attachment; filename=${encodeURIComponent(e.file.name)}`}),params:t}).pipe((0,d.retry)(2),(0,d.switchMap)(h=>!h||!h.success?(0,u.throwError)(()=>h.errorInfo):(0,u.of)(h)),(0,d.catchError)(h=>this._prepareError(h,e))))),(0,d.toArray)())}upload(e){let t=new T.HttpParams({encoder:new Ir}).set("fileId",e.id).set("totalFileLength",e.file.size).set("mimeType",e.file.type).set("fileName",e.file.name).set("columnName","Data").set("entitySchemaName",e.fileEntitySchemaName).set("parentColumnName",e.recordColumnName).set("parentColumnValue",e.recordId);const n={...e.fileGroup&&{FileGroupId:e.fileGroup},...e.tag&&{Tag:e.tag},...e.recordEntitySchemaName&&{RecordSchemaName:e.recordEntitySchemaName}};Object.keys(n).length&&(t=t.append("AdditionalParams",JSON.stringify(n)));const a=this._getEndpoint(this._uploadFileMethodName);return this._sendWithChunks(e,t,a)}uploadAsColumn(e){const t=new T.HttpParams({encoder:new Ir}).set("fileId",e.id).set("totalFileLength",e.file.size).set("mimeType",e.file.type).set("columnName","Data").set("fileName",e.file.name).set("entitySchemaName",e.fileEntitySchemaName),n=this._getEndpoint(this._uploadFileMethodName);return this._sendWithChunks(e,t,n)}uploadAndAttach(e){const t=new T.HttpParams({encoder:new Ir}).set("fileId",e.id).set("totalFileLength",e.file.size).set("mimeType",e.file.type).set("columnName","Data").set("fileName",e.file.name).set("parentEntitySchemaName",e.recordEntitySchemaName).set("entitySchemaName",e.fileEntitySchemaName).set("parentColumnValue",e.recordId),n=this._getEndpoint(this._uploadAndAttachMethodName);return this._sendWithChunks(e,t,n)}download(e,t){this._fileDownloadService.downloadFromUrl(e,t)}getAllFileSchemas(){const e=this._getEndpoint(this._getFileSchemasMethodName);return this.http.get(e)}}Mt.\u0275fac=function(e){return new(e||Mt)(s.\u0275\u0275inject(T.HttpClient),s.\u0275\u0275inject(ye),s.\u0275\u0275inject(w))},Mt.\u0275prov=s.\u0275\u0275defineInjectable({token:Mt,factory:Mt.\u0275fac});class Rt{read(e){return new u.Observable(t=>{const n=new FileReader;n.onloadend=function(){var a=(0,P.Z)(function*(o){t.next({content:o.target?.result,file:e}),t.complete()});return function(o){return a.apply(this,arguments)}}(),n.readAsArrayBuffer(e)})}}Rt.\u0275fac=function(e){return new(e||Rt)},Rt.\u0275prov=s.\u0275\u0275defineInjectable({token:Rt,factory:Rt.\u0275fac});const Jn=1048576;function Ys(r,e,t){const n=t?Math.min(e,t):e,a=n*Jn,o=r.filter(l=>l.size<=a),c=r.filter(l=>l.size>a);return{allowed:o,oversized:c,maxFileSizeMB:n}}function Xs(r,e,t){return{file:r,error:e,message:t}}class wt{constructor(e,t){this._httpClient=e,this._translateService=t}_generateFileDestinationUrl(e,t){return`ImageAPIService/upload?fileapi${t.lastModified}&totalFileLength=${t.size}&fileId=${e}&mimeType=${encodeURIComponent(t.type)}`}upload(e,t){const n=this._generateFileDestinationUrl(e,t);return this._httpClient.post(n,t,{headers:{"Content-Range":`bytes 0-${t.size}/${t.size}`,"Content-Type":t.type,"Content-Disposition":`attachment; filename=${encodeURIComponent(t.name)}`}}).pipe((0,d.catchError)(a=>(0,u.of)({error:a.error?.error||this._translateService.instant("InfoDialog.FileUpload.UnknownServerError")})))}}wt.\u0275fac=function(e){return new(e||wt)(s.\u0275\u0275inject(T.HttpClient),s.\u0275\u0275inject(A.TranslateService))},wt.\u0275prov=s.\u0275\u0275defineInjectable({token:wt,factory:wt.\u0275fac,providedIn:"root"});class Ft{constructor(e,t){this._translateService=e,this._userInfo=t,this._defaultCulture="en-US"}initialize(){const e=this._userInfo?.cultureInfo?.sysCultureName??this._defaultCulture;this._translateService.setDefaultLang(this._defaultCulture),this._translateService.currentLang=e,this._translateService.getTranslation(e)}}Ft.\u0275fac=function(e){return new(e||Ft)(s.\u0275\u0275inject(A.TranslateService),s.\u0275\u0275inject(w))},Ft.\u0275prov=s.\u0275\u0275defineInjectable({token:Ft,factory:Ft.\u0275fac,providedIn:"root"});var v=p(97600);const qn=new s.InjectionToken("Custom event name for get translations");class Ot extends A.TranslateLoader{constructor(e,t,n){super(),this.customEventService=e,this._store=t,this._getTranslationsEventName=n,this._destroyed$=new u.Subject}getTranslation(e){return new u.Observable(t=>{this.customEventService.subscribe(this._getTranslationsEventName).pipe((0,d.takeUntil)(this._destroyed$),(0,d.tap)(n=>{this._store.langs.forEach(a=>{const o=this._store.translations[a];this._store.translations[a]=v.merge(o,n)})})).subscribe(n=>{t.next(n)},u.noop,()=>{t.complete()}),this.customEventService.createOutboundChannel(this._getTranslationsEventName).next()})}ngOnDestroy(){this._destroyed$.next()}}Ot.\u0275fac=function(e){return new(e||Ot)(s.\u0275\u0275inject(m.CustomEventService),s.\u0275\u0275inject(A.TranslateStore),s.\u0275\u0275inject(qn))},Ot.\u0275prov=s.\u0275\u0275defineInjectable({token:Ot,factory:Ot.\u0275fac});class Pt{constructor(e){this._httpClient=e,this._serviceEndpoint="rest/MainMenuService/"}logout(){const e=this._serviceEndpoint+"Logout";return this._httpClient.post(e,{}).pipe((0,d.map)(t=>({redirectLocation:t.RedirectLocation})))}}Pt.\u0275fac=function(e){return new(e||Pt)(s.\u0275\u0275inject(T.HttpClient))},Pt.\u0275prov=s.\u0275\u0275defineInjectable({token:Pt,factory:Pt.\u0275fac,providedIn:"root"});var Js=p(54134),Qn=p(52113);class Vt{constructor(e){this._zone=e,this._message$=new u.Subject}init(e){return this._zone.runOutsideAngular(()=>(this._connection=new Qn.HubConnectionBuilder().withUrl(e).withAutomaticReconnect().withHubProtocol(new Qn.JsonHubProtocol).build(),this._connection.on("ServerMessage",t=>this._zone.run(()=>this._message$.next(t))),(0,u.from)(this._connection.start())))}sendMessage(e){return(0,u.from)(this._connection.send("SendMessage",e))}subscribe(){return this._message$}ngOnDestroy(){this._connection.off("ServerMessage"),this._message$.complete(),this._connection.stop().then()}}Vt.\u0275fac=function(e){return new(e||Vt)(s.\u0275\u0275inject(s.NgZone))},Vt.\u0275prov=s.\u0275\u0275defineInjectable({token:Vt,factory:Vt.\u0275fac,providedIn:"root"});var qs=p(34693);const ea=2e3,ta=1e3,Kr=3e4,Yr=1e4,ra="ping",vr="pong";class Ue{constructor(e){this._ngZone=e}_createHeartbeatRequestMessage(){return{Id:(0,i.generateGuid)(),Header:{Sender:"ConsoleCommand",BodyTypeName:"System.String"},Body:ra}}_isHeartbeatResponseMessage(e){const t=e.Header?.Sender==="CommandService",n=e.Body===vr;return t&&n}_startHeartbeat(){this._stopHeartbeat(),this._ngZone.runOutsideAngular(()=>{console.log(`WS-Heartbeat: connection ping scheduled for every [${Kr/1e3}] sec`);const e=(0,u.timer)(ta,Kr).pipe((0,u.tap)(()=>{this._webSocket$.next(this._createHeartbeatRequestMessage())}),(0,u.concatMap)(()=>(0,u.race)(this._webSocket$.pipe((0,u.filter)(t=>this._isHeartbeatResponseMessage(t)),(0,u.map)(t=>t.Body),(0,u.catchError)(()=>(0,u.of)("error"))),(0,u.of)("timeout").pipe((0,u.delay)(Yr)))));this._heartbeatSubscription=e.subscribe(t=>{switch(t){case vr:console.log(`WS-Heartbeat: Server responded with: ${vr}`);break;case"timeout":console.error(`WS-Heartbeat: Server failed to respond in ${Yr/1e3} seconds`);break;case"error":console.error("WS-Heartbeat: Server errored out");break}})})}_stopHeartbeat(){this._heartbeatSubscription&&this._heartbeatSubscription.unsubscribe()}init(e){return new u.Observable(t=>{this._webSocket$=(0,qs.webSocket)({url:e,openObserver:{next:()=>{console.log(`Websocket channel opened for url: ${e}`),this._startHeartbeat(),t.complete()}}}),this._subscription=this._webSocket$.subscribe()})}sendMessage(e){return new u.Observable(t=>{this._webSocket$.next(e),t.next(),t.complete()})}subscribe(){const e={delay:ea};return this._webSocket$.pipe((0,u.retry)(e),(0,u.filter)(t=>!this._isHeartbeatResponseMessage(t)))}ngOnDestroy(){this._stopHeartbeat(),this._webSocket$.complete(),this._subscription.unsubscribe()}}Ue.\u0275fac=function(e){return new(e||Ue)(s.\u0275\u0275inject(s.NgZone))},Ue.\u0275prov=s.\u0275\u0275defineInjectable({token:Ue,factory:Ue.\u0275fac,providedIn:"root"});var Xr;(function(r){r.PTP="PTPMsg",r.BROADCAST="BroadcastMsg"})(Xr||(Xr={}));class ie{constructor(e,t,n){this.applicationInfo=e,this.injector=t,this.applicationInfoService=n,this._destroyed$=new u.Subject,this.init$=new u.ReplaySubject(1),this.messageEvent$=new u.Subject,!e.clientConnectionClassName||e.clientConnectionClassName===""?this.applicationInfoService.loadApplicationInfo().subscribe(a=>{this._initialize(a.applicationInfo)}):this._initialize(e)}_initialize(e){this.msgChannel=this._getChannel(e.clientConnectionClassName),this._initChannel(e.serviceUrl)}_getChannel(e){let t;switch(e){case"Terrasoft.WebSocketChannel":t=this.injector.get(Ue);break;case"Terrasoft.SignalRChannel":t=this.injector.get(Vt);break}return t}_subscribeMsgChannel(){this.msgChannel.subscribe().pipe((0,d.takeUntil)(this._destroyed$)).subscribe({next:e=>{let t;if(e.Body&&typeof e.Body=="string")try{t=JSON.parse(e.Body)}catch(a){(0,s.isDevMode)()&&console.warn(`MessageChannelService. Parse error: ${a}`);return}else e.Body&&typeof e.Body=="object"&&(t=e.Body);const n={header:{sender:e?.Header?.Sender,bodyTypeName:e?.Header?.BodyTypeName},body:t,id:e.Id};this.messageEvent$.next(n)}})}_initChannel(e){this.msgChannel.init(e).subscribe({complete:()=>{this.init$.next(this.msgChannel),this._subscribeMsgChannel()}})}sendMessage(e,t){const n={Id:Js.Guid.create().toString(),Header:{Sender:t,BodyTypeName:"System.String"},Body:JSON.stringify(e)};return this.init$.pipe((0,d.switchMap)(()=>this.msgChannel.sendMessage(n)))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this.init$.complete(),this.messageEvent$.complete()}}ie.\u0275fac=function(e){return new(e||ie)(s.\u0275\u0275inject(C),s.\u0275\u0275inject(s.Injector),s.\u0275\u0275inject(E))},ie.\u0275prov=s.\u0275\u0275defineInjectable({token:ie,factory:ie.\u0275fac,providedIn:"root"});var oe;(function(r){r[r.General=0]="General",r[r.Advanced=1]="Advanced",r[r.None=2]="None"})(oe||(oe={}));const Qs={[oe.General]:{type:oe.General,name:"General"},[oe.Advanced]:{type:oe.Advanced,name:"Advanced"},[oe.None]:{type:oe.None,name:"None"}};var Jr;(function(r){r[r.Error=1]="Error",r[r.Warning=2]="Warning",r[r.Information=4]="Information"})(Jr||(Jr={}));var He;(function(r){r.Contains="contains",r.StartsWith="starts-with",r.Equals="equals"})(He||(He={}));var qr;(function(r){r[r.Asc=0]="Asc",r[r.Desc=1]="Desc"})(qr||(qr={}));var Qr;(function(r){r.METADATA_INIT="METADATA_INIT",r.MODEL_INIT="MODEL_INIT",r.VIEW_MODEL_INIT="VIEW_MODEL_INIT"})(Qr||(Qr={}));var Ar;(function(r){r.Blank="_blank",r.Self="_self"})(Ar||(Ar={}));var en;(function(r){r.BusinessRule="BusinessRule",r.RelatedPage="RelatedPage",r.TimelineEntity="TimelineEntity",r.AppearanceSettings="AppearanceSettings"})(en||(en={}));var tn;(function(r){r[r.None=0]="None",r[r.Module=1]="Module",r[r.EditViewModelSchema=2]="EditViewModelSchema",r[r.ModuleViewModelSchema=3]="ModuleViewModelSchema",r[r.DetailViewModelSchema=4]="DetailViewModelSchema",r[r.GridDetailViewModelSchema=5]="GridDetailViewModelSchema",r[r.EditControlsDetailViewModelSchema=6]="EditControlsDetailViewModelSchema",r[r.UnitTestModule=7]="UnitTestModule",r[r.GridEditDetailViewModelSchema=8]="GridEditDetailViewModelSchema",r[r.AngularSchema=9]="AngularSchema"})(tn||(tn={}));var rn;(function(r){r.Byte="Byte",r.Kilobyte="Kilobyte",r.Megabyte="Megabyte",r.Gigabyte="Gigabyte"})(rn||(rn={}));var nn;(function(r){r.Const="Const",r.SysValue="SysValue",r.SysSetting="SysSetting",r.AttributeValue="AttributeValue",r.AttributeProperty="AttributeProperty"})(nn||(nn={}));var an;(function(r){r[r.IsNull=0]="IsNull",r[r.IsNotNull=1]="IsNotNull",r[r.Equal=2]="Equal",r[r.NotEqual=3]="NotEqual"})(an||(an={}));var sn;(function(r){r[r.None=0]="None",r[r.And=1]="And",r[r.Or=2]="Or"})(sn||(sn={}));var on;(function(r){r.ChangeAttributeValue="ChangeAttributeValue",r.ChangeAttributeProperty="ChangeAttributeProperty",r.DataLoaded="DataLoaded",r.ContextReady="ContextReady"})(on||(on={}));var cn;(function(r){r[r.General=0]="General",r[r.External=1]="External"})(cn||(cn={}));class Lt{constructor(e){this.window=e}navigate(e,t,n=Ar.Blank){this.window.open(e,t||n)}}Lt.\u0275fac=function(e){return new(e||Lt)(s.\u0275\u0275inject(m.WINDOW_TOKEN))},Lt.\u0275prov=s.\u0275\u0275defineInjectable({token:Lt,factory:Lt.\u0275fac,providedIn:"root"});class dr{}const Cr=new s.InjectionToken("CRT_REQUIRE_JS"),na="#GenerateGUID#",ln=[i.DataValueType.DateTime,i.DataValueType.Date,i.DataValueType.Time],un=new Map([[i.DataValueType.Integer,0],[i.DataValueType.Float,2],[i.DataValueType.Money,2],[i.DataValueType.FLOAT1,1],[i.DataValueType.FLOAT2,2],[i.DataValueType.FLOAT3,3],[i.DataValueType.FLOAT4,4],[i.DataValueType.FLOAT8,8]]),Dr=[i.DataValueType.Float,i.DataValueType.FLOAT1,i.DataValueType.FLOAT2,i.DataValueType.FLOAT3,i.DataValueType.FLOAT4,i.DataValueType.FLOAT8,i.DataValueType.Integer,i.DataValueType.Money],ei="^[a-zA-Z]+[a-zA-Z0-9._-]*$",aa="/img/entity/hash/SysImage/Data/",sa="/DataService/json/SyncReply",ti="ec5fd902-66ce-4139-a241-10ebd8addc40",ri="0c5cfb7a-1ed9-41b8-905e-9a38c6915550",ni="ecdcc8ff-272c-4957-9381-7d74ce17e140",ai="C449D832-A4CC-4B01-B9D5-8A12C42A9F89",si="Activity",ii="E2831DEC-CFC0-DF11-B00F-001D60E938C6",oi="fbe0acdc-cfc0-df11-b00f-001d60e938c6",ci="42c74c49-58e6-df11-971b-001d60e938c6",li="f51c4643-58e6-df11-971b-001d60e938c6",ui="8038A396-7825-E011-8165-00155D043204",ia="DataService/json/SyncReply",oa="DataService/ssp/json/SyncReply",di="ComposerEvent";function pi(r){return r.endsWith("/")||(r+="/"),r}function hi(r){return r.replace(/(^([/\\])+)|(([/\\])+$)/,"")}function ca(r){return r=r.replace(location.hash,""),r.replace(location.search,"")}function fi(){return"/"}function K(){let r=location.pathname;const e=r.match(/.*?\/\d\/?/);return e&&e.length===1?r=pi(e[0]):r="",ua(location.origin,r)}function la(){let r=location.href.replace(K(),"");return r=ca(r),r||"/"}function mi(){let r=location.href;return r=ca(r),r||"/"}function pr(){let e=K().replace(location.origin,"");return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e}function dn(){let r=K().replace("/0/","");return r.endsWith("/")&&(r=r.substring(0,r.length-1)),r}function ua(...r){return r.map(e=>hi(e)).join("/")}function gi(r,e){return`${dn().replace(new RegExp("/$"),"")}/Navigation/Navigation.aspx?schemaName=${r}&recordId=${e}`}function yi(r,e){function t(c,l){return c.toLowerCase().replace(l,"").split("/").filter(h=>h).join("/")}const n=K().toLowerCase(),a=t(r,n),o=t(e,n);return a===o}function Ti(r){return r?pr()+aa+r:null}function Ei(){return pr()+sa}function _i(r){const{uId:e,name:t,packageUId:n}=r;if(!e&&!t)throw new Error("uId or name is required");const a=K(),o=la();let c=`${a}${o}#/InterfaceDesigner/${e||t}`;return n&&(c+=`?packageUId=${n}`),c}class Te extends dr{constructor(e,t){super(),this._requireJs=e,this._httpClient=t,this._serviceEndpoint="ServiceModel/ClientUnitSchemaPathService.svc/",this.paths=new Map}_loadPartOfSchema(e){const t=this._serviceEndpoint+"GetPathsBySchemaName/"+e;return this._httpClient.post(t,null).pipe((0,d.map)(n=>n?.paths??[]))}register(e){return this.paths.has(e)?(0,u.of)(void 0):this._loadPartOfSchema(e).pipe((0,d.map)(t=>{const n=Object.fromEntries(t.map(a=>[a.name,b.Location.joinWithSlash(K(),a.path)]));this._requireJs.config({paths:n});for(const{name:a,path:o}of t)this.paths.set(a,o)}))}registerDescriptors(e){const t=Object.fromEntries(e.map(n=>[n.schemaName,b.Location.joinWithSlash(b.Location.joinWithSlash(K(),n.path),n.schemaName)]));this._requireJs.config({paths:t})}}Te.\u0275fac=function(e){return new(e||Te)(s.\u0275\u0275inject(Cr),s.\u0275\u0275inject(T.HttpClient))},Te.\u0275prov=s.\u0275\u0275defineInjectable({token:Te,factory:Te.\u0275fac});class Ee extends dr{constructor(e,t){super(),this._requireJs=e,this._appInfo=t,this._hashParamName="hash",this._workspaceBaseUrl=K(),this._emptyResourcesModulePath="Terrasoft/configuration/resources/empty-resources.js"}_getSchemaRuntimePath(e){return b.Location.joinWithSlash(this._workspaceBaseUrl,e.staticFileContent.schemasRuntimePath)}_getResourceRuntimePath(e){return b.Location.joinWithSlash(this._workspaceBaseUrl,e.staticFileContent.resourcesRuntimePath)}_getEmptyResourcesPath(e){const t=b.Location.joinWithSlash(this._workspaceBaseUrl,e.coreModulesPath),n=new URL(b.Location.joinWithSlash(t,this._emptyResourcesModulePath));return n.searchParams.set(this._hashParamName,e.configurationContentHash),n.toString()}_getSchemaPath(e,t){const n=new URL(b.Location.joinWithSlash(this._getSchemaRuntimePath(t),`${e}.js`));return n.searchParams.set(this._hashParamName,t.configurationContentHash),n.toString()}_getResourcePath(e,t){const n=new URL(b.Location.joinWithSlash(this._getResourceRuntimePath(t),`${e}Resources.js`));return n.searchParams.set(this._hashParamName,t.configurationContentHash),n.toString()}register(e){return this._requireJs.config({paths:{[e]:this._getSchemaPath(e,this._appInfo),[`${e}Resources`]:[this._getResourcePath(e,this._appInfo),this._getEmptyResourcesPath(this._appInfo)]}}),(0,u.of)(void 0)}registerDescriptors(e,t){e.forEach(n=>{const a=n.schemaName;this._requireJs.config({paths:{[a]:this._getSchemaPath(a,t),[`${a}Resources`]:[this._getResourcePath(a,t),this._getEmptyResourcesPath(t)]}})})}}Ee.\u0275fac=function(e){return new(e||Ee)(s.\u0275\u0275inject(Cr),s.\u0275\u0275inject(C))},Ee.\u0275prov=s.\u0275\u0275defineInjectable({token:Ee,factory:Ee.\u0275fac});const Si={provide:dr,useFactory:(r,e)=>r.useStaticFileContent?e.get(Ee):e.get(Te),deps:[C,s.Injector]};class _e extends dr{register(){return(0,u.of)(void 0)}registerDescriptors(e){}}_e.\u0275fac=function(){let r;return function(t){return(r||(r=s.\u0275\u0275getInheritedFactory(_e)))(t||_e)}}(),_e.\u0275prov=s.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac});class Se{constructor(e){this._window=e}get(){return this._window.requirejs}}Se.\u0275fac=function(e){return new(e||Se)(s.\u0275\u0275inject(m.WINDOW_TOKEN))},Se.\u0275prov=s.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac});class Ii{constructor(e,t,n){this.path=e,this.value=t,this.type=n}}var pn;(function(r){r.EntityDataSource="crt.EntityDataSource",r.WebServiceDataSource="crt.WebServiceDataSource",r.PageParametersDataSource="crt.PageParametersDataSource"})(pn||(pn={}));var hn;(function(r){r.OnDemand="OnDemand",r.OnInit="OnInit"})(hn||(hn={}));var br;(function(r){r.string="Strings",r.image="Images"})(br||(br={}));const da="Resources";class Y extends Array{constructor(e){super(),Object.setPrototypeOf(this,Object.create(Y.prototype)),Array.isArray(e)&&this._fillFromSource(e)}_fillFromSource(e){e.filter(t=>t?.cultureName!=null).forEach(t=>{this.setValueLocalizableString(t.cultureName,t.value)})}getValue(e){const t=this.getLocalizableString(e);return t?t.value:""}hasCultureValue(e,t=!1){const n=this.getLocalizableString(e);return t?(n?.value||null)!=null:n?.value!=null}getLocalizableString(e){return this.find(t=>t.cultureName===e)||null}setValueLocalizableString(e,t){const n=this.getLocalizableString(e);return n?n.value=t:this.push({cultureName:e,value:t}),this}setValues(e,t=!1){return e.forEach(n=>{this.hasCultureValue(n.cultureName)&&t||this.setValueLocalizableString(n.cultureName,n.value)}),this}clone(){return new Y(this)}}var Nt;(function(r){r[r.EntitySchema=3]="EntitySchema",r[r.ClientUnitSchema=4]="ClientUnitSchema"})(Nt||(Nt={}));const vi=new s.InjectionToken("navigation_handler_token"),Ai=r=>r.replace(/\./g,"")+"_PropertiesBindingAttribute";function Ci(r){return new class{execute(){r()}}}class Di{}class hr{wait(e){return e()}}hr.instance=new hr;class bi{constructor(e={preventAttributeChangeRequest:!1,preventRunBusinessRules:!1,preventStateChange:!1}){this._preventAttributeChangeRequest=!1,this._preventStateChange=!1,this._preventRunBusinessRules=!1,this._setOptions(e)}_setUsingSilent(e){this._preventStateChange=e,this._preventRunBusinessRules=e,this._preventAttributeChangeRequest=!1}_setOptions(e){this._preventAttributeChangeRequest=e?.preventAttributeChangeRequest??this._preventAttributeChangeRequest,this._preventStateChange=e?.preventStateChange??this._preventStateChange,this._preventRunBusinessRules=e?.preventRunBusinessRules??this._preventRunBusinessRules}getAsSilent(){return this._preventRunBusinessRules&&this._preventStateChange}setOptions(e){if((0,v.isUndefined)(e?.silent)){const t=(0,v.pick)(e,"preventAttributeChangeRequest","preventStateChange","preventRunBusinessRules");this._setOptions(t)}else this._setUsingSilent(e?.silent)}getOptions(){return{preventAttributeChangeRequest:this._preventAttributeChangeRequest,preventRunBusinessRules:this._preventRunBusinessRules,preventStateChange:this._preventStateChange}}reset(){this._preventAttributeChangeRequest=!1,this._preventRunBusinessRules=!1,this._preventStateChange=!1}}class ce{constructor(e){this.userInfo=e,this._resourceMacrosRegExpPattern="(?<macrosBody>#ResourceString\\((?<macrosArgs>[^)]*)\\)#)",this._viewModelAttributeRegExpPattern=`\\$${da}.${br.string}.(?<macrosArgs>[\\S\\s]*)`,this._sysCultureName=this.userInfo.cultureInfo.sysCultureName,this._defCultureName=this.userInfo.defCultureInfo.sysCultureName}_getLczResource(e){const t={};return e.forEach(n=>t[n.cultureName]=n.value),t}_getResourceValueMatches(e){const t=new RegExp(this._resourceMacrosRegExpPattern,"g"),n=new RegExp(this._viewModelAttributeRegExpPattern,"g");let a=[...(e??"").matchAll(n)];return a.length||(a=[...(e??"").matchAll(t)]),a}findLocalizableValue(e){if(typeof e=="string")return e;if(!e||typeof e!="object")return null;let t;return Array.isArray(e)?t=e?.filter(n=>n.value).reduce((n,a)=>Object.assign(n,{[a.cultureName]:a.value}),{}):t=e,(t[this._sysCultureName]??t[this._defCultureName])?.toString()??null}findLocalizationFromResourceString(e,t){const n=this._getResourceValueMatches(e);let a,o=e??"";if(n.length){if([...n].forEach(c=>{const{macrosArgs:l}=c.groups;a=t.strings[l]}),a)return new Y(Object.entries(a).map(([c,l])=>({cultureName:c,value:l})));o=""}return new Y([{cultureName:this._sysCultureName||this._defCultureName,value:o}])}findValueFromResource(e,t){const n=this.findLocalizationFromResourceString(e,t),a=this._getLczResource(n);return this.findLocalizableValue(a)}findViewModelResourceValue(e,t,n){var a=this;return(0,P.Z)(function*(){const o=a._getResourceValueMatches(e);let c;if(o.length)for(const l of[...o]){const{macrosArgs:h}=l.groups;c=yield t.Strings[h]}return c||n||e})()}}ce.\u0275fac=function(e){return new(e||ce)(s.\u0275\u0275inject(w))},ce.\u0275prov=s.\u0275\u0275defineInjectable({token:ce,factory:ce.\u0275fac,providedIn:"root"});class Ie{_getSchemaType(e){let t;switch(e){case"ClientUnitSchemaManager":t=Nt.ClientUnitSchema;break;case"EntitySchemaManager":t=Nt.EntitySchema;break}return t}_subscribeMessageChannelEvent(){this._messageChannelService.messageEvent$.pipe((0,d.filter)(e=>e.header.sender==="SchemaManagerItemEventNotifier"&&e.header.bodyTypeName==="ChangedSchema"),(0,d.takeUntil)(this._destroyed$)).subscribe(e=>{const t=e.body,n=this._getSchemaType(t.ManagerName);n&&this.schemaChanged$.next({name:t.Name,uId:t.UId,schemaType:n})})}constructor(e){this._messageChannelService=e,this._destroyed$=new u.Subject,this.schemaChanged$=new u.Subject,this._subscribeMessageChannelEvent()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this.schemaChanged$.complete()}}Ie.\u0275fac=function(e){return new(e||Ie)(s.\u0275\u0275inject(ie))},Ie.\u0275prov=s.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac,providedIn:"root"});class xt{constructor(e){this.schemaChangeListener=e,this._repository=new Map,this._uIdMap=new Map,this._destroyed$=new u.Subject,this.schemaChangeListener.schemaChanged$.pipe((0,d.filter)(t=>t.schemaType===this.provider.schemaType),(0,d.takeUntil)(this._destroyed$)).subscribe(t=>this.clearSchemaCacheByUId(t.uId))}add(e){this._repository.set(e.name,e),this._uIdMap.set(e.uId,e.name)}getCachedSchema(e){return this._repository.get(e)}getIsSchemaCached(e){return this._repository.has(e)}getCachedSchemesNames(){return[...this._repository.keys()]}getSchemaByName(e){const t=this.getCachedSchema(e);return t?(0,u.of)(t):this.provider.getSchemaByName(e).pipe((0,d.tap)(n=>this.add(n)))}getSchemaByUId(e){const t=this._uIdMap.get(e),n=t&&this.getCachedSchema(t);return n?(0,u.of)(n):this.provider.getSchemaByUId(e).pipe((0,d.tap)(a=>this.add(a)))}clearSchemaCacheByName(e){const t=this.getCachedSchema(e);t&&this._uIdMap.delete(t.uId),this._repository.delete(e)}clearSchemaCacheByUId(e){const t=this._uIdMap.get(e);t&&this._repository.delete(t),this._uIdMap.delete(e)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}xt.\u0275fac=function(e){return new(e||xt)(s.\u0275\u0275inject(Ie))},xt.\u0275prov=s.\u0275\u0275defineInjectable({token:xt,factory:xt.\u0275fac});class $e{constructor(e){this._entitySchemaService=e,this.schemaType=Nt.EntitySchema}_getSchema(e){return e.pipe((0,d.switchMap)(t=>t.success===!0?(0,u.of)(t):(0,u.throwError)(()=>new Error(t.errorInfo.message))),(0,d.map)(t=>t.entitySchema))}_getScheme(e){return e.pipe((0,d.switchMap)(t=>t.success===!0?(0,u.of)(t):(0,u.throwError)(()=>new Error(t.errorInfo.message))),(0,d.map)(t=>t.schemes))}getSchemaByUId(e){const t=this._entitySchemaService.getEntitySchemaByUId(e);return this._getSchema(t)}getSchemaByName(e){const t=this._entitySchemaService.getEntitySchemaByName(e);return this._getSchema(t)}getSchemes(e){const t=this._entitySchemaService.getEntitySchemes(e);return this._getScheme(t)}}$e.\u0275fac=function(e){return new(e||$e)(s.\u0275\u0275inject(ge))},$e.\u0275prov=s.\u0275\u0275defineInjectable({token:$e,factory:$e.\u0275fac,providedIn:"root"});const fn=new s.InjectionToken("DataServiceUri"),Mi={provide:fn,useFactory:r=>r?.isSSP?oa:ia,deps:[[new s.Optional,w]]};class kt extends xt{constructor(e,t){super(t),this.provider=e,this.schemaChangeListener=t}_checkPath(e){if(!e||e.length===0)throw new Error("Path is null or empty")}_checkLookupColumn(e,t){if(!e.isLookupType)throw new Error(`Column '${e.name}' for schema '${t.name}' is not lookup`)}_getEntitySchemaColumn(e,t){const n=e.columns.find(a=>a.name===t);if(!n)throw new Error(`Can not find column '${t}' in schema '${e.name}'`);return n}_findEntitySchemesByPath(e,t){this._checkPath(t);const n=[...t],a=this.getCachedSchema(e);if(!a)return null;const o=n.shift(),c=Gr.getPathItemInfo(o);let l=[];if(c.isBackReference)l=this._findEntitySchemesByPath(c.referenceSchemaName,n);else{const y=this._getEntitySchemaColumn(a,c.columnName);if(n.length===0)return[a];this._checkLookupColumn(y,a),l=this._findEntitySchemesByPath(y.referenceSchemaName,n)}if(!l)return null;const h=l.filter(y=>y.name!==a.name);return[a,...h]}_getAreSchemesCached(e){for(const t of e){const n=this.getCachedSchema(t.name);if(!n)return!1;const a=n.columns.filter(c=>c.isLookupType).every(c=>this.getIsSchemaCached(c.referenceSchemaName));if(t.loadLookupColumns&&!a)return!1;const o=t.forwardReferencePaths??[];for(const c of o){const l=c.split(".");if(!this.findEntitySchemaColumnByPath(t.name,l))return!1}}return!0}_addSchemaIfNotExists(e,t){e.has(t.name)||e.set(t.name,t)}_addSchemesIfNotExists(e,t){t.forEach(n=>{this._addSchemaIfNotExists(e,n)})}_getCachedSchemes(e){const t=new Map;return e.forEach(n=>{const a=this.getCachedSchema(n.name);if(!a)return;if(this._addSchemaIfNotExists(t,a),n.loadLookupColumns){const c=a.columns.filter(l=>l.isLookupType).map(l=>this.getCachedSchema(l.referenceSchemaName)).filter(l=>l!=null);this._addSchemesIfNotExists(t,c)}(n.forwardReferencePaths??[]).forEach(c=>{const l=c.split("."),h=this._findEntitySchemesByPath(n.name,l);h&&this._addSchemesIfNotExists(t,h)})}),[...t.values()]}getSchemes(e){if(this._getAreSchemesCached(e))return(0,u.of)(this._getCachedSchemes(e));const t={requests:e,cachedSchemesNames:this.getCachedSchemesNames()};return this.provider.getSchemes(t).pipe((0,d.tap)(n=>n.forEach(a=>this.add(a))),(0,d.map)(()=>this._getCachedSchemes(e)))}findEntitySchemaColumnByPath(e,t){this._checkPath(t);const n=[...t],a=this.getCachedSchema(e);if(!a)return null;const o=n.shift(),c=Gr.getPathItemInfo(o);if(c.isBackReference)return this.findEntitySchemaColumnByPath(c.referenceSchemaName,n);const l=this._getEntitySchemaColumn(a,c.columnName);return n.length===0?l:(this._checkLookupColumn(l,a),this.findEntitySchemaColumnByPath(l.referenceSchemaName,n))}}kt.\u0275fac=function(e){return new(e||kt)(s.\u0275\u0275inject($e),s.\u0275\u0275inject(Ie))},kt.\u0275prov=s.\u0275\u0275defineInjectable({token:kt,factory:kt.\u0275fac,providedIn:"root"});class Ge{constructor(e){this.translateService=e}_getTranslations(e){const t=this.translateService.translations[e];return t?(0,u.of)({translation:t,cultureName:e}):this.translateService.currentLoader.getTranslation(e).pipe((0,d.map)(n=>({translation:n,cultureName:e})))}getAllCultureValues(e,t){return(0,u.forkJoin)(e.map(n=>this._getTranslations(n))).pipe((0,d.map)(n=>{const a=new Y;for(const{translation:o,cultureName:c}of n){const l=(0,v.get)(o,t);a.setValueLocalizableString(c,l)}return a}))}isTranslateKey(e){return/^\S+\.\S+$/.test(e)}}Ge.\u0275fac=function(e){return new(e||Ge)(s.\u0275\u0275inject(A.TranslateService))},Ge.\u0275prov=s.\u0275\u0275defineInjectable({token:Ge,factory:Ge.\u0275fac});class jt{constructor(e){this._window=e}get(e){return this._window.localStorage.getItem(e)}set(e,t){this._window.localStorage.setItem(e,t)}remove(e){this._window.localStorage.removeItem(e)}}jt.\u0275fac=function(e){return new(e||jt)(s.\u0275\u0275inject(m.WINDOW_TOKEN))},jt.\u0275prov=s.\u0275\u0275defineInjectable({token:jt,factory:jt.\u0275fac});class Bt{get availableColors(){return["linear-gradient(225deg, #A6DE00 0%, #98CB00 100%)","linear-gradient(227.47deg, #00C853 3.3%, #008537 93.87%)","linear-gradient(223.72deg, #22AC14 6.16%, #0B8500 97.75%)","linear-gradient(222.61deg, #FFAC07 0%, #FF7700 96.17%)","linear-gradient(223.36deg, #FF8800 0%, #FF4E00 103.03%)","linear-gradient(226.56deg, #F9307F 2.58%, #C2185B 100%)","linear-gradient(220.47deg, #FF6534 0%, #DB2D00 97.81%)","linear-gradient(223.63deg, #FF4013 0%, #D32F2F 102.51%)","linear-gradient(220.79deg, #B87CCF 2.27%, #A400AA 95.92%)","linear-gradient(143.25deg, #7848EE 1.25%, #512DA8 101.21%)","linear-gradient(224.97deg, #0091EA 5.35%, #0058EF 100%)","linear-gradient(223.46deg, #0058EF -4.85%, #0042B5 103.03%)","linear-gradient(231.24deg, #03A9F4 5.08%, #0075EA 96.3%)","linear-gradient(143.8deg, #4F43C2 6.59%, #282261 95.27%)","linear-gradient(226.04deg, #009688 3.14%, #00665C 94.22%)","linear-gradient(227.53deg, #00BFA5 3.54%, #04A58F 89.8%)"]}constructor(e){this.window=e,this.STORAGE_KEY="freedomContactColor",this._currentIndex=0,this._currentIndex=this._getIndexFromStorage()}_getIndexStorageKey(){return`${this.STORAGE_KEY}_index`}_getStorageKey(e){return`${this.STORAGE_KEY}_${e}`}_saveIndexToStorage(){this.window.localStorage.setItem(this._getIndexStorageKey(),this._currentIndex.toString())}_saveToStorage(e,t){this.window.localStorage.setItem(this._getStorageKey(e),t)}_getIndexFromStorage(){const e=this.window.localStorage?.getItem(this._getIndexStorageKey());return e?Number(e):0}_getFromStorage(e){return this.window.localStorage.getItem(this._getStorageKey(e))}getNextColor(e){let t=this._getFromStorage(e)||"";return t.indexOf("#")===-1&&(this._currentIndex>=this.availableColors.length&&(this._currentIndex=0),t=this.availableColors[this._currentIndex],this._currentIndex++,this._saveIndexToStorage(),this._saveToStorage(e,t)),t}}Bt.\u0275fac=function(e){return new(e||Bt)(s.\u0275\u0275inject(m.WINDOW_TOKEN))},Bt.\u0275prov=s.\u0275\u0275defineInjectable({token:Bt,factory:Bt.\u0275fac,providedIn:"root"});class Mr{}class le extends Mr{create(e){const{path:t,aggregationConfig:n}=e??{};return!t||!n?null:{type:"Aggregation",path:t,aggregationConfig:n}}}le.\u0275fac=function(){let r;return function(t){return(r||(r=s.\u0275\u0275getInheritedFactory(le)))(t||le)}}(),le.\u0275prov=s.\u0275\u0275defineInjectable({token:le,factory:le.\u0275fac});class ue extends Mr{create(e){const{path:t}=e??{};return t?{type:/\./.test(t)?"ForwardReference":"Own",path:t}:null}}ue.\u0275fac=function(){let r;return function(t){return(r||(r=s.\u0275\u0275getInheritedFactory(ue)))(t||ue)}}(),ue.\u0275prov=s.\u0275\u0275defineInjectable({token:ue,factory:ue.\u0275fac});class de extends Mr{create(e){const{path:t,functionConfig:n}=e??{};return!t||!n?null:{type:"Function",path:t,functionConfig:n}}}de.\u0275fac=function(){let r;return function(t){return(r||(r=s.\u0275\u0275getInheritedFactory(de)))(t||de)}}(),de.\u0275prov=s.\u0275\u0275defineInjectable({token:de,factory:de.\u0275fac});const pa=new s.InjectionToken("Represents a factory of entity data source attribute config creators");function Ri(){return m.FactoryProvider.create({token:pa,mappings:[{predicate:"aggregation",injectable:le},{predicate:"function",injectable:de}],default:{injectable:ue}})}class Ut{}Ut.\u0275fac=function(e){return new(e||Ut)},Ut.\u0275mod=s.\u0275\u0275defineNgModule({type:Ut}),Ut.\u0275inj=s.\u0275\u0275defineInjector({providers:[le,ue,de,Ri()]});class Ht{getInitials(e,t){if(!e||e==="")return"";const n=t||(a=>a.substr(0,1).toUpperCase());return e.trim().split(" ",2).map(n).join("")}}Ht.\u0275fac=function(e){return new(e||Ht)},Ht.\u0275prov=s.\u0275\u0275defineInjectable({token:Ht,factory:Ht.\u0275fac,providedIn:"root"});class We{constructor(e){this._httpClient=e,this._serviceEndpoint="rest/MacrosHelperService"}static isMacros(e){return typeof e!="string"?!1:e?.startsWith("#")??!1}getTemplate(e,t){return this.getTemplateByEntity({textTemplate:e},t)}getTemplateByEntity(e,t){const n=`${this._serviceEndpoint}/GetTemplate`;return this._httpClient.post(n,{request:e}).pipe((0,d.map)(a=>{const o=a?.GetTemplateResult;return o?.success?t?o.textTemplate:o.textTemplate.replace(/\s?<.+?>(.+?)<(.+?)\/?(.+?)>/g,""):e.textTemplate}))}getMultiLanguageTemplate(e,t,n){const a=`${this._serviceEndpoint}/GetMultiLanguageTextTemplate`;return this._httpClient.post(a,{request:{entityId:e,entityName:t,templateId:n}}).pipe((0,d.map)(o=>o?.GetMultiLanguageTextTemplateResult))}}We.\u0275fac=function(e){return new(e||We)(s.\u0275\u0275inject(T.HttpClient))},We.\u0275prov=s.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac,providedIn:"root"});class Ze{constructor(e){this._elementRef=e,this._scrollPositions=new Map,this._saveScrollPosition=t=>{const n=t.target;if(n){const a=this._findRef(n)||new WeakRef(n);this._scrollPositions.set(a,{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop})}}}get scrollPositions(){return this._scrollPositions}set scrollPositions(e){this._scrollPositions=e}_findRef(e){for(const[t]of this._scrollPositions)if(t.deref()===e)return t;return null}_onScrollEnd(){const e=this._elementRef.nativeElement;return(0,u.fromEventPattern)(t=>e.addEventListener("scroll",t,!0),t=>e.removeEventListener("scroll",t,!0)).pipe((0,u.debounceTime)(200))}startScrollTracking(){this._subscription?.unsubscribe(),this._subscription=this._onScrollEnd().subscribe(e=>this._saveScrollPosition(e))}stopScrollTracking(){this._subscription?.unsubscribe()}restoreScrollPosition(){for(const[e,t]of this._scrollPositions){const n=e.deref();n?.isConnected?n.scroll(t.scrollLeft,t.scrollTop):this._scrollPositions.delete(e)}}ngOnDestroy(){this.stopScrollTracking(),this._scrollPositions.clear()}}Ze.\u0275fac=function(e){return new(e||Ze)(s.\u0275\u0275inject(s.ElementRef))},Ze.\u0275prov=s.\u0275\u0275defineInjectable({token:Ze,factory:Ze.\u0275fac});class ha{constructor(e,t){this.id=e,this._injector=t}inject(e){return this._injector.get(e)}}class ze extends zr{constructor(){super(...arguments),this._injectionContextsMap=new Map}createContext(e,t){const n=new ha(e,t);return this._injectionContextsMap.set(e,n),n}injectFromContext(e,t){return this._injectionContextsMap.get(e).inject(t)}removeContext(e){return this._injectionContextsMap.delete(e)}}ze.\u0275fac=function(){let r;return function(t){return(r||(r=s.\u0275\u0275getInheritedFactory(ze)))(t||ze)}}(),ze.\u0275prov=s.\u0275\u0275defineInjectable({token:ze,factory:ze.\u0275fac,providedIn:"root"});var Rr;(function(r){r.Insert="insert",r.Update="update",r.Delete="delete"})(Rr||(Rr={}));class $t{constructor(e,t){this._messageChannelService=e,this._userInfo=t,this._subscriptions=[],this.newMessageEvent=new s.EventEmitter,this.feedPostPublishedEvent=new s.EventEmitter,this._subscribeMessageChannelEvents()}_subscribeMessageChannelEvents(){this._subscriptions.push(this._messageChannelService.messageEvent$.pipe((0,u.filter)(e=>e.header.sender==="UpdateSocialMessage"),(0,u.map)(e=>{const t=e.body;return{MessageId:e.id.toString(),AuthorId:t.sysAdminUnitId,Operation:t.operation,EntityId:t.channelId,ParentId:t.parentId,EntityName:t.entityName}})).subscribe(e=>this.newMessageEvent.emit(e)))}onFeedPostPublished(e,t){const n={MessageId:e,Operation:Rr.Insert,EntityId:t};this.feedPostPublishedEvent.emit(n)}ngOnDestroy(){this._subscriptions.forEach(e=>e?.unsubscribe())}}$t.\u0275fac=function(e){return new(e||$t)(s.\u0275\u0275inject(ie),s.\u0275\u0275inject(w))},$t.\u0275prov=s.\u0275\u0275defineInjectable({token:$t,factory:$t.\u0275fac});class Gt{constructor(e){this._httpClient=e,this._workplaceServiceUrl="/rest/WorkplaceService/"}resetWorkplaceScriptCache(){const e=this._workplaceServiceUrl+"ResetScriptCache";return this._httpClient.post(e,null)}}Gt.\u0275fac=function(e){return new(e||Gt)(s.\u0275\u0275inject(T.HttpClient))},Gt.\u0275prov=s.\u0275\u0275defineInjectable({token:Gt,factory:Gt.\u0275fac,providedIn:"root"});class Ke{constructor(){this._customEventService=(0,s.inject)(m.CustomEventService),this._listeners=new Map,this.destroyed$=new u.Subject,this.addDefaultListeners(),this.initChannels(),this._startListening()}_startListening(){this.inboundChannel$.pipe((0,u.takeUntil)(this.destroyed$)).subscribe(e=>{if(!this._listeners.has(e.type))throw new Error(`No listener for "${e.type}" request`);const t=this._listeners.get(e.type),n=o=>{const c={body:o,requestId:e.id,requestType:e.type};this.outboundChannel$.next(c)},a=t(e);a instanceof Promise?a.then(n):n(a)})}addDefaultListeners(){this.addListener("ping",()=>"pong")}initChannels(){this.inboundChannel$=this._customEventService.subscribe("CreatioBrowserExtensionRequest"),this.outboundChannel$=this._customEventService.createOutboundChannel("CreatioBrowserExtensionResponse")}addListener(e,t){this._listeners.set(e,t)}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}Ke.\u0275fac=function(e){return new(e||Ke)},Ke.\u0275prov=s.\u0275\u0275defineInjectable({token:Ke,factory:Ke.\u0275fac,providedIn:"root"});class Ye extends Ke{initChannels(){this.inboundChannel$=new u.Subject,this.outboundChannel$=new u.Subject}simulateBrowserExtensionRequest(e){const t=(0,u.firstValueFrom)(this.outboundChannel$.pipe((0,u.first)(n=>n.requestId===e.id)));return this.inboundChannel$.next(e),t}}Ye.\u0275fac=function(){let r;return function(t){return(r||(r=s.\u0275\u0275getInheritedFactory(Ye)))(t||Ye)}}(),Ye.\u0275prov=s.\u0275\u0275defineInjectable({token:Ye,factory:Ye.\u0275fac});class Wt{constructor(e){this._environment=e}getUrl(){const e=this._environment.runtimeApplicationUrl||this._environment.defaultApplicationUrl;return b.Location.joinWithSlash(this._environment.workspaceBaseUrl,e)}}Wt.\u0275fac=function(e){return new(e||Wt)(s.\u0275\u0275inject("environment"))},Wt.\u0275prov=s.\u0275\u0275defineInjectable({token:Wt,factory:Wt.\u0275fac,providedIn:"root"});var mn;(function(r){r.Reload="reload",r.Merge="merge"})(mn||(mn={}));var gn;(function(r){r.Init="init",r.Create="create",r.Update="update",r.Copy="copy",r.Delete="delete",r.Unknown="unknown"})(gn||(gn={}));const wi="crt.EntityDataSource",Fi="crt.PageParametersDataSource",Oi="PageParameters";var pe;(function(r){r[r.None=0]="None",r[r.Small=1]="Small",r[r.Medium=2]="Medium",r[r.Large=3]="Large",r[r.ExtraLarge=4]="ExtraLarge",r[r.Custom=5]="Custom"})(pe||(pe={}));const fa=new s.InjectionToken("sessionEndNotifier"),ma=new s.InjectionToken("APPEARANCE_SETTINGS_DEFAULT_LOADER"),ga=new s.InjectionToken("APPEARANCE_SETTINGS_LOADER"),yn=new Map([[pe.Small,"modal-size-small"],[pe.Medium,"modal-size-medium"],[pe.Large,"modal-size-large"],[pe.ExtraLarge,"modal-size-extra-large"]]);class Zt{constructor(){this._appearanceSettingsLoader=(0,s.inject)(ga,{optional:!0}),this._appearanceSettingsDefaultLoader=(0,s.inject)(ma,{optional:!0})}_getEmptyAppearanceSettings(){const e={modalSettings:{size:pe.None}};return Promise.resolve(e)}_getAppearanceSettings(e){return this._appearanceSettingsLoader?(0,u.lastValueFrom)(this._appearanceSettingsLoader.getAppearanceSettings(e)):this._getEmptyAppearanceSettings()}_getDefaultAppearanceSettings(e){return this._appearanceSettingsDefaultLoader?(0,u.lastValueFrom)(this._appearanceSettingsDefaultLoader.getDefaultAppearanceSettings(e)):this._getEmptyAppearanceSettings()}getSchemaModalClasses(e){var t=this;return(0,P.Z)(function*(){let n;const a=yield t._getAppearanceSettings(e),o=yield t._getEmptyAppearanceSettings(),c=a?.modalSettings??o.modalSettings;if(c?.size!==pe.None)n=yn.get(c.size);else{const h=(yield t._getDefaultAppearanceSettings(e)).modalSettings;n=yn.get(h.size)}return[n]})()}}Zt.\u0275fac=function(e){return new(e||Zt)},Zt.\u0275prov=s.\u0275\u0275defineInjectable({token:Zt,factory:Zt.\u0275fac,providedIn:"root"});class Tn{}const Pi="/",wr="#DATE_SEPARATOR#",ya=`--${wr}--${wr}----`,Ta="00:00",Vi=`${ya} ${Ta}`,Li={[i.DataValueType.Date]:ya,[i.DataValueType.Time]:Ta,[i.DataValueType.DateTime]:Vi};class ve extends Tn{constructor(e){super(),this._dateTimeFormat=e?.cultureInfo?.dateTimeFormat}create(e){const t=Li[e];return t?(0,m.replaceSubstring)(t,[{searchValue:wr,replaceMacros:wr,replaceValue:this._dateTimeFormat?.dateSeparator??Pi}]):""}}ve.\u0275fac=function(e){return new(e||ve)(s.\u0275\u0275inject(w))},ve.\u0275prov=s.\u0275\u0275defineInjectable({token:ve,factory:ve.\u0275fac});class Ae extends Tn{constructor(e){super(),this._decimalSeparator=e?.cultureInfo?.decimalSeparator}create(e){const t=un.get(e);return t?"0"+(this._decimalSeparator??".")+"0".repeat(t):"0"}}Ae.\u0275fac=function(e){return new(e||Ae)(s.\u0275\u0275inject(w))},Ae.\u0275prov=s.\u0275\u0275defineInjectable({token:Ae,factory:Ae.\u0275fac});const En=new s.InjectionToken("A factory of empty placeholder creators"),Ea=m.FactoryProvider.create({token:En,mappings:[{predicate:r=>ln.includes(r),injectable:ve},{predicate:r=>Dr.includes(r),injectable:Ae}]});var Fr;(function(r){r.PDS="Page PDS",r.SectionAccess="Section access",r.PageAccess="Object page settings rule"})(Fr||(Fr={}));class Or extends Error{constructor(e,t,n){super(),this._schemaName=e,this._userName=t,this._rule=n}get message(){return this._schemaName?`${this._schemaName} is not allowed due to ACL setup for ${this._userName}. Failed rules: - ${this._rule}.`:"Page is not allowed due to ACL setup. Check application logs for more details."}}var Pr;(function(r){r[r.Error=0]="Error",r[r.Debugger=1]="Debugger",r[r.Info=2]="Info"})(Pr||(Pr={}));class Ni{}class Xe{get dataServiceUri(){return this._dataServiceUri||(this._dataServiceUri=this._injector.get(fn)),this._dataServiceUri}constructor(e,t){this._httpClient=e,this._injector=t}_createClientLogMessage(e,t){return{message:e,messageType:t,loggerName:"Client"}}logError(e){const t=this._createClientLogMessage(e.message,Pr.Error);return this._httpClient.post(this.dataServiceUri+"/PostClientLog",{LogItems:[t]})}}Xe.\u0275fac=function(e){return new(e||Xe)(s.\u0275\u0275inject(T.HttpClient),s.\u0275\u0275inject(s.Injector))},Xe.\u0275prov=s.\u0275\u0275defineInjectable({token:Xe,factory:Xe.\u0275fac,providedIn:"root"});class zt{constructor(e){this._injector=e,this._userInfo=this._injector.get(w),this._rightsService=this._injector.get(i.RightsService),this._featureService=this._injector.get(i.FeatureService),this._clientLogService=this._injector.get(Xe)}checkAccess(e){var t=this;return(0,P.Z)(function*(){if(!(!(yield t._featureService.getFeatureState("EnablePageOpeningRestrictions"))||(yield t._rightsService.getCanExecuteOperation("CanBypassPageOpeningRestrictions")))&&!e.aclGranted)throw console.error(new Or().message),t._clientLogService.logError(new Or(e.name,t._userInfo.contactName,Fr.PDS)).subscribe(),new Or})()}}zt.\u0275fac=function(e){return new(e||zt)(s.\u0275\u0275inject(s.Injector))},zt.\u0275prov=s.\u0275\u0275defineInjectable({token:zt,factory:zt.\u0275fac,providedIn:"root"});const _n=new s.InjectionToken("Feature states");class Kt{constructor(e){this._featureValues=e,this.rendering$=new u.BehaviorSubject(null),this._useMeasurePerformanceTools=this._featureValues?.UseMeasurePerformanceTools}measure(e,t,n){if(!this._useMeasurePerformanceTools)return t();const a=n||performance.now(),o=t();return performance.measure(e,{start:a}),o}measureCallback(e,t){var n=this;return(0,P.Z)(function*(){if(!n._useMeasurePerformanceTools)return t();const a=performance.now(),o=yield t();return performance.measure(e,{start:a}),o})()}measure$(e){if(!this._useMeasurePerformanceTools)return n=>n;let t;return n=>(0,u.of)(null).pipe((0,d.tap)(()=>t=performance.now()),(0,u.switchMap)(()=>n),(0,d.tap)(()=>performance.measure(e,{start:t})))}}Kt.\u0275fac=function(e){return new(e||Kt)(s.\u0275\u0275inject(_n,8))},Kt.\u0275prov=s.\u0275\u0275defineInjectable({token:Kt,factory:Kt.\u0275fac,providedIn:"root"});class Yt{constructor(e,t,n,a){this._messageChannelService=e,this._userInfo=t,this._sessionEndNotifier=n,this._window=a,this._onSessionEnding=new u.Subject,this._subscription=new u.Subscription}get onSessionEnding$(){return this._onSessionEnding.asObservable()}_processSessionEndMessage(e){return this._sessionEndNotifier.notify(e).pipe((0,d.tap)(()=>this._window.location.reload()))}_getIsMessageValid(e){return e&&e.header.sender==="WebApp"&&e.header.bodyTypeName==="SessionEnd"&&e.body.SessionId===this._userInfo.sessionId}handleSessionEnd(){this._subscription=this._messageChannelService.messageEvent$.pipe((0,d.filter)(e=>this._getIsMessageValid(e)),(0,d.switchMap)(e=>(this._onSessionEnding.next(),this._processSessionEndMessage(e.body.Message)))).subscribe()}ngOnDestroy(){this._onSessionEnding.complete(),this._subscription.unsubscribe()}}Yt.\u0275fac=function(e){return new(e||Yt)(s.\u0275\u0275inject(ie),s.\u0275\u0275inject(w),s.\u0275\u0275inject(fa),s.\u0275\u0275inject(m.WINDOW_TOKEN))},Yt.\u0275prov=s.\u0275\u0275defineInjectable({token:Yt,factory:Yt.\u0275fac});class Xt{constructor(){this._requireJsProvider=(0,s.inject)(Se),this._requireJs=this._requireJsProvider.get(),this._destroy$=new u.Subject,this._cachedModuleMap=new Map([])}deleteCachedModule(e){this._isAllowToCacheCalls&&this._cachedModuleMap.delete(e)}set allowToCacheCalls(e){this._isAllowToCacheCalls=e}get allowToCacheCalls(){return this._isAllowToCacheCalls}load(e,t){if(!this.allowToCacheCalls){this._requireJs(e,(...o)=>{t(...o)});return}const n=[],a=[];for(const o of e)if(this._cachedModuleMap.has(o)){const c=this._cachedModuleMap.get(o);n.push(c)}else a.push(o);n.length&&t(...n),a.length&&this._requireJs(a,(...o)=>{a.forEach((c,l)=>this._cachedModuleMap.set(c,o[l])),t(...o)})}ngOnDestroy(){this._cachedModuleMap.clear(),this._destroy$.next(),this._destroy$.complete()}}Xt.\u0275fac=function(e){return new(e||Xt)},Xt.\u0275prov=s.\u0275\u0275defineInjectable({token:Xt,factory:Xt.\u0275fac,providedIn:"root"});function xi(r,e="value"){return r.map(t=>({displayValue:t.caption,value:t[e]}))}var ki=p(47009);let Sn=class extends $r.\u0275BaseRequest{};Sn=(0,I.__decorate)([(0,ki.h)({type:"crt.CopyClipboardRequest"})],Sn);var In=p(99293);let Vr=class extends i.BaseRequestHandler{constructor(e,t){super(),this._copyClipboardService=e,this._notifyService=t}handle(e){var t=this;return(0,P.Z)(function*(){const n=[{mimeType:"text/plain",data:e.value}];yield t._copyClipboardService.copyToBuffer(n),yield t._notifyService.show({message:"CopyClipboard.Copied"}),yield t.next?.handle(e)})()}};Vr=(0,I.__decorate)([(0,i.CrtRequestHandler)({type:"crt.CopyClipboardRequestHandler",requestType:"crt.CopyClipboardRequest"}),(0,I.__metadata)("design:paramtypes",[In.CopyClipboard,In.NotifyService])],Vr);function ji(r){return i.InterfaceDesignerItemRegistry.get(r)?.collectionPropertyNames||["items"]}function Bi(r){const e=[];return i.ViewElementRegistry.viewElements.get(r)?.contentSlots?.forEach(n=>{if(typeof n=="string")e.push(n);else{const a=n?.name;e.push(a)}}),e}function fr(r){const e=Bi(r),t=ji(r);return[...new Set([...e,...t])]}class H{static _getViewConfigInfo(e,t,n,a,o){const c=[];if(Array.isArray(n))for(let l=0;l<n.length;l++){const h=n[l];t.includes(h[e])&&c.push({viewConfig:h,parentName:a,index:l,parentPropertyName:o}),fr(h.type)?.forEach(S=>{const R=h[S];if(R){const ae=this._getViewConfigInfo(e,t,R,h.name,S);c.push(...ae)}})}return c}static _getViewConfigInfoByFilter(e,t,n,a){const o=[];if(Array.isArray(t))for(let c=0;c<t.length;c++){const l=t[c];e(l)&&o.push({viewConfig:l,parentName:n,index:c,parentPropertyName:a}),fr(l.type)?.forEach(y=>{const S=l[y];if(S){const R=this._getViewConfigInfoByFilter(e,S,l.name,y);o.push(...R)}})}return o}static _isViewModelAttributeBound(e,t){if(!t)return!1;const n=e.viewConfig,a=`\\W\\$${t}\\W`;return H._isAttributeUseInConfig(n,a)}static _isViewModelAttributeBoundInViewModel(e,t){if(!t)return!1;const n=(0,v.cloneDeep)(H.getViewModelConfig(e));n.attributes=n.attributes||{},delete n?.attributes[t];const a=`\\W${t}\\W`;return this._isAttributeUseInConfig(n,a)}static _isAttributeUseInConfig(e,t){const n=JSON.stringify(e);return new RegExp(t).test(n)}static getViewConfigInfoByPropertyForValues(e,t,n){const a=[],o=n??[];for(let c=0;c<o.length;c++){const l=o[c];t.includes(l[e])&&a.push({viewConfig:l,index:c}),fr(l.type)?.forEach(y=>{const S=l[y];if(S){const R=H._getViewConfigInfo(e,t,S,l.name,y);a.push(...R)}})}return a}static getViewConfigInfoByProperty(e,t,n){return H.getViewConfigInfoByPropertyForValues(e,[t],n)}static getViewConfigInfoByFilter(e,t){const n=[],a=t??[];for(let o=0;o<a.length;o++){const c=a[o];e(c)&&n.push({viewConfig:c,index:o}),fr(c.type)?.forEach(h=>{const y=c[h];if(y){const S=H._getViewConfigInfoByFilter(e,y,c.name,h);n.push(...S)}})}return n}static getViewModelAttribute(e,t){return H.getViewModelConfig(e)?.attributes?.[t]}static getViewConfigInfoByName(e,t){return H.getViewConfigInfoByProperty("name",t,e?.viewConfig)[0]||{}}static getViewModelConfig(e,t=!1){return!e.viewModelConfig&&t&&(e.viewModelConfig={}),e.viewModelConfig||{}}static isViewModelAttributeBound(e,t){return t?H._isViewModelAttributeBound(e,t)||H._isViewModelAttributeBoundInViewModel(e,t):!1}}class vn{static _isRTL(){return Terrasoft.utils.common.getIsRtlMode()}static getPageDirection(){return vn._isRTL()?"rtl":"ltr"}}const _a="BPMCSRF";class Jt{constructor(e){this.tokenService=e}intercept(e,t){const n=e.url.toLowerCase();if(e.method==="GET"||e.method==="HEAD"||(n.startsWith("http://")||n.startsWith("https://"))&&!n.startsWith(dn().toLowerCase()))return t.handle(e);const a=this.tokenService.getToken();return a!==null&&!e.headers.has(_a)&&(e=e.clone({headers:e.headers.set(_a,a)})),t.handle(e)}}Jt.\u0275fac=function(e){return new(e||Jt)(s.\u0275\u0275inject(T.HttpXsrfTokenExtractor))},Jt.\u0275prov=s.\u0275\u0275defineInjectable({token:Jt,factory:Jt.\u0275fac,providedIn:"root"});const Sa=(r,e)=>{let t;if(typeof r>"u"||r===null||r==="")t=-1;else{let n;if(typeof r=="string"?n=[r]:Array.isArray(r)&&r.length&&(n=r),!Array.isArray(n)||!n.length)t=-1;else if(e===0)t=n.map(a=>a.length).reduce((a,o)=>a+o);else if(e>0){const a=n.map(c=>c.length).reduce((c,l)=>c+(l>e?e:l)),o=n.length*e;t=o>a?a:o}else t=n.length}return t},Ia=(r,e)=>{let t=r.lastIndexOf(" ",e);return t===-1&&(t=e),(t>r.length||e>=r.length)&&(t=r.length),t},Ui=(r,e,t)=>{let n=Ia(r,e);for(;n>0&&e<Sa(r.slice(0,n),t);)n=n-1;return n=Ia(r,n),(n>-2&&n<1||r[n]===" ")&&(n=n+1),(n>r.length||n<0||n===0&&r.length===1)&&(n=r.length),n};function Hi(r,e){const n=[];let a=r.split("");for(;Sa(a,-1)>0;){const o=Ui(a,e,-1),c=a.slice(0,o).join("").trim();c!==""&&c!==null&&n.push(c),a=a.slice(o)}return n}function va(r){const e=document.cookie.match(new RegExp("(^| )"+r+"=([^;]+)"));return e?e[2]:null}const g="DataValueType",Je={[i.DataValueType.Date]:{type:i.DataValueType.Date,id:"603d4960-a1a2-45e9-b232-206a54421b01",name:"Date",icon:"data-type-date-icon.svg",designerIcon:p(77054),translateKey:`${g}.DateCaption`},[i.DataValueType.Time]:{type:i.DataValueType.Time,id:"04cc757b-8f06-482c-8a1a-0c0e171d2410",name:"Time",icon:"data-type-time-icon.svg",designerIcon:p(99342),translateKey:`${g}.TimeCaption`},[i.DataValueType.DateTime]:{type:i.DataValueType.DateTime,id:"d21e9ef4-c064-4012-b286-fa1a8171da44",name:"DateTime",icon:"data-type-datetime-icon.svg",designerIcon:p(46283),translateKey:`${g}.DateTimeCaption`},[i.DataValueType.Text]:{type:i.DataValueType.Text,id:"8b3f29bb-ea14-4ce5-a5c5-293a929b6ba2",name:"Text",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:p(98873),designerAutonumberIcon:p(50715),translateKey:`${g}.TextCaption`},[i.DataValueType.SHORT_TEXT]:{type:i.DataValueType.SHORT_TEXT,id:"325a73b8-0f47-44a0-8412-7606f78003ac",name:"ShortText",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:p(98873),designerAutonumberIcon:p(50715),translateKey:`${g}.ShortTextCaption`},[i.DataValueType.PHONE_TEXT]:{type:i.DataValueType.PHONE_TEXT,id:"26cba63c-daf1-4f36-b2ea-73c0d675d90c",name:"PhoneText",icon:"data-type-phone-icon.svg",designerIcon:p(6182),translateKey:`${g}.PhoneTextCaption`},[i.DataValueType.WEB_TEXT]:{type:i.DataValueType.WEB_TEXT,id:"26cba64c-daf1-4f36-b2ea-73c0d695d90c",name:"WebText",icon:"data-type-text-icon.svg",designerIcon:p(57102),translateKey:`${g}.WebTextCaption`},[i.DataValueType.EMAIL_TEXT]:{type:i.DataValueType.EMAIL_TEXT,id:"66cba64c-daf1-4f36-b8ea-73c0d695d90c",name:"EmailText",icon:"data-type-text-icon.svg",designerIcon:p(55069),translateKey:`${g}.EmailTextCaption`},[i.DataValueType.MEDIUM_TEXT]:{type:i.DataValueType.MEDIUM_TEXT,id:"ddb3a1ee-07e8-4d62-b7a9-d0e618b00fbd",name:"MediumText",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:p(98873),designerAutonumberIcon:p(50715),translateKey:`${g}.MediumTextCaption`},[i.DataValueType.LONG_TEXT]:{type:i.DataValueType.LONG_TEXT,id:"5ca35f10-a101-4c67-a96a-383da6afacfc",name:"LongText",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:p(98873),designerAutonumberIcon:p(50715),translateKey:`${g}.LongTextCaption`},[i.DataValueType.MAXSIZE_TEXT]:{type:i.DataValueType.MAXSIZE_TEXT,id:"c0f04627-4620-4bc0-84e5-9419dc8516b1",name:"MaxSizeText",icon:"data-type-unlimited-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:p(98873),designerAutonumberIcon:p(50715),translateKey:`${g}.MaxSizeTextCaption`},[i.DataValueType.Integer]:{type:i.DataValueType.Integer,id:"6b6b74e2-820d-490e-a017-2b73d4ccf2b0",name:"Integer",icon:"data-type-integer-icon.svg",designerIcon:p(10063),translateKey:`${g}.IntegerCaption`},[i.DataValueType.FLOAT1]:{type:i.DataValueType.FLOAT1,id:"07ba84ce-0bf7-44b4-9f2c-7b15032eb98c",name:"Float1",icon:"data-type-float1-icon.svg",designerIcon:p(72428),translateKey:`${g}.FLOAT1Caption`},[i.DataValueType.FLOAT2]:{type:i.DataValueType.FLOAT2,id:"5cc8060d-6d10-4773-89fc-8c12d6f659a6",name:"Float2",icon:"data-type-float2-icon.svg",designerIcon:p(72428),translateKey:`${g}.FLOAT2Caption`},[i.DataValueType.FLOAT3]:{type:i.DataValueType.FLOAT3,id:"3f62414e-6c25-4182-bcef-a73c9e396f31",name:"Float3",icon:"data-type-float3-icon.svg",designerIcon:p(72428),translateKey:`${g}.FLOAT3Caption`},[i.DataValueType.FLOAT4]:{type:i.DataValueType.FLOAT4,id:"ff22e049-4d16-46ee-a529-92d8808932dc",name:"Float4",icon:"data-type-float4-icon.svg",designerIcon:p(72428),translateKey:`${g}.FLOAT4Caption`},[i.DataValueType.FLOAT8]:{type:i.DataValueType.FLOAT8,id:"a4aaf398-3531-4a0d-9d75-a587f5b5b59e",name:"Float8",icon:"data-type-float8-icon.svg",designerIcon:p(72428),translateKey:`${g}.FLOAT8Caption`},[i.DataValueType.Guid]:{type:i.DataValueType.Guid,id:"23018567-a13c-4320-8687-fd6f9e3699bd",name:"Guid",icon:"data-type-guid-icon.svg",designerIcon:p(35429),translateKey:`${g}.GuidCaption`},[i.DataValueType.Lookup]:{type:i.DataValueType.Lookup,id:"b295071f-7ea9-4e62-8d1a-919bf3732ff2",name:"Lookup",icon:"data-type-lookup-icon.svg",designerIcon:p(26634),translateKey:`${g}.LookupCaption`},[i.DataValueType.Boolean]:{type:i.DataValueType.Boolean,id:"90b65bf8-0ffc-4141-8779-2420877af907",name:"Boolean",icon:"data-type-boolean-icon.svg",designerIcon:p(23048),translateKey:`${g}.BooleanCaption`},[i.DataValueType.HASH_TEXT]:{type:i.DataValueType.HASH_TEXT,id:"ecbcce18-2a17-4ead-829a-9d02fa9578a4",name:"HashText",icon:"data-type-crs-text-icon.svg",designerIcon:p(98873),translateKey:`${g}.HashTextCaption`},[i.DataValueType.SECURE_TEXT]:{type:i.DataValueType.SECURE_TEXT,id:"3509b9dd-2c90-4540-b82e-8f6ae85d8248",name:"SecureText",icon:"data-type-encrypted-text-icon.svg",designerIcon:p(77732),translateKey:`${g}.SecureTextCaption`},[i.DataValueType.IMAGELOOKUP]:{type:i.DataValueType.IMAGELOOKUP,id:"b039feb0-ee7c-4884-8aa6-d6d45d84316f",name:"ImageLookup",icon:"data-type-image-link-icon.svg",designerIcon:p(63322),translateKey:`${g}.ImageLookupCaption`},[i.DataValueType.Money]:{type:i.DataValueType.Money,id:"969093e2-2b4e-463b-883a-3d3b8c61f0cd",name:"Money",icon:"data-type-float2-icon.svg",designerIcon:p(37786),translateKey:`${g}.MoneyCaption`},[i.DataValueType.Float]:{type:i.DataValueType.Float,id:"57ee4c31-5ec4-45fa-b95d-3a2868aa89a8",name:"Float",icon:"data-type-float1-icon.svg",designerIcon:p(72428),translateKey:`${g}.FloatCaption`},[i.DataValueType.FILE]:{type:i.DataValueType.FILE,id:"a33c9252-d401-453e-949d-169157067ed9",name:"File",icon:"data-type-file-icon.svg",designerIcon:p(88745),translateKey:`${g}.FileCaption`},[i.DataValueType.Image]:{type:i.DataValueType.Image,id:"fa6e6e49-b996-475e-a77e-73904e4c5a88",name:"Image",icon:"data-type-image-icon.svg",designerIcon:p(88745),translateKey:`${g}.ImageCaption`},[i.DataValueType.Blob]:{type:i.DataValueType.Blob,id:"b7342b7a-5dde-40de-aa7c-24d2a57b3202",name:"Blob",icon:"data-type-blob-icon.svg",designerIcon:p(88745),translateKey:`${g}.BlobCaption`},[i.DataValueType.Color]:{type:i.DataValueType.Color,id:"dafb71f9-ee9f-4e0b-a4d7-37aa15987155",name:"Color",icon:"data-type-color-icon.svg",designerIcon:p(84369),translateKey:`${g}.ColorCaption`},[i.DataValueType.RICH_TEXT]:{type:i.DataValueType.RICH_TEXT,id:"79bccffa-8c8b-4863-b376-a69d2244182b",name:"RichText",icon:"data-type-rich-text-icon.svg",designerIcon:p(53771),translateKey:`${g}.RichCaption`},[i.DataValueType.ENTITY]:{type:i.DataValueType.ENTITY,id:"ebd85d37-0abf-4bbf-bb32-97dc3dffcc8c",name:"Entity",icon:"data-type-other-icon.svg",designerIcon:p(98873),translateKey:`${g}.Entity`},[i.DataValueType.ENTITY_COLLECTION]:{type:i.DataValueType.ENTITY_COLLECTION,id:"51fb23ba-3eb2-11e2-b7d5-b0c76188709b",name:"EntityCollection",icon:"data-type-other-icon.svg",designerIcon:p(98873),translateKey:`${g}.EntityCollection`},[i.DataValueType.ENTITY_COLUMN_MAPPING_COLLECTION]:{type:i.DataValueType.ENTITY_COLUMN_MAPPING_COLLECTION,id:"b53eaa2a-4bb7-4a6b-9f4f-58ccab293e31",name:"EntityColumnMappingCollection",icon:"data-type-other-icon.svg",designerIcon:p(98873),translateKey:`${g}.EntityColumnMappingCollection`},[i.DataValueType.CUSTOM_OBJECT]:{type:i.DataValueType.CUSTOM_OBJECT,id:"84ed6865-9692-4c98-aaed-4d15b96a95c2",name:"CustomObject",icon:"data-type-other-icon.svg",designerIcon:p(98873),translateKey:`${g}.CustomObject`},[i.DataValueType.OBJECT_LIST]:{type:i.DataValueType.OBJECT_LIST,id:"4b51a8b5-1ee9-4437-9d58-f35e083cbcdf",name:"ObjectList",icon:"data-type-other-icon.svg",designerIcon:p(98873),translateKey:`${g}.ObjectList`},[i.DataValueType.COMPOSITE_OBJECT_LIST]:{type:i.DataValueType.COMPOSITE_OBJECT_LIST,id:"651ec16f-d140-46db-b9e2-825c985a8ac2",name:"CompositeObjectList",icon:"data-type-other-icon.svg",designerIcon:p(98873),translateKey:`${g}.CompositeObjectList`},[i.DataValueType.COLLECTION]:{type:i.DataValueType.COLLECTION,name:"Collection",icon:"data-type-other-icon.svg",designerIcon:p(98873),translateKey:`${g}.Collection`},[i.DataValueType.LOCALIZABLE_STRING]:{type:i.DataValueType.LOCALIZABLE_STRING,id:"95c6e6c4-2cc8-46be-a1cb-96f942655f86",name:"LocalizableString",icon:"data-type-text-icon.svg",designerIcon:p(98873),translateKey:`${g}.LocalizableString`},[i.DataValueType.METADATA_TEXT]:{type:i.DataValueType.METADATA_TEXT,id:"394e160f-c8e0-46fa-9c0d-75d97e9e9169",name:"MetaDataText",icon:"data-type-text-icon.svg",designerIcon:p(98873),translateKey:`${g}.MetaDataText`}},X={DateTime:[i.DataValueType.Date,i.DataValueType.Time,i.DataValueType.DateTime],Text:[i.DataValueType.Text,i.DataValueType.SHORT_TEXT,i.DataValueType.MEDIUM_TEXT,i.DataValueType.LONG_TEXT,i.DataValueType.PHONE_TEXT,i.DataValueType.WEB_TEXT,i.DataValueType.EMAIL_TEXT,i.DataValueType.MAXSIZE_TEXT,i.DataValueType.LOCALIZABLE_STRING,i.DataValueType.RICH_TEXT],Number:[i.DataValueType.FLOAT1,i.DataValueType.FLOAT2,i.DataValueType.FLOAT3,i.DataValueType.FLOAT4,i.DataValueType.FLOAT8,i.DataValueType.Integer,i.DataValueType.Money,i.DataValueType.Float],Lookup:[i.DataValueType.Lookup,i.DataValueType.IMAGELOOKUP]};var qe=p(51717);function $i(r){let e;switch(r){case i.DataValueType.SHORT_TEXT:e=qe.dataValueTypeTextSize.ShortTextCaption;break;case i.DataValueType.PHONE_TEXT:case i.DataValueType.MEDIUM_TEXT:e=qe.dataValueTypeTextSize.MediumTextCaption;break;case i.DataValueType.LONG_TEXT:case i.DataValueType.EMAIL_TEXT:e=qe.dataValueTypeTextSize.LongTextCaption;break;default:return}return{maxLength:e}}function Gi(r){if([i.DataValueType.Float,i.DataValueType.FLOAT1,i.DataValueType.FLOAT2,i.DataValueType.FLOAT3,i.DataValueType.FLOAT4,i.DataValueType.FLOAT8,i.DataValueType.Money].includes(r))return{minValue:qe.dataValueTypeNumberSize.Float.min,maxValue:qe.dataValueTypeNumberSize.Float.max};if(r===i.DataValueType.Integer)return{minValue:qe.dataValueTypeNumberSize.Integer.min,maxValue:qe.dataValueTypeNumberSize.Integer.max}}var Aa=p(72856),Lr=p(54514);class qt{constructor(e,t){this.iconRegistry=e,this.domSanitizer=t,Object.keys(Je).forEach(n=>{const a=Je[n],o=a.name.toLowerCase();this.iconRegistry.addSvgIconLiteral(`page-designer-${o}`,this.domSanitizer.bypassSecurityTrustHtml(a.designerIcon)),a.designerAutonumberIcon&&this.iconRegistry.addSvgIconLiteral(`page-designer-${o}-autonumber`,this.domSanitizer.bypassSecurityTrustHtml(a.designerAutonumberIcon))})}getDesignerDataValueTypeIcon(e,t=!1){const n=Je[e];if(!n)throw new Error(`Data value type "${e}" not exists`);const a=n.name.toLowerCase();return t?`page-designer-${a}-autonumber`:`page-designer-${a}`}}qt.\u0275fac=function(e){return new(e||qt)(s.\u0275\u0275inject(Aa.MatIconRegistry),s.\u0275\u0275inject(Lr.DomSanitizer))},qt.\u0275prov=s.\u0275\u0275defineInjectable({token:qt,factory:qt.\u0275fac,providedIn:"root"});function Wi(r){const e=Object.keys(X).find(t=>X[t].includes(r));return X[e]}function Zi(r){return r===i.DataValueType.Lookup||r===i.DataValueType.Guid}function zi(r){return Je[r]?.icon||null}function Ki(r){return Object.values(Je).find(e=>e.name===r)?.type}function Yi(r){return r=r||new Date,new Date(r.getFullYear(),r.getMonth(),r.getDate())}function Xi(r){return r=r||new Date,new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999)}function An(r){if(!r)return null;function e(){throw new Error(`String "${r}" is not a valid serialized date.`)}typeof r!="string"&&e();const[t,n]=r.split("T");if(n&&(n[n.length-1]==="Z"||n.indexOf("+")!==-1||n.indexOf("-")!==-1)){const o=Date.parse(r);return isNaN(o)&&e(),new Date(o)}try{const[o,c,l]=t.split("-"),[h,y,S]=n.split(":"),[R,ae]=S.split(".");return new Date(parseInt(o),parseInt(c)-1,parseInt(l),parseInt(h),parseInt(y),parseInt(R),parseInt(ae))}catch{e()}}function Ji(r,e){e==null&&(e=0),r.setSeconds(r.getSeconds()+e*3600)}function qi(r,e,t){const n=t||{hour:"2-digit",minute:"2-digit"};return new Intl.DateTimeFormat(e.sysCultureName,n).format(r)}function Qi(r){const e=[`[?\\/:*"'<>|+s.%@&()#][;,]`,"[^0-9a-z\xC0-\u017E\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC\u0430-\u044F\u0456\u0457\u0491\u0454]"],t=new RegExp(e.join("|"),"gi");return r=r.replace(t,"_"),r=r.replace(/_{2,}/g,"_"),r.toLowerCase()}function eo(r){return r.replace(/\.+/g,"").replace(/\[+/g,"").replace(/\]+/g,"").replace(/:+/g,"")}function to(r,e,t){return r.post(e,t,{headers:new T.HttpHeaders({"Content-Type":"application/json"})})}function Ca(r,e,t){return!r||!e||!t}function Da(r,e){return`/img/entity/hash/${r}/${e}/`}function ro(r,e="SysImage",t="Data"){if(Ca(r,e,t))return"";const n=Da(e,t);return`${pr()}${n}${r}`}function no(r,e="SysImage",t="Data"){return Ca(r,e,t)?"":`${Da(e,t)}${r}`}function ba(r,e){switch(i.ValidationUtilities.checkArgumentEmpty("dataValueType",e),e){case i.DataValueType.Date:case i.DataValueType.Time:case i.DataValueType.DateTime:return An(r);default:return r}}function Ma(r,e){if(i.ValidationUtilities.checkArgumentEmpty("columnValueTypes",e),!r)return r;const t={};return Object.keys(r).forEach(n=>{const a=r[n];t[n]=e[n]?ba(a,e[n]):a}),t}function ao(r,e){return i.ValidationUtilities.checkArgumentEmpty("columnValueTypes",e),r&&r.map(t=>t&&Ma(t,e))}function so(r,e,t=!1){return r==null&&e==null&&t===!0?!0:r?.cultureName===e?.cultureName&&r?.value===e?.value}function io(r,e,t=!1){if(r==null&&e==null)return t===!0;const n=new Y(r),a=new Y(e);return n.length!==a.length?!1:n.every(o=>{const c=a.getLocalizableString(o.cultureName);return so(o,c,t)})}class Ra{constructor(e){this.precision=2,Object.assign(this,e)}}class wa{constructor(e={}){this.decimalSeparator=e.decimalSeparator||"",this.thousandSeparator=e.thousandSeparator||""}}class Qe{constructor(e){this._userInfo=e,this._digitsInRank=3}_collapseRepeatedChar(e,t){return e.replace(new RegExp(`[\\${t}]{1,}`,"g"),t)}_insertThousandSeparators(e,t){const n=e.split("");for(let a=n.length-this._digitsInRank;a>0;a-=this._digitsInRank)n.splice(a,0,t);return n.join("")}formatNumberValue(e,t=null){if(e=parseFloat(e&&e.toString()),!e||isNaN(e))return"0";let n="";e<0&&(n="-"),t=t||new Ra;const a=this.getNumberFormatInfo(),{decimalSeparator:o,thousandSeparator:c}=a,l=e.toFixed(t.precision).split(".");let h=l[0].replace("-","");t.ignoreThousandSeparator||(h=this._insertThousandSeparators(h,c));const y=l.length>1?l[1].replace(/0{1,}$/,""):"";return y!==""?`${n}${h}${o}${y}`:`${n}${h}`}removeFractionalPart(e){const t=".",[n]=e.toString().split(t);return n}getNumberFormatInfo(){const e=this._userInfo.cultureInfo;return new wa({decimalSeparator:e.decimalSeparator,thousandSeparator:e.thousandSeparator})}parseStringToNumber(e,t=2){if(!e)return NaN;typeof e!="string"&&(e=String(e));const n=this.getNumberFormatInfo().decimalSeparator;let a=this.formatStringValue(e);a=a.replace(n,".");const o=parseFloat(a);return Number(o.toFixed(t))}formatStringValue(e){typeof e!="string"&&(e=String(e));const t=e.match(/^-/)||"",n=this.getNumberFormatInfo().decimalSeparator,a=this._collapseRepeatedChar(e,n),o=new RegExp(`[^0-9\\${n}]+`,"g");return t+a.replace(o,"")}convertNumericStringToExponentialFormat(e,t=2){if(e&&e!==""){const n=parseFloat(e);if(!isNaN(n))return n.toExponential(t)}return""}}Qe.\u0275fac=function(e){return new(e||Qe)(s.\u0275\u0275inject(w))},Qe.\u0275prov=s.\u0275\u0275defineInjectable({token:Qe,factory:Qe.\u0275fac,providedIn:"root"});function Cn(r,e){return Object.keys(r).every(t=>Object.prototype.hasOwnProperty.call(e,t)?typeof r[t]=="object"?Fa(r[t],e[t]):!0:!1)}function Fa(r,e){return Cn(r,e)&&Cn(e,r)}function Oa(r,e){const t=Array.isArray(e)?e:e.split(".");let n=r;for(const a of t)if(n instanceof Map)n=n.get(a);else if(n&&typeof n=="object")n=n[a];else return;return n}const Pa="ssp",Va=r=>b.Location.joinWithSlash(Pa,r);class oo{constructor(e){this._userInfoService=e}_getSkipProcessUrl(e){const t=e.includes("GetCurrentUserInfo"),n=e.includes("GetFeatureStates"),a=/^https?:\/\//i.test(e),o=/ssp\//i.test(e),c=/rest\//i.test(e);return t||n||a||o||!c}intercept(e,t){const n=e.url;return this._getSkipProcessUrl(n)?t.handle(e):this._userInfoService.loadCurrentUserInfo().pipe((0,d.map)(a=>a?.userInfo?.isSSP||!1),(0,u.switchMap)(a=>{if(!a)return t.handle(e);const o=e.clone({url:Va(n)});return t.handle(o)}))}}function La(r){return typeof r=="string"}function co(r){const e=r.substring(1,r.length-1);return parseInt(e,10)}function Na(r,e){return r.replace(/{[0-9]}/g,t=>{const n=co(t);return e[n]?e[n].toString():""})}function lo(r){return r.charAt(0).toUpperCase()+r.slice(1)}function uo(r){return r.charAt(0).toLowerCase()+r.slice(1)}function xa(r){let e=0;if(!La(r)||r.length===0)return e;for(let t=0;t<r.length;t++)e=r.charCodeAt(t)+(e<<5)-e,e=e&e;return e}function po(r){const e=new u.Subscription;for(const t of r)e.add(t);return e}function ho(r,e,t){const n=r.toLowerCase();switch(t){case He.Contains:return n.includes(e);case He.StartsWith:return n.indexOf(e)===0;case He.Equals:return n===e}}function fo(r,e=He.Contains){return i.ValidationUtilities.checkArgumentEmpty("columnSelectors",r),(t,n)=>n?r.some(a=>{const o=typeof a=="string"?t[a]:a(t);return!o||typeof o!="string"?!1:ho(o,n,e)}):!0}function mo(r,e=[],t=[]){const n=new Set(t);return[...new Set([...r,...e])].filter(a=>!n.has(a))}class et{_buildRequestUrl(e){return this._isAbsoluteUrl(e)?e:b.Location.joinWithSlash(this.getUrl(),e)}_isAbsoluteUrl(e){return/^https?:\/\//i.test(e)}getUrl(){return pr()}intercept(e,t){return e=e.clone({url:this._buildRequestUrl(e.url)}),t.handle(e).pipe((0,d.catchError)(n=>(console.log(n),(0,u.throwError)(n))))}}et.\u0275fac=function(e){return new(e||et)},et.\u0275prov=s.\u0275\u0275defineInjectable({token:et,factory:et.\u0275fac});function go(r){return`${r.typeCaption===r.caption?r.caption:`${r.typeCaption} ${r.caption}`.trim()} | ${r.name}`}class tt extends et{getUrl(){return K()}}tt.\u0275fac=function(){let r;return function(t){return(r||(r=s.\u0275\u0275getInheritedFactory(tt)))(t||tt)}}(),tt.\u0275prov=s.\u0275\u0275defineInjectable({token:tt,factory:tt.\u0275fac});const yo=r=>r;function To(r){const{altKey:e,code:t,ctrlKey:n,shiftKey:a,metaKey:o}=r;return t==="Escape"&&!n&&!a&&!e&&!o}function Eo(r){const{altKey:e,code:t,ctrlKey:n,shiftKey:a,metaKey:o}=r;return t==="KeyS"&&(n||o)&&!a&&!e}function _o(r){const{altKey:e,code:t,ctrlKey:n,shiftKey:a,metaKey:o}=r;return t==="KeyZ"&&(n||o)&&a&&!e}function So(r){const{altKey:e,code:t,ctrlKey:n,shiftKey:a,metaKey:o}=r;return t==="KeyZ"&&(n||o)&&!a&&!e}function Io(){return va("UserType")==="SSP"?"ssp/":""}let he=class{};he.\u0275fac=function(e){return new(e||he)},he.\u0275mod=s.\u0275\u0275defineNgModule({type:he}),he.\u0275inj=s.\u0275\u0275defineInjector({providers:[ge,ye,Qe,Ge,ce,{provide:Cr,useFactory:r=>r.requirejs,deps:[m.WINDOW_TOKEN]},Te,_e,Ee,Se],imports:[A.TranslateModule]}),he=(0,I.__decorate)([(0,i.CrtModule)({requestHandlers:[Vr]})],he),function(){(typeof ngJitMode>"u"||ngJitMode)&&s.\u0275\u0275setNgModuleScope(he,{imports:[A.TranslateModule]})}();var $;(function(r){r[r.Operator=0]="Operator",r[r.Operand=1]="Operand",r[r.Function=2]="Function"})($||($={}));var x;(function(r){r[r.Const=0]="Const",r[r.Column=1]="Column",r[r.SysSetting=2]="SysSetting",r[r.SysVariable=3]="SysVariable"})(x||(x={}));var k;(function(r){r[r.Addition=0]="Addition",r[r.Subtraction=1]="Subtraction",r[r.Multiplication=2]="Multiplication",r[r.Division=3]="Division"})(k||(k={}));const vo=r=>{switch(r){case"*":return k.Multiplication;case"/":return k.Division;case"+":return k.Addition;case"-":return k.Subtraction;default:throw new Error(`arithmetic operator: ${r} not supporting`)}},ka=r=>{switch(r){case k.Addition:return"+";case k.Subtraction:return"-";case k.Multiplication:return"*";case k.Division:return"/";default:throw new Error("Unsupported arithmetic operator type")}};var j;(function(r){r[r.Parentheses=0]="Parentheses",r[r.Arithmetic=1]="Arithmetic",r[r.Relation=2]="Relation",r[r.Ternary=3]="Ternary",r[r.Comma=4]="Comma",r[r.Point=5]="Point"})(j||(j={}));var J;(function(r){r[r.Equal=0]="Equal",r[r.NotEqual=1]="NotEqual",r[r.Less=2]="Less",r[r.LessOrEqual=3]="LessOrEqual",r[r.Greater=4]="Greater",r[r.GreaterOrEqual=5]="GreaterOrEqual"})(J||(J={}));const ja=r=>{switch(r){case J.Equal:return"==";case J.NotEqual:return"!=";case J.Greater:return">";case J.GreaterOrEqual:return">=";case J.Less:return"<";case J.LessOrEqual:return"<=";default:throw new Error("Unsupported relation operator type")}};var q;(function(r){r[r.SchemaColumn=0]="SchemaColumn",r[r.SubQuery=1]="SubQuery",r[r.Aggregation=2]="Aggregation"})(q||(q={}));class Nr{}class Ao extends Nr{registerFactory(e,t){throw new Error("Method not implemented.")}createExpression(e,t){throw new Error("Method not implemented.")}}class Dn{static _isSupportedResultDataType(e,t){if(e==null||t==null)return!1;const n=this._supportedDataTypesPriority[e]!=null,a=this._supportedDataTypesPriority[t]!=null;return n&&a}static _getSupportedResultDataType(e,t){const n=this._supportedDataTypesPriority[e],a=this._supportedDataTypesPriority[t];return n>=a?e:t}static getResultDataType(e,t){const n=e?.dataType,a=t?.dataType;return this._isSupportedResultDataType(n,a)?this._getSupportedResultDataType(n,a):null}}Dn._supportedDataTypesPriority={[i.DataValueType.Integer]:0,[i.DataValueType.FLOAT1]:1,[i.DataValueType.Float]:2,[i.DataValueType.FLOAT2]:3,[i.DataValueType.Money]:4,[i.DataValueType.FLOAT3]:5,[i.DataValueType.FLOAT4]:6,[i.DataValueType.FLOAT8]:7};class xr{static _getNumericDataType(e){const t=e.indexOf(this.DECIMAL_SEPARATOR);if(t===-1)return i.DataValueType.Integer;const a=e.slice(t+1,e.length).length;return this._getNumericDataTypeByPrecision(a)}static _getNumericDataTypeByPrecision(e){return e>4?i.DataValueType.FLOAT8:e===4?i.DataValueType.FLOAT4:e===3?i.DataValueType.FLOAT3:e===2?i.DataValueType.Float:i.DataValueType.FLOAT1}static getResultDataType(e){return typeof e=="boolean"?i.DataValueType.Boolean:typeof e=="number"?this._getNumericDataType(e.toString()):typeof e=="string"?this.NUMBER_REGEX.test(e)?this._getNumericDataType(e):i.DataValueType.Text:null}}xr.NUMBER_REGEX=/^\d+\.{0,1}\d*$/,xr.DECIMAL_SEPARATOR=".";class mr{constructor(e,t){this.type=e,this.dataType=t}}class Ba extends mr{constructor(e,t,n){super($.Function,t),this.code=e,this.arguments=n}get definitionId(){return this.code}accept(e){return e&&e.visitFunctionExpression(this)}}class gr extends mr{constructor(e,t){super($.Operand,t),this.operandType=e}}function bn(r){return r?.columnPath}class Mn extends gr{constructor(e,t){super(x.Column,t),this.columnPath=e,this.columnOperandType=q.SchemaColumn}get definitionId(){return bn(this)}accept(e){return e&&e.visitColumnOperandExpression(this)}}function Rn(r){const e=bn(r),t=xa(r?.subFilters);return`${e}_${t}`}class wn extends Mn{constructor(e,t,n){super(e,t),this.subFilters=n,this.columnOperandType=q.SubQuery}get definitionId(){return Rn(this)}accept(e){return e&&e.visitSubQueryOperandExpression(this)}}function Ua(r){return`${Rn(r)}_${r?.aggregationType}`}class Ha extends wn{constructor(e,t,n,a){super(e,t,a),this.aggregationType=n,this.columnOperandType=q.Aggregation}get definitionId(){return Ua(this)}accept(e){return e&&e.visitAggregationSubQueryOperandExpression(this)}}class $a extends gr{constructor(e,t){super(x.Const,t??xr.getResultDataType(e)),this.value=e}get definitionId(){}accept(e){return e&&e.visitConstOperandExpression(this)}}class Ga extends gr{constructor(e,t){super(x.SysSetting,t),this.code=e}get definitionId(){return this.code}accept(e){return e&&e.visitSysSettingOperandExpression(this)}}class Wa extends gr{constructor(e,t){super(x.SysVariable,t),this.name=e}get definitionId(){return this.name}accept(e){return e&&e.visitSysVariableOperandExpression(this)}}class kr extends mr{constructor(e,t){super($.Operator,t),this.operatorType=e}}class Fn extends kr{constructor(e,t,n,a){super(e,t),this.leftExpression=n,this.rightExpression=a}}class Za extends Fn{constructor(e,t,n){super(j.Arithmetic,Dn.getResultDataType(t,n),t,n),this.arithmeticOperatorType=e}get definitionId(){return ka(this.arithmeticOperatorType)}accept(e){return e&&e.visitArithmeticOperatorExpression(this)}}class za extends kr{constructor(e,t){super(e,t?.dataType),this.expression=t}}class Ka extends za{constructor(e){super(j.Parentheses,e)}get definitionId(){}accept(e){return e&&e.visitParenthesesOperatorExpression(this)}}class Ya extends Fn{constructor(e,t,n){super(j.Relation,i.DataValueType.Boolean,t,n),this.relationOperatorType=e}get definitionId(){return ja(this.relationOperatorType)}accept(e){return e&&e.visitRelationOperatorExpression(this)}}class Xa extends kr{constructor(e,t,n){super(j.Ternary,t.dataType),this.condition=e,this.thenExpression=t,this.elseExpression=n}get definitionId(){return"ternary"}accept(e){return e&&e.visitTernaryOperatorExpression(this)}}class F{constructor(e){this.expressionFactoryMediator=e}getDataType(e){return this.getObjectField(e,"dataType")}getDefinitionId(e){return this.getObjectField(e,"definitionId")}getExpression(e,t,n){const a=this.getObjectField(e,t);return this.expressionFactoryMediator.createExpression(n||"expression",a)}getObjectField(e,t){return e[t]}getEnumValue(e,t){if(t==null||t==="")return null;const n=+t;if(!isNaN(n))return n;const a=Object.entries(e).find(([o])=>o.toLocaleLowerCase()===t.toString().toLocaleLowerCase()&&Object.prototype.hasOwnProperty.call(e,o));return a?a[1]:null}getEnumValueByObject(e,t,n){const a=this.getObjectField(t,n);return this.getEnumValue(e,a)}}class Ja extends F{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"code"),n=this.getDataType(e),o=this.getObjectField(e,"arguments").map(c=>this.expressionFactoryMediator.createExpression("expression",c));return new Ba(t,n,o)}}class qa extends F{constructor(e){super(e)}createExpression(e){const t=this.getDataType(e),n=this.getObjectField(e,"columnPath"),a=this.getObjectField(e,"subFilters"),o=this.getEnumValueByObject(i.AggregationType,e,"aggregationType");return new Ha(n,t,o,a)}}class Qa extends F{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(q,e,"columnOperandType")){case q.Aggregation:return this.expressionFactoryMediator.createExpression("aggregationSubQueryOperandExpression",e);case q.SubQuery:return this.expressionFactoryMediator.createExpression("subQueryOperandExpression",e);case q.SchemaColumn:default:return this.expressionFactoryMediator.createExpression("schemaColumnOperandExpression",e)}}}class es extends F{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"value"),n=this.getDataType(e);return new $a(t,n)}}class ts extends F{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(x,e,"operandType")){case x.Column:return this.expressionFactoryMediator.createExpression("columnOperandExpression",e);case x.Const:return this.expressionFactoryMediator.createExpression("constantOperandExpression",e);case x.SysSetting:return this.expressionFactoryMediator.createExpression("sysSettingOperandExpression",e);case x.SysVariable:return this.expressionFactoryMediator.createExpression("sysVariableOperandExpression",e);default:{const n=this.getObjectField(e,"operandType");throw new Error(`The '${n}' operand type is not supported.`)}}}}class rs extends F{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"columnPath"),n=this.getDataType(e);return new Mn(t,n)}}class ns extends F{constructor(e){super(e)}createExpression(e){const t=this.getDataType(e),n=this.getObjectField(e,"columnPath"),a=this.getObjectField(e,"subFilters");return new wn(n,t,a)}}class as extends F{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"code"),n=this.getDataType(e);return new Ga(t,n)}}class ss extends F{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"name"),n=this.getDataType(e);return new Wa(t,n)}}class is extends F{constructor(e){super(e)}getLeftExpression(e){return this.getExpression(e,"leftExpression")}getRightExpression(e){return this.getExpression(e,"rightExpression")}}class os extends is{constructor(e){super(e)}createExpression(e){const t=this.getEnumValueByObject(k,e,"arithmeticOperatorType"),n=this.getLeftExpression(e),a=this.getRightExpression(e);return new Za(t,n,a)}}class cs extends F{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(j,e,"operatorType")){case j.Arithmetic:return this.expressionFactoryMediator.createExpression("arithmeticOperatorExpression",e);case j.Parentheses:return this.expressionFactoryMediator.createExpression("parenthesesOperatorExpression",e);case j.Relation:return this.expressionFactoryMediator.createExpression("relationOperatorExpression",e);case j.Ternary:return this.expressionFactoryMediator.createExpression("ternaryOperatorExpression",e);default:{const n=this.getObjectField(e,"operatorType");throw new Error(`The '${n}' operator type is not supported.`)}}}}class Co extends F{constructor(e){super(e)}getInnerExpression(e){return this.getExpression(e,"expression")}}class ls extends Co{constructor(e){super(e)}createExpression(e){const t=this.getInnerExpression(e);return new Ka(t)}}class us extends is{constructor(e){super(e)}createExpression(e){const t=this.getEnumValueByObject(J,e,"relationOperatorType"),n=this.getLeftExpression(e),a=this.getRightExpression(e);return new Ya(t,n,a)}}class ds extends F{constructor(e){super(e)}createExpression(e){const t=this.getExpression(e,"condition","relationOperatorExpression"),n=this.getExpression(e,"thenExpression"),a=this.getExpression(e,"elseExpression");return new Xa(t,n,a)}}class ps extends F{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject($,e,"type")){case $.Function:return this.expressionFactoryMediator.createExpression("functionExpression",e);case $.Operand:return this.expressionFactoryMediator.createExpression("operandExpression",e);case $.Operator:return this.expressionFactoryMediator.createExpression("operatorExpression",e);default:{const n=this.getObjectField(e,"type");throw new Error(`The '${n}' expression type is not supported.`)}}}}class rt extends Nr{constructor(){super(),this._factories=new Map}registerFactory(e,t){this._factories.set(e,t)}createExpression(e,t){if(this._factories.has(e))return this._factories.get(e).createExpression(t);throw new Error(`Factory for the '${e}' expression is not registered.`)}}rt.\u0275fac=function(e){return new(e||rt)},rt.\u0275prov=s.\u0275\u0275defineInjectable({token:rt,factory:rt.\u0275fac,providedIn:"root"});class Qt{}Qt.\u0275fac=function(e){return new(e||Qt)},Qt.\u0275mod=s.\u0275\u0275defineNgModule({type:Qt}),Qt.\u0275inj=s.\u0275\u0275defineInjector({providers:[{provide:Nr,useFactory:()=>{const r=new rt;return r.registerFactory("expression",new ps(r)),r.registerFactory("functionExpression",new Ja(r)),r.registerFactory("operandExpression",new ts(r)),r.registerFactory("columnOperandExpression",new Qa(r)),r.registerFactory("aggregationSubQueryOperandExpression",new qa(r)),r.registerFactory("schemaColumnOperandExpression",new rs(r)),r.registerFactory("subQueryOperandExpression",new ns(r)),r.registerFactory("constantOperandExpression",new es(r)),r.registerFactory("sysSettingOperandExpression",new as(r)),r.registerFactory("sysSettingOperandExpression",new ss(r)),r.registerFactory("operatorExpression",new cs(r)),r.registerFactory("arithmeticOperatorExpression",new os(r)),r.registerFactory("parenthesesOperatorExpression",new ls(r)),r.registerFactory("relationOperatorExpression",new us(r)),r.registerFactory("ternaryOperatorExpression",new ds(r)),r}}]});class Do{}class bo extends F{constructor(e){super(e)}createExpression(e){throw new Error("Method not implemented.")}}class Mo extends mr{constructor(e,t=i.DataValueType.Integer){super($.Operand,t),this.id=e}get definitionId(){return this.id}accept(e){throw new Error("Method not implemented.")}}const Ro={id:(0,i.generateGuid)()};class wo{constructor(e){this.visitResultMock=e}visitFunctionExpression(e){return this.visitResultMock}visitAggregationSubQueryOperandExpression(e){return this.visitResultMock}visitColumnOperandExpression(e){return this.visitResultMock}visitConstOperandExpression(e){return this.visitResultMock}visitSubQueryOperandExpression(e){return this.visitResultMock}visitSysSettingOperandExpression(e){return this.visitResultMock}visitSysVariableOperandExpression(e){return this.visitResultMock}visitArithmeticOperatorExpression(e){return this.visitResultMock}visitParenthesesOperatorExpression(e){return this.visitResultMock}visitRelationOperatorExpression(e){return this.visitResultMock}visitTernaryOperatorExpression(e){return this.visitResultMock}}class er{createObserver(e,t,n){return new hs(e,t,n)}}er.\u0275fac=function(e){return new(e||er)},er.\u0275prov=s.\u0275\u0275defineInjectable({token:er,factory:er.\u0275fac,providedIn:"root"});class hs{constructor(e,t,n){if(this._bottomBuffer=100,this._lastScrollMaxPosition=0,this._emitter=new s.EventEmitter,i.ValidationUtilities.checkArgumentEmpty("element",e),this._element=e,this._subscribeOnScroll(),n){if(n<=0)throw new Error(`Value of 'bottomBuffer' paramter must be positive, but actual value is ${n}.`);this._bottomBuffer=n}t&&this.subscribe(t)}_isWindowObserved(e){return!(this._element instanceof HTMLElement)}_scrolledToBottom(){const e=this._element,t=this._isWindowObserved(e)?e.document.documentElement.scrollTop:e.scrollTop,n=this._isWindowObserved(e)?e.document.body.scrollHeight:e.scrollHeight,a=this._isWindowObserved(e)?e.innerHeight:e.offsetHeight;if(!n||!a)return!1;const o=n-a-this._bottomBuffer;return this._lastScrollMaxPosition=t>this._lastScrollMaxPosition?t:this._lastScrollMaxPosition,this._lastScrollMaxPosition===t&&t>=o}_processScroll(){this._scrolledToBottom()&&this._emitter.emit()}_subscribeOnScroll(){this._eventListener=this._processScroll.bind(this),this._element.addEventListener("scroll",this._eventListener)}subscribe(e){this._emitter.subscribe(e)}resetScrollMaxPosition(){this._lastScrollMaxPosition=0}destroy(){this._element.removeEventListener("scroll",this._eventListener),this._element=null,this._emitter.unsubscribe()}}const Fo="a29a3ba5-4b0d-de11-9a51-005056c00008",Oo="720b771c-e7a7-4f31-9cfb-52cd21c3739f";var On;(function(r){r[r.Organization=0]="Organization",r[r.Division=1]="Division",r[r.Manager=2]="Manager",r[r.Team=3]="Team",r[r.User=4]="User",r[r.SelfServicePortalUser=5]="SelfServicePortalUser",r[r.FunctionalRole=6]="FunctionalRole"})(On||(On={}));class Po{}class tr{constructor(e,t,n,a){this._id=e,this._value=t,this._level=n&&n.level+1||tr.rootLevel,this._parent=n,this._children=(a||new Array).map(o=>o&&new tr(o.id,o.value,this,o.children))}get id(){return this._id}get value(){return this._value}get level(){return this._level}get parent(){return this._parent}get children(){return this._children}findChild(e){return this.children.find(t=>t.id===e)}appendChild(e){this.children.push(e&&new tr(e.id,e.value,this,e.children))}removeChild(e){const t=this.children.findIndex(n=>n.id===e.id);this.children.splice(t,1)}toJSON(){return{id:this.id,value:this.value,level:this.level,parentId:this.parent?this.parent.id:null,children:this.children?this.children.map(e=>e.toJSON()):[]}}}tr.rootLevel=0;function Vo(r,e){return typeof r=="object"?r[e]:r}class Lo{constructor(){this.code=(0,i.generateGuid)(),this.message=(0,i.generateGuid)()}}var nt=p(8785);const fs=new s.InjectionToken("Represents a string pattern of the translation key for validation error");class Ce{constructor(e,t){this.translateService=e,this.errorTranslationKeyPattern=t}getLocalizableErrorMessage(e){const t=nt.String.Format(this.errorTranslationKeyPattern,(0,v.upperFirst)(e.code)),n=this.translateService.instant(t),a=e.interpolateParams||[];return nt.String.Format(n,...a)}translateErrorMessage(e){e.message=this.getLocalizableErrorMessage(e)}}Ce.\u0275fac=function(e){return new(e||Ce)(s.\u0275\u0275inject(A.TranslateService),s.\u0275\u0275inject(fs))},Ce.\u0275prov=s.\u0275\u0275defineInjectable({token:Ce,factory:Ce.\u0275fac,providedIn:"root"});class Pn{}class rr{constructor(e=[]){this.errors=e}static createSuccess(){return new rr}static createError(e){return new rr(e)}static unionResults(...e){const t=e.map(n=>n?.errors||[]).reduce((n,a)=>n.concat(a),[]);return new rr(t)}get success(){return!(this.errors&&this.errors.length>0)}}const Vn=new s.InjectionToken("Represents a collection of validators");class at extends Pn{constructor(e){super(),this._validators=e}validate(e){const n=this._validators.map(a=>a.validate(e)).map(a=>a.errors).reduce((a,o)=>a.concat(o),[]);return new rr(n)}}at.\u0275fac=function(e){return new(e||at)(s.\u0275\u0275inject(Vn))},at.\u0275prov=s.\u0275\u0275defineInjectable({token:at,factory:at.\u0275fac});class nr extends at{constructor(e,t){super(e),this._validationErrorTranslateService=t}validate(e){const t=super.validate(e);return t.errors.forEach(n=>{this._validationErrorTranslateService.translateErrorMessage(n)}),t}}nr.\u0275fac=function(e){return new(e||nr)(s.\u0275\u0275inject(Vn),s.\u0275\u0275inject(Ce))},nr.\u0275prov=s.\u0275\u0275defineInjectable({token:nr,factory:nr.\u0275fac});class No extends Ce{constructor(){super(null,null),this.id=(0,i.generateGuid)()}}class xo extends Pn{validate(e){throw new Error("Method not implemented.")}}var ms=p(34560);class ko{static schemaNameValidator(){return ms.Validators.pattern(/^[a-zA-Z]+[a-zA-Z0-9._]*$/)}static linkValidator(){return ms.Validators.pattern(/^[A-Za-z][A-Za-z\d.+-]*:\/*(?:\w+(?::\w+)?@)?[^\s/]+(?::\d+)?(?:\/[\w#!:.?+=&%@\-/]*)?$/)}static debounceValidator(e){return t=>(0,u.timer)(400).pipe((0,d.switchMap)(()=>e(t.value)))}static requiredWithPrefix(e){return t=>{const n=t.value,a=n?.startsWith(e);return e&&a?n.replace(e,"")?null:{requiredWithPrefix:{prefix:e}}:null}}static prefix(e){return t=>e&&!t.value?.startsWith(e)?{prefix:{requiredPrefix:e}}:null}static duplicate(e){return t=>{if(e){const n=e.map(o=>o.toLowerCase()),a=t.value?.toLowerCase();if(n.some(o=>a===o))return{duplicate:!0}}return null}}static duplicateAsync(e){return t=>e.pipe((0,d.map)(n=>{if(n){const a=n.map(c=>c.toLowerCase()),o=t.value?.toLowerCase();if(a.some(c=>o===c))return{duplicate:!0}}return null}))}}class De{static getDateTypeValueGroup(e){let t;switch(e){case i.DataValueType.Date:case i.DataValueType.Time:case i.DataValueType.DateTime:t=this._changeColumnDataValueTypeGroup.DateTime;break;case i.DataValueType.PHONE_TEXT:t=this._changeColumnDataValueTypeGroup.PhoneText;break;case i.DataValueType.WEB_TEXT:t=this._changeColumnDataValueTypeGroup.WebText;break;case i.DataValueType.EMAIL_TEXT:t=this._changeColumnDataValueTypeGroup.EmailText;break;case i.DataValueType.Text:case i.DataValueType.SHORT_TEXT:case i.DataValueType.MEDIUM_TEXT:case i.DataValueType.LONG_TEXT:case i.DataValueType.MAXSIZE_TEXT:t=this._changeColumnDataValueTypeGroup.Text;break;case i.DataValueType.RICH_TEXT:t=this._changeColumnDataValueTypeGroup.RichText;break;case i.DataValueType.Integer:case i.DataValueType.FLOAT1:case i.DataValueType.FLOAT2:case i.DataValueType.FLOAT3:case i.DataValueType.FLOAT4:case i.DataValueType.FLOAT8:case i.DataValueType.Money:t=this._changeColumnDataValueTypeGroup.Number;break;default:t=[]}return t.map(n=>Je[n])}static _removeItems(e,t){const n=[...e];return t.forEach(a=>{const o=n.indexOf(a);o>-1&&n.splice(o,1)}),n}static getAllowedChangeTypes(e){return this.getDateTypeValueGroup(e).filter(({type:n})=>n!==e)}static isPrecisionLost(e,t){return e===t?!1:!this.dataValueTypeConvertRules[e]?.canConvertTo.includes(t)}}De.dataValueTypeConvertRules={[i.DataValueType.DateTime]:{canConvertTo:[]},[i.DataValueType.Date]:{canConvertTo:[i.DataValueType.DateTime]},[i.DataValueType.Time]:{canConvertTo:[i.DataValueType.DateTime]},[i.DataValueType.SHORT_TEXT]:{canConvertTo:[i.DataValueType.PHONE_TEXT,i.DataValueType.WEB_TEXT,i.DataValueType.EMAIL_TEXT,i.DataValueType.MEDIUM_TEXT,i.DataValueType.LONG_TEXT,i.DataValueType.MAXSIZE_TEXT,i.DataValueType.RICH_TEXT]},[i.DataValueType.PHONE_TEXT]:{canConvertTo:[i.DataValueType.MEDIUM_TEXT,i.DataValueType.LONG_TEXT,i.DataValueType.MAXSIZE_TEXT,i.DataValueType.RICH_TEXT]},[i.DataValueType.WEB_TEXT]:{canConvertTo:[i.DataValueType.MEDIUM_TEXT,i.DataValueType.LONG_TEXT,i.DataValueType.MAXSIZE_TEXT,i.DataValueType.RICH_TEXT]},[i.DataValueType.EMAIL_TEXT]:{canConvertTo:[i.DataValueType.MEDIUM_TEXT,i.DataValueType.LONG_TEXT,i.DataValueType.MAXSIZE_TEXT,i.DataValueType.RICH_TEXT]},[i.DataValueType.MEDIUM_TEXT]:{canConvertTo:[i.DataValueType.LONG_TEXT,i.DataValueType.MAXSIZE_TEXT,i.DataValueType.RICH_TEXT]},[i.DataValueType.LONG_TEXT]:{canConvertTo:[i.DataValueType.MAXSIZE_TEXT,i.DataValueType.RICH_TEXT]},[i.DataValueType.MAXSIZE_TEXT]:{canConvertTo:[i.DataValueType.RICH_TEXT]},[i.DataValueType.Integer]:{canConvertTo:[i.DataValueType.FLOAT1,i.DataValueType.FLOAT2,i.DataValueType.FLOAT3,i.DataValueType.FLOAT4,i.DataValueType.FLOAT8,i.DataValueType.Money]},[i.DataValueType.FLOAT1]:{canConvertTo:[i.DataValueType.FLOAT2,i.DataValueType.FLOAT3,i.DataValueType.FLOAT4,i.DataValueType.FLOAT8,i.DataValueType.Money]},[i.DataValueType.FLOAT2]:{canConvertTo:[i.DataValueType.FLOAT3,i.DataValueType.FLOAT4,i.DataValueType.FLOAT8,i.DataValueType.Money]},[i.DataValueType.FLOAT3]:{canConvertTo:[i.DataValueType.FLOAT4,i.DataValueType.FLOAT8]},[i.DataValueType.FLOAT4]:{canConvertTo:[i.DataValueType.FLOAT8]},[i.DataValueType.FLOAT8]:{canConvertTo:[]},[i.DataValueType.Money]:{canConvertTo:[]}},De._changeColumnDataValueTypeGroup={DateTime:X.DateTime,Text:De._removeItems(X.Text,[i.DataValueType.Text,i.DataValueType.LOCALIZABLE_STRING]),Number:De._removeItems(X.Number,[i.DataValueType.Float]),RichText:[i.DataValueType.RICH_TEXT],PhoneText:De._removeItems(X.Text,[i.DataValueType.Text,i.DataValueType.SHORT_TEXT,i.DataValueType.LOCALIZABLE_STRING]),EmailText:De._removeItems(X.Text,[i.DataValueType.Text,i.DataValueType.SHORT_TEXT,i.DataValueType.LOCALIZABLE_STRING]),WebText:De._removeItems(X.Text,[i.DataValueType.Text,i.DataValueType.SHORT_TEXT,i.DataValueType.LOCALIZABLE_STRING])};class yr{transform(e,t){return Na(e,t)}}yr.\u0275fac=function(e){return new(e||yr)},yr.\u0275pipe=s.\u0275\u0275definePipe({name:"stringFormat",type:yr,pure:!0});class Q{constructor(e){this._resourceFinderService=e}transform(e){return this._resourceFinderService.findLocalizableValue(e)}}Q.\u0275fac=function(e){return new(e||Q)(s.\u0275\u0275directiveInject(ce,16))},Q.\u0275pipe=s.\u0275\u0275definePipe({name:"lczToString",type:Q,pure:!0}),Q.\u0275prov=s.\u0275\u0275defineInjectable({token:Q,factory:Q.\u0275fac,providedIn:"root"});class st{}st.\u0275fac=function(e){return new(e||st)},st.\u0275mod=s.\u0275\u0275defineNgModule({type:st}),st.\u0275inj=s.\u0275\u0275defineInjector({}),function(){(typeof ngJitMode>"u"||ngJitMode)&&s.\u0275\u0275setNgModuleScope(st,{declarations:[Q],exports:[Q]})}();class it{constructor(e){this._sanitizer=e}transform(e,t){switch(t){case"html":return this._sanitizer.bypassSecurityTrustHtml(e);case"style":return this._sanitizer.bypassSecurityTrustStyle(e);case"script":return this._sanitizer.bypassSecurityTrustScript(e);case"url":return this._sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this._sanitizer.bypassSecurityTrustResourceUrl(e);default:return this._sanitizer.bypassSecurityTrustHtml(e)}}}it.\u0275fac=function(e){return new(e||it)(s.\u0275\u0275directiveInject(Lr.DomSanitizer,16))},it.\u0275pipe=s.\u0275\u0275definePipe({name:"bypassSecurityTrust",type:it,pure:!0});class ot{}ot.\u0275fac=function(e){return new(e||ot)},ot.\u0275mod=s.\u0275\u0275defineNgModule({type:ot}),ot.\u0275inj=s.\u0275\u0275defineInjector({}),function(){(typeof ngJitMode>"u"||ngJitMode)&&s.\u0275\u0275setNgModuleScope(ot,{declarations:[it],exports:[it]})}();const gs={macrosName:"ResourceString",macrosHandler:function(r,e){if(!r)throw new Error("Context is not defined");if(!r.Resources?.Strings)throw new Error("Context does not contain property Resources.Strings");const t=r.Resources.Strings[e[0]];return t instanceof Promise?(0,u.from)(t):(0,u.of)(t)}};function ys(r){return{macrosName:"ResourceString",macrosHandler:function(e,t){if(e?.strings){for(const n of t){const a=e.strings[n];if(a)return(0,u.of)(r.findLocalizableValue(a))}throw new Error(`Localized resource string not found. ${t}`)}if(e?.Strings){for(const n of t){const a=e.Strings[n];if(a)return(0,u.from)(a)}throw new Error(`Localized string in ViewModel metadata not found. ${t}`)}return gs.macrosHandler(e,t)}}}function Ts(r=!1){return{macrosName:"DataSourceEntityName",macrosHandler:(e,t)=>{if(!e)throw new Error("Context is not defined");let n=t[0],a;if(r)e.constructor.name==="BaseViewModel"?a=e.dataSchemas?.[n]?.dataSourceConfig?.config?.entitySchemaName:a=e.modelConfig?.dataSources?.[n]?.config?.entitySchemaName;else{n||(n=e.modelConfig.primaryDataSourceName);const o=e.modelConfig.dataSources?.[n];if(!o)throw new Error(`DataSource '${n}' is not defined`);a=o.config.entitySchemaName}return(0,u.of)(a)}}}function Es(r,e=!1){return{macrosName:"MacrosTemplateString",macrosHandler:(t,n)=>{const a=n.join(", "),o=/\[#([^\]]*)#\]/.test(a);return e||!o?(0,u.of)(a):r.getTemplate(a)}}}const Tr=new s.InjectionToken("MACROS_HANDLER"),jo=new s.InjectionToken("Flag indicating that allow open designer page using design button");class Bo{}const Uo=new s.InjectionToken("ContextService"),Ho=new s.InjectionToken("CrtNavigationLock"),$o=new s.InjectionToken("Default item property values"),Go=new s.InjectionToken("DEVKIT_MASK_SERVICE",{providedIn:"root",factory:()=>new i.MaskService}),Wo=new s.InjectionToken("Represents the static height for the header."),Ln=new s.InjectionToken("IS_DESIGN_TIME"),Zo=new s.InjectionToken("Use UI optimization - simple animations, glassmorphism, etc",{providedIn:"root",factory:()=>{try{const r=new u.BehaviorSubject(void 0),e=(0,s.inject)(se),t=(0,s.inject)(s.Injector),n=e.loadCurrentUserInfo().pipe((0,d.map)(()=>t.get(i.SysSettingsService)),(0,u.switchMap)(a=>a.getByCode("DisableAdvancedVisualEffects")),(0,d.map)(a=>Boolean(a?.value)),(0,u.take)(1));return r.pipe((0,u.switchMap)(a=>typeof a=="boolean"?(0,u.of)(a):n))}catch(r){return console.error(r),new u.BehaviorSubject(!1)}}}),Nn=new s.InjectionToken("Window payload values"),zo=new s.InjectionToken("USE_SAVE_SCROLL_POSITION_SERVICE"),_s=new s.InjectionToken("Save entity schema message identifier for entity object designer web token"),Ko={provide:_s,useFactory:()=>(0,i.generateGuid)()},ar=new s.InjectionToken("Terrasoft global object",{providedIn:"root",factory:()=>(0,v.get)((0,s.inject)(m.WINDOW_TOKEN),["Terrasoft"])||{}}),Yo=new s.InjectionToken("Flag indicating that this is an angular host",{providedIn:"root",factory:()=>(0,v.get)((0,s.inject)(ar),["isAngularHost"])}),Xo=new s.InjectionToken("Entity structure from Terrasoft.configuration",{providedIn:"root",factory:()=>{const r=(0,s.inject)(ar);return new Ss((0,v.get)(r,["configuration","EntityStructure"]))}});class Ss{constructor(e){this.items=e}}const Jo=new s.InjectionToken("Module structure from Terrasoft.configuration",{providedIn:"root",factory:()=>{const r=(0,s.inject)(ar);return new Is((0,v.get)(r,["configuration","ModuleStructure"]))}});class Is{constructor(e){this.items=e}}const qo=new s.InjectionToken("Module utils from Terrasoft",{providedIn:"root",factory:()=>(0,v.get)((0,s.inject)(ar),["ModuleUtils"])}),Qo=new s.InjectionToken("Root schema descriptors from Terrasoft.configuration",{providedIn:"root",factory:()=>{const r=(0,s.inject)(ar);return new vs((0,v.get)(r,["configuration","RootSchemaDescriptors"]))}});class vs{constructor(e){this.items=e}}const ec=new s.InjectionToken("Structures from Terrasoft.configuration",{providedIn:"root",factory:()=>{const r=(0,s.inject)(ar);return new As((0,v.get)(r,["configuration","Structures"]))}});class As{constructor(e){this.items=e}}const tc=new s.InjectionToken("AC whitelist");class be{constructor(e,t){this.handlers=e,this._featureValues=t}get _includeProcessedHandlers(){const e=this._featureValues.IncludeProcessedMacrosHandlers;return e??!1}_findClosingBracket(e,t){let n=t,a=1;for(;a>0&&n<e.length;){const o=e[++n];o==="("?a++:o===")"&&a--}return n}_getMacroses(e){const t=new Array;let n=e.indexOf("#");for(;n>=0;){const a=e.indexOf("(",n);if(a<0)return t;const o=this._findClosingBracket(e,a),c=e.indexOf("#",o);if(c<0)return t;t.push({macrosName:e.substring(n+1,a),macrosArgs:e.substring(a+1,o),macrosBody:e.substring(n,c+1)}),n=e.indexOf("#",c+1)}return t}_processMacroses({macroses:e,macrosNameFilter:t,context:n,options:a,value:o}){let c={...o};const l=h=>Boolean(t&&t!==h&&t.split(",").indexOf(h)===-1);return(0,u.forkJoin)({...e.map(({macrosName:h,macrosArgs:y,macrosBody:S})=>{if(l(h))return(0,u.of)(null);const R=this.getHandler(h);return R?this.internalHandle(y,n,t,a).pipe((0,d.switchMap)(ae=>{const Zn=R(n,`${ae.value}`.split(",").map(Ct=>Ct.trim()));return(Zn instanceof u.Observable?Zn:(0,u.of)(Zn)).pipe((0,d.catchError)(Ct=>(console.warn(Ct),(0,u.of)(S))),(0,d.tap)(Ct=>{const cl=typeof Ct=="number"?Ct:Ct||"";c={isChanged:!0,value:c.value.replace(S,cl)}}))}),(0,d.catchError)(ae=>(a&&a.errorHandler?a.errorHandler(ae):console.warn(ae),(0,u.of)(S)))):(0,u.of)(null)}),default:(0,u.of)(null)}).pipe((0,d.map)(()=>c))}_forEachStringInObject(e,t,n=[],a=[]){if(!(e instanceof Object))return;const o=l=>!n.includes(l),c=(l,h)=>{typeof l=="string"?t(a.concat(h),l):typeof l=="object"&&l!==null&&(a.push(h),this._forEachStringInObject(l,t,n,a),a.pop())};if(e instanceof Map)for(const l of Array.from(e.keys()).filter(o))c(e.get(l),l);else Object.keys(e).filter(o).forEach(l=>{c(e[l],l)})}_set(e,t,n){const a=t.slice(),o=a.pop(),c=a.length===0?e:Oa(e,a);c&&(c[o]=n)}getHandler(e){return this.handlers.filter(t=>t.macrosName===e).pop()?.macrosHandler}internalHandle(e,t,n,a){const o={value:e,isChanged:!1};return(0,u.of)(o).pipe((0,d.switchMap)(l=>{if(typeof e!="string")return(0,u.of)(l);const h=this._getMacroses(e);return h.length?this._processMacroses({macroses:h,macrosNameFilter:n,context:t,options:a,value:o}):(0,u.of)(l)}))}handle(e,t){const n=(0,v.cloneDeep)(e);return(0,u.forkJoin)([...(0,i.objectDeepKeys)(n).map(a=>{const o=(0,v.get)(n,a);return this.internalHandle(o,t).pipe((0,d.tap)(({value:c})=>{(0,v.set)(n,a,c)}))}),(0,u.of)(null)]).pipe((0,d.map)(()=>n))}handleMarcos(...e){return this.handleMacros.call(this,...e)}handleResourceMacros(e,t,n){return this.handleMacros("MacrosTemplateString,ResourceString",(0,v.cloneDeep)(e),t,n)}handleMacros(e,t,n,a){const o=[(0,u.of)(null)];return this._forEachStringInObject(t,(c,l)=>{const h=this._getMacroses(l);if(!h.length)return;const y=this._processMacroses({macroses:h,context:n,options:a,macrosNameFilter:e,value:{isChanged:!1,value:l}}).pipe((0,d.tap)(S=>{S.isChanged!==!1&&(a?.setPropertyFn?a.setPropertyFn({source:t,keys:c,value:S.value}):this._set(t,c,S.value))}));o.push(y)},this._includeProcessedHandlers?[]:["__preprocessed"]),(0,u.forkJoin)(o).pipe((0,d.map)(()=>t))}}be.\u0275fac=function(e){return new(e||be)(s.\u0275\u0275inject(Tr),s.\u0275\u0275inject(_n))},be.\u0275prov=s.\u0275\u0275defineInjectable({token:be,factory:be.\u0275fac});class ct{}ct.\u0275fac=function(e){return new(e||ct)},ct.\u0275mod=s.\u0275\u0275defineNgModule({type:ct}),ct.\u0275inj=s.\u0275\u0275defineInjector({providers:[be,{provide:Tr,useFactory:ys,deps:[ce],multi:!0},{provide:Tr,useFactory:Ts,deps:[[new s.Optional,Ln]],multi:!0},{provide:Tr,useFactory:Es,deps:[We,[new s.Optional,Ln]],multi:!0}],imports:[b.CommonModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&s.\u0275\u0275setNgModuleScope(ct,{imports:[b.CommonModule]})}();var xn=p(11685);class rc{_tryReplaceMacro(e,t){return t.indexOf(e)>-1?t.replace(e,xn.generate()):t}_isAllowedStringProperty(e,t){return!t||t.length===0||t.includes(e)}_replaceGenerateNameMacro(e,t){Object.entries(e||{}).forEach(([n,a])=>{if(a instanceof Object){this._replaceGenerateNameMacro(a,t);return}if(Array.isArray(a)&&a.forEach(o=>{this._replaceGenerateNameMacro(o,t)}),typeof a=="string"&&this._isAllowedStringProperty(n,t)){const o=this._tryReplaceMacro(na,a);e[n]=o}})}process(e,t){xn.config({disableDefaultAlphabetLength:!0,disableDefaultIdLength:!0,idLength:7}),xn.characters("0123456789abcdefghijklmnopqrstuvwxyz"),this._replaceGenerateNameMacro(e,t)}}class Me{constructor(e){this._macrosHandlerService=e}transform(e,t,n){return t?this._macrosHandlerService.handleResourceMacros(e,t).pipe((0,d.map)(a=>a[n])):null}}Me.\u0275fac=function(e){return new(e||Me)(s.\u0275\u0275directiveInject(be,16))},Me.\u0275pipe=s.\u0275\u0275definePipe({name:"handleResourceMacros",type:Me,pure:!0}),Me.\u0275prov=s.\u0275\u0275defineInjectable({token:Me,factory:Me.\u0275fac,providedIn:"root"});class G{constructor(e){this._emptyPlaceholderCreatorFactory=e}transform(e,t){return e==null||e===""?this._emptyPlaceholderCreatorFactory?.create(t)?.create(t)??"":e}}G.\u0275fac=function(e){return new(e||G)(s.\u0275\u0275directiveInject(En,16))},G.\u0275pipe=s.\u0275\u0275definePipe({name:"toEmptyPlaceholder",type:G,pure:!0}),G.\u0275prov=s.\u0275\u0275defineInjectable({token:G,factory:G.\u0275fac});class lt{}lt.\u0275fac=function(e){return new(e||lt)},lt.\u0275mod=s.\u0275\u0275defineNgModule({type:lt}),lt.\u0275inj=s.\u0275\u0275defineInjector({providers:[G,Ae,ve,Ea]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&s.\u0275\u0275setNgModuleScope(lt,{declarations:[G],exports:[G]})}();class ut{constructor(e){this._domSanitizer=e}transform(e){return this._domSanitizer.bypassSecurityTrustResourceUrl(e)}}ut.\u0275fac=function(e){return new(e||ut)(s.\u0275\u0275directiveInject(Lr.DomSanitizer,16))},ut.\u0275pipe=s.\u0275\u0275definePipe({name:"safeUrl",type:ut,pure:!0});class dt{}dt.\u0275fac=function(e){return new(e||dt)},dt.\u0275mod=s.\u0275\u0275defineNgModule({type:dt}),dt.\u0275inj=s.\u0275\u0275defineInjector({}),function(){(typeof ngJitMode>"u"||ngJitMode)&&s.\u0275\u0275setNgModuleScope(dt,{declarations:[ut],exports:[ut]})}();class sr{_getEntitySchemaColumnsDataValueTypesMap(e){return e.columns.reduce((t,n)=>(t[n.name]=n.dataValueType,t),{})}_getEntityColumnsDataValueTypesMap(e){return Object.keys(e).reduce((t,n)=>(t[n]=e[n].dataValueType,t),{})}_parseRawColumnValue(e,t){switch(t){case i.DataValueType.Date:case i.DataValueType.Time:case i.DataValueType.DateTime:return An(e);default:return e}}_parseRawEntityObject(e,t){const n={};return Object.keys(e).forEach(a=>{const o=e[a];n[a]=t[a]?this._parseRawColumnValue(o,t[a]):o}),n}deserializeEntity(e,t){i.ValidationUtilities.checkArgumentEmpty("columnsConfig",e),i.ValidationUtilities.checkArgumentEmpty("rawEntity",t);const n=this._getEntityColumnsDataValueTypesMap(e);return this._parseRawEntityObject(t,n)}deserializeEntities(e,t){i.ValidationUtilities.checkArgumentEmpty("columnsConfig",e),i.ValidationUtilities.checkArgumentEmpty("rawEntities",t);const n=this._getEntityColumnsDataValueTypesMap(e);return t.map(a=>this._parseRawEntityObject(a,n))}deserializeEntitySchemaRecord(e,t){i.ValidationUtilities.checkArgumentEmpty("entitySchema",e),i.ValidationUtilities.checkArgumentEmpty("rawEntities",t);const n=this._getEntitySchemaColumnsDataValueTypesMap(e);return this._parseRawEntityObject(t,n)}deserializeEntitySchemaRecords(e,t){i.ValidationUtilities.checkArgumentEmpty("entitySchema",e),i.ValidationUtilities.checkArgumentEmpty("rawEntities",t);const n=this._getEntitySchemaColumnsDataValueTypesMap(e);return t.map(a=>this._parseRawEntityObject(a,n))}}sr.\u0275fac=function(e){return new(e||sr)},sr.\u0275prov=s.\u0275\u0275defineInjectable({token:sr,factory:sr.\u0275fac,providedIn:"root"});var Cs=p(31892),nc=p(83676);class Er{constructor(e,t,n,a){this.overlay=e,this.overlayPositionBuilder=t,this.elementRef=n,this.ngZone=a,this.delayTime=500}_createIconHoveredStream(e){return this.ngZone.runOutsideAngular(()=>(0,u.fromEvent)(this.elementRef.nativeElement,"mouseenter").pipe((0,d.auditTime)(this.delayTime),(0,d.takeUntil)(e)))}_createIconMouseOutStream(){return this.ngZone.runOutsideAngular(()=>(0,u.fromEvent)(this.elementRef.nativeElement,"mouseleave"))}_createEventsStream(e,t){this.subscription=t.subscribe(),this.subscription.add(e.subscribe());const n=(0,u.merge)(e,t);n.pipe((0,d.takeUntil)(t));const a=n.subscribe(o=>{if(o.type==="mouseenter"&&this.show(),o.type==="mouseleave"){this.hide(),this.subscription.unsubscribe();const c=this._createIconMouseOutStream(),l=this._createIconHoveredStream(c);this._createEventsStream(l,c)}});this.subscription.add(a)}hide(){this.overlayRef.hasAttached()&&this.overlayRef.detach()}show(){!this.hintConfig||(this.overlayRef.hasAttached()||(this.tooltipRef=this.overlayRef.attach(new nc.ComponentPortal(this.hintConfig.componentType))),this.tooltipRef.instance.hintConfig=this.hintConfig.hintConfig)}ngOnInit(){const e=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:this.hintConfig.positionX?this.hintConfig.positionX:0,offsetY:this.hintConfig.positionY?this.hintConfig.positionY:0}]);this.overlayRef=this.overlay.create({scrollStrategy:this.overlay.scrollStrategies.close(),positionStrategy:e})}ngAfterViewInit(){const e=this._createIconMouseOutStream(),t=this._createIconHoveredStream(e);this._createEventsStream(t,e)}ngOnDestroy(){this.hide(),this.subscription.unsubscribe()}}Er.\u0275fac=function(e){return new(e||Er)(s.\u0275\u0275directiveInject(Cs.Overlay),s.\u0275\u0275directiveInject(Cs.OverlayPositionBuilder),s.\u0275\u0275directiveInject(s.ElementRef),s.\u0275\u0275directiveInject(s.NgZone))},Er.\u0275dir=s.\u0275\u0275defineDirective({type:Er,selectors:[["","libHintOverlay",""]],inputs:{hintConfig:["libHintOverlay","hintConfig"]},exportAs:["libHintOverlay"]});class ac{constructor(e){Object.assign(this,e)}}class pt{_setTitleAttribute(){const e="title",t=this._elementRef.nativeElement;if(t.offsetWidth<t.scrollWidth){const n=t.value;t.setAttribute(e,n)}else t.removeAttribute(e)}constructor(e){this._elementRef=e,this._debounceTime=300}onMouseEnter(){(0,v.debounce)(()=>this._setTitleAttribute(),this._debounceTime)()}}pt.\u0275fac=function(e){return new(e||pt)(s.\u0275\u0275directiveInject(s.ElementRef))},pt.\u0275dir=s.\u0275\u0275defineDirective({type:pt,selectors:[["","crtTextOverflowTitle",""]],hostBindings:function(e,t){e&1&&s.\u0275\u0275listener("mouseenter",function(){return t.onMouseEnter()})}});class ht{}ht.\u0275fac=function(e){return new(e||ht)},ht.\u0275mod=s.\u0275\u0275defineNgModule({type:ht}),ht.\u0275inj=s.\u0275\u0275defineInjector({}),function(){(typeof ngJitMode>"u"||ngJitMode)&&s.\u0275\u0275setNgModuleScope(ht,{declarations:[pt],exports:[pt]})}();function sc(r=class{}){return class extends r{constructor(){super(...arguments),this.maxAllowedContainerHeight=Number.MAX_VALUE,this.minAllowedContainerHeight=0,this.containerResize=new s.EventEmitter}onContainerVerticalResizing(e){if(e.edges.top){const n=e.rectangle.height;if(n<this.minAllowedContainerHeight||n>=this.maxAllowedContainerHeight)return;this.resizableContainerHeight=n,this.containerResize.emit()}}}}class ft{}ft.\u0275fac=function(e){return new(e||ft)},ft.\u0275dir=s.\u0275\u0275defineDirective({type:ft,selectors:[["","crtSaveScrollPosition",""]],features:[s.\u0275\u0275ProvidersFeature([Ze])]});class mt{}mt.\u0275fac=function(e){return new(e||mt)},mt.\u0275mod=s.\u0275\u0275defineNgModule({type:mt}),mt.\u0275inj=s.\u0275\u0275defineInjector({}),function(){(typeof ngJitMode>"u"||ngJitMode)&&s.\u0275\u0275setNgModuleScope(mt,{declarations:[ft],exports:[ft]})}();class ir{constructor(){this.subject$=new u.Subject}emit(e){this.subject$.next(e)}on(e,t,n){return this.subject$.pipe((0,d.filter)(a=>a.name===e),(0,d.map)(a=>a.value)).subscribe(a=>t.call(n,a))}}ir.\u0275fac=function(e){return new(e||ir)},ir.\u0275prov=s.\u0275\u0275defineInjectable({token:ir,factory:ir.\u0275fac});const ic=new s.InjectionToken("TRANSLATE_SERVICE_URI");class gt{constructor(){this._defaultShortDatePattern="M/D/YYYY"}convert(e){if(!!e)return{...e,shortDatePattern:e?.shortDatePattern?.toUpperCase()??this._defaultShortDatePattern,shortTimePattern:e?.shortTimePattern?.replace("tt","A")}}}gt.\u0275fac=function(e){return new(e||gt)},gt.\u0275prov=s.\u0275\u0275defineInjectable({token:gt,factory:gt.\u0275fac,providedIn:"root"});class oc{}const Ds=new s.InjectionToken("DateTimeFormatInfo",{providedIn:"root",factory:()=>{const r=(0,s.inject)(gt),e=(0,s.inject)(w);return r.convert(e?.cultureInfo?.dateTimeFormat)}});var or;(function(r){r[r.Busy=0]="Busy",r[r.Idle=1]="Idle"})(or||(or={}));var ll=p(10215),jr;(function(r){r.ReadyStateChange="readystatechange"})(jr||(jr={}));class kn{constructor(e){this._trackedTasks=[],this._trackedEventTasks=[],this._enableDebugTracking=!1,this._disableWaits=!1,this._pendingFunctions=new Map,this.onStateChange$=new s.EventEmitter(!1),this._parentZone=Zone.current,this._rootZone=Zone.root,this._isBusy=!1,this._ignoredTaskSources=["setInterval","requestAnimationFrame"],this._eventTaskFilters=[t=>t.source.startsWith("XMLHttpRequest")&&t.source.endsWith(jr.ReadyStateChange)],this._zone=this._parentZone.fork({name:e,properties:{currentExecutionZone:this},onInvokeTask:this._onInvokeTask.bind(this),onCancelTask:this._onCancelTask.bind(this),onScheduleTask:this._onScheduleTask.bind(this),onHasTask:this._onHasTask.bind(this)})}wait(e){if(this._disableWaits)return e();this._isBusy||(this._isBusy=!0,this.onStateChange$.next(or.Busy));const t=(0,i.generateGuid)();return this._pendingFunctions.set(t,this._enableDebugTracking?e:null),e().finally(()=>{this._pendingFunctions.delete(t),!this._pendingFunctions.size&&this._zone.run(()=>new Promise(n=>setTimeout(n)))}).catch(n=>{throw n})}_cancelXMLHttpRequestReadyStateChangeTaskOnRequestComplete(e,t){if(e.type==="eventTask"&&(e.state==="running"||e.state==="scheduled")){const n=e;n.eventName===jr.ReadyStateChange&&n.target.readyState===XMLHttpRequest.DONE&&t.cancelTask(n)}}_onInvokeTask(e,t,n,a,o,c){this._unTrackTask(a);let l;try{l=e.invokeTask(n,a,o,c),this._cancelXMLHttpRequestReadyStateChangeTaskOnRequestComplete(a,t)}catch(h){console.error(h),t.cancelTask(a)}return l}_onCancelTask(e,t,n,a){return this._unTrackTask(a),e.cancelTask(n,a)}_onScheduleTask(e,t,n,a){return this._getCanScheduleTask(a)?(this._trackTask(a),e.scheduleTask(n,a)):(a.cancelScheduleRequest(),this._parentZone.scheduleTask(a))}_onHasTask(e,t,n,a){e.hasTask(n,a);const o=a.eventTask||a.macroTask||a.microTask||this._pendingFunctions.size>0;this._isBusy!==o&&(this._rootZone.run(()=>this.onStateChange$.next(o?or.Busy:or.Idle)),this._isBusy=o)}_trackTask(e){!this._enableDebugTracking||(e.type==="eventTask"&&this._trackedEventTasks.push(e),this._trackedTasks.push(e))}_unTrackTask(e){if(!this._enableDebugTracking)return;const t=this._trackedTasks.indexOf(e);t>-1&&this._trackedTasks.splice(t,1)}_getCanScheduleTask(e){return e.type==="eventTask"?this._eventTaskFilters.some(t=>t(e)):this._ignoredTaskSources.indexOf(e.source)===-1}run(e,t,n){return this._zone.run(e,t,n)}}function cc(r,e,t){if(t.DisableNavigationLockInShell)return hr.instance;const n=e.get(r);return n instanceof kn?n:hr.instance}function _r(r){const e=r?.items;switch(r?.filterType){case i.FilterType.Between:r.className="Terrasoft.BetweenFilter",M(r.leftExpression),M(r.rightLessExpression),M(r.rightGreaterExpression);break;case i.FilterType.Compare:r.className="Terrasoft.CompareFilter",M(r.leftExpression),M(r.rightExpression);break;case i.FilterType.Exists:r.className="Terrasoft.ExistsFilter",M(r.leftExpression),_r(r.subFilters);break;case i.FilterType.FilterGroup:r.className="Terrasoft.FilterGroup";for(const[,t]of Object.entries(e||{}))_r(t);break;case i.FilterType.In:r.className="Terrasoft.InFilter",M(r.leftExpression),r.rightExpressions.forEach(t=>M(t));break;case i.FilterType.IsNull:r.className="Terrasoft.IsNullFilter",M(r.leftExpression);break}}function M(r){switch(r?.expressionType){case i.ExpressionType.SchemaColumn:r.className="Terrasoft.ColumnExpression";break;case i.ExpressionType.Parameter:r.className="Terrasoft.ParameterExpression",r.parameter&&(r.parameter.className="Terrasoft.Parameter"),r.parentFilter&&_r(r.parentFilter);break;case i.ExpressionType.ArithmeticOperation:r.className="Terrasoft.ArithmeticExpression",M(r.leftArithmeticOperand),M(r.rightArithmeticOperand);break;case i.ExpressionType.Function:lc(r);break;case i.ExpressionType.SubQuery:r.functionType===i.FunctionType.Aggregation&&(r.className="Terrasoft.AggregationQueryExpression"),r.functionType===i.FunctionType.None&&(r.className="Terrasoft.SubQueryExpression"),r.subFilters&&_r(r.subFilters);break}}function lc(r){switch(r?.functionType){case i.FunctionType.DateAdd:r.className="Terrasoft.DateAddFunctionExpression",M(r?.numberExpression),M(r?.dateTimeExpression);break;case i.FunctionType.DateDiff:r.className="Terrasoft.DateDiffFunctionExpression",M(r?.startDateExpression),M(r?.endDateExpression);break;default:r.className="Terrasoft.FunctionExpression"}r.functionArgument&&M(r.functionArgument),r.functionArguments&&r.functionArguments.forEach(e=>M(e))}function uc(r){const e={...r};return _r(e),e}function bs(r,e,t){if(!r)return null;let n=r.find(a=>e(a));return n||(r.forEach(a=>{n||(n=bs(t(a),e,t))}),n)}function Ms(r,e,t){if(!r)return null;let n=e(r);return n||(r.forEach(a=>{n||(n=Ms(t(a),e,t))}),n)}var dc=p(42378),pc=p.n(dc);class fe extends m.AbstractHandler{_castToDateTimeFormat(e){const t=e.format;if(!t)return e;const n=t.split(" ").length>=2;return{type:e.type,date:{display:!0},time:{display:n}}}_getDateTimeFormatMoment(e){let t="";const{shortDatePattern:n,shortTimePattern:a}=this._dateTimeFormat??{};if(!n&&!a)return this.defaultDateTimeFormat;const{date:o,time:c}=e??{},{display:l=!1}=o??{},{display:h=!1}=c??{};return l&&(t+=n),h&&(t+=` ${a}`),t.trim()}constructor(e){super(),this._dateTimeFormat=e,this.defaultDateTimeFormat="M/D/YYYY"}handle(e){const{dateTimeFormat:t,handledMomentFormat:n}=e,a=this._castToDateTimeFormat(t),o=this._getDateTimeFormatMoment(a);this.format=a?.date?.format;let c=this.internalHandler(n??o);if(c!==o){const l=new RegExp(`^\\${this._dateTimeFormat.dateSeparator}+`),h=new RegExp(`\\${this._dateTimeFormat.dateSeparator}+$`),y=new RegExp(`\\${this._dateTimeFormat.dateSeparator}{2,}`,"g");c=c.replace(l,"").replace(h,"").replace(y,this._dateTimeFormat.dateSeparator)}return e.handledMomentFormat=c,super.handle(e)??c}}fe.\u0275fac=function(e){return new(e||fe)(s.\u0275\u0275inject(Ds))},fe.\u0275prov=s.\u0275\u0275defineInjectable({token:fe,factory:fe.\u0275fac,providedIn:"root"});class Re extends m.AbstractHandler{handle(e){return e?.dateTimeFormat?.time?.format==="hour"?"H":super.handle(e)}}Re.\u0275fac=function(){let r;return function(t){return(r||(r=s.\u0275\u0275getInheritedFactory(Re)))(t||Re)}}(),Re.\u0275prov=s.\u0275\u0275defineInjectable({token:Re,factory:Re.\u0275fac,providedIn:"root"});class we extends m.AbstractHandler{handle(e){return e.dateTimeFormat?.date?.format==="week"?"W":super.handle(e)}}we.\u0275fac=function(){let r;return function(t){return(r||(r=s.\u0275\u0275getInheritedFactory(we)))(t||we)}}(),we.\u0275prov=s.\u0275\u0275defineInjectable({token:we,factory:we.\u0275fac,providedIn:"root"});class Fe extends fe{internalHandler(e){return this.format&&!this.format.has("days")?e.replace(/D/g,""):e}}Fe.\u0275fac=function(){let r;return function(t){return(r||(r=s.\u0275\u0275getInheritedFactory(Fe)))(t||Fe)}}(),Fe.\u0275prov=s.\u0275\u0275defineInjectable({token:Fe,factory:Fe.\u0275fac,providedIn:"root"});class Oe extends fe{internalHandler(e){return this.format&&!this.format?.has("years")?e.replace(/Y/g,""):e}}Oe.\u0275fac=function(){let r;return function(t){return(r||(r=s.\u0275\u0275getInheritedFactory(Oe)))(t||Oe)}}(),Oe.\u0275prov=s.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac,providedIn:"root"});class Pe extends fe{internalHandler(e){return this.format&&!this.format?.has("months")?e.replace(/M/g,""):e}}Pe.\u0275fac=function(){let r;return function(t){return(r||(r=s.\u0275\u0275getInheritedFactory(Pe)))(t||Pe)}}(),Pe.\u0275prov=s.\u0275\u0275defineInjectable({token:Pe,factory:Pe.\u0275fac,providedIn:"root"});const jn=new s.InjectionToken("Represents the moment date time format",{factory:()=>{const r=(0,s.inject)(we),e=(0,s.inject)(Re),t=(0,s.inject)(Fe),n=(0,s.inject)(Pe),a=(0,s.inject)(Oe);return{getFormat:o=>(r.setNext(e).setNext(t).setNext(n).setNext(a),r.handle({dateTimeFormat:o}))}},providedIn:"root"});class Sr{}class Ve extends Sr{constructor(e){super(),this._momentDateTimeFormatter=e}format(e,t){if(!e)return"";const n=new Date(e);if(isNaN(n))return"";const a=this._momentDateTimeFormatter.getFormat(t);return pc()(n).format(a)}}Ve.\u0275fac=function(e){return new(e||Ve)(s.\u0275\u0275inject(jn))},Ve.\u0275prov=s.\u0275\u0275defineInjectable({token:Ve,factory:Ve.\u0275fac,providedIn:"root"});const hc=new Map([["default",{ADD_TAGS:["#comment","signature"],FORCE_BODY:!0}],["textOnly",{ALLOWED_TAGS:["#text"],FORBID_CONTENTS:m.DOM_PURIFIER_DEFAULT_FORBID_CONTENTS}]]);class yt extends Sr{constructor(e){super(),this._domPurifier=e,this._defaultFormat={type:"sanitizeHtml",mode:"default"},this._sanitizationConfigsByMode=hc}_sanitizeHtml(e,t){const n=t.mode??"default",a=this._sanitizationConfigsByMode.get(n);return this._domPurifier.sanitize(e,a).toString()}format(e,t){return e?this._sanitizeHtml(e,t??this._defaultFormat):""}}yt.\u0275fac=function(e){return new(e||yt)(s.\u0275\u0275inject(m.DOM_PURIFIER))},yt.\u0275prov=s.\u0275\u0275defineInjectable({token:yt,factory:yt.\u0275fac,providedIn:"root"});var fc=p(62884),mc=p.n(fc);const gc=0,yc=20,Br=".",Rs="",Tc=1024;class Tt{constructor(e){this._userInfo=e}_adjustDecimalPrecision(e){return e==null||(e=parseInt(`${e}`,10),isNaN(e))?null:(e=Math.min(e,yc),e=Math.max(e,gc),e)}_adjustDecimalSeparator(e){return this._userInfo?.cultureInfo?.decimalSeparator||e||Br}_adjustThousandSeparator(e){return this._userInfo?.cultureInfo?.thousandSeparator||e||Rs}adjust(e){const{decimalPrecision:t,decimalSeparator:n,thousandSeparator:a,thousandAbbreviation:o,trimTrailingZeros:c}=e||{};return{type:"number",decimalPrecision:this._adjustDecimalPrecision(t),decimalSeparator:this._adjustDecimalSeparator(n),trimTrailingZeros:c??!1,thousandSeparator:this._adjustThousandSeparator(a),thousandAbbreviation:{enabled:o?.enabled===!0}}}}Tt.\u0275fac=function(e){return new(e||Tt)(s.\u0275\u0275inject(w,8))},Tt.\u0275prov=s.\u0275\u0275defineInjectable({token:Tt,factory:Tt.\u0275fac,providedIn:"root"});const Ec=",",_c="a",ws="#DECIMAL_SEPARATOR#",Fs="#THOUSAND_SEPARATOR#";class Le extends Sr{constructor(e){super(),this._formatAdjuster=e}_isNaN(e){const t=parseFloat(e);return isNaN(t)}_createNumeralFormat(e,t){const n="0,0",[a,o]=e.split(Br),c=Math.abs(parseInt(a,10))>=1e3,l=Boolean(t.thousandAbbreviation?.enabled);if(c&&l)return`${n}${_c}.[0]`;const h=this._getFractionLength(o,t),y="0".repeat(h);return`${n}.${y}`}_getFractionLength(e,t){if(!t.trimTrailingZeros)return t.decimalPrecision??e?.length??0;const n=(0,v.trimEnd)(e,"0");return(0,v.isNil)(t.decimalPrecision)?n.length:Math.min(n.length,t.decimalPrecision)}_replaceSeparators(e,t){const{decimalSeparator:n,thousandSeparator:a}=t,o=[{searchValue:Br,replaceMacros:ws,replaceValue:n},{searchValue:Ec,replaceMacros:Fs,replaceValue:a}];return(0,m.replaceSubstring)(e,o)}_undoReplaceSeparators(e,t){const{decimalSeparator:n,thousandSeparator:a}=t,o=[{searchValue:n,replaceMacros:ws,replaceValue:Br},{searchValue:a,replaceMacros:Fs,replaceValue:Rs}];return(0,m.replaceSubstring)(e,o)}format(e,t){if(this._isNaN(e))return"";t||(t={type:"number"});const n=this._formatAdjuster.adjust(t),a=this._createNumeralFormat(e,n),o=mc()(e).format(a);return this._isNaN(o)?"":this._replaceSeparators(o,n)}undoFormat(e,t){if(this._isNaN(e))return"";t||(t={type:"number"});const n=this._formatAdjuster.adjust(t);return this._undoReplaceSeparators(e,n)}}Le.\u0275fac=function(e){return new(e||Le)(s.\u0275\u0275inject(Tt))},Le.\u0275prov=s.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac,providedIn:"root"});const Sc="-",Bn="...",L=-1,Os=2,Ic=4,vc={type:"string",wordSeparator:" ",wordConnector:" ",maxLinesCount:L,maxLineLength:L};class ee extends Sr{_fillInFormat(e){const{maxLinesCount:t,maxLineLength:n,wordSeparator:a,wordConnector:o}=vc;return{type:"string",maxLinesCount:e?.maxLinesCount??t,maxLineLength:e?.maxLineLength??n,wordSeparator:e?.wordSeparator??a,wordConnector:e?.wordConnector??o}}_splitTextToWords(e,t){return e.split(t).map(n=>n.trim()).filter(n=>n!=="")}_wrapWordsToLines(e,t){const n=[];for(;e.length>0;){const a=e.shift(),o=this._getLinesState(n,t);if(this._canAddWordIntoLine(a,o)){this._addWordToLine(a,n);continue}if(this._canAddWordIntoNextLine(a,e,o)){n.push([]),e.unshift(a);continue}const{remainderLineLength:c}=o;if(this._canBreakWordIntoSyllables(o)){const l=this._breakWordIntoSyllables(a,n,c);n.push([]),e.unshift(l);continue}this._canTruncateWordWithEllipsis(o)?this._truncateWordWithEllipsis(a,n,c):this._addWordToLine(Bn,n);break}return n}_getLinesState(e,t){let{maxLinesCount:n,maxLineLength:a}=t;n<L&&(n=L),a<L&&(a=L);const o=e.length,c=o>0?e[o-1]:[],l=this._getTotalWordsLength(c),h=n===L?L:n-o,y=a===L?L:a-l;return{maxLineLength:a,maxLinesCount:n,currentLinesCount:o,remainderLineLength:y,remainderLinesCount:h}}_getTotalWordsLength(e){return e.reduce((t,n)=>t+n.length,0)}_canAddWordIntoLine(e,t){const{remainderLineLength:n}=t;return e.length<=n||n===L}_canAddWordIntoNextLine(e,t,n){const{maxLineLength:a,remainderLineLength:o,remainderLinesCount:c}=n;if(c===0)return!1;if(c===L)return!0;const l=e.length;if(l<Ic||o<Os)return!0;if(l>a)return!1;const R=this._getTotalWordsLength(t),ae=(c-1)*a;return R<=ae}_canBreakWordIntoSyllables(e){const{remainderLinesCount:t,remainderLineLength:n}=e,a=t===L||t>0,o=n>=Os;return a&&o}_canTruncateWordWithEllipsis(e){return e.remainderLineLength>0}_addWordToLine(e,t){const n=t.pop()??[];n.push(e),t.push(n)}_breakWordIntoSyllables(e,t,n){const a=e.length;a-n===1&&n--;const c=e.substring(0,n),l=e.substring(n,a);return this._addWordToLine(c+Sc,t),l}_truncateWordWithEllipsis(e,t,n){const a=e.substring(0,n);a.length===1?this._addWordToLine(Bn,t):this._addWordToLine(a+Bn,t)}format(e,t){if(typeof e!="string")return[];t=this._fillInFormat(t);const n=this._splitTextToWords(e,t.wordSeparator);return this._wrapWordsToLines(n,t).map(o=>o.join(t.wordConnector))}}ee.\u0275fac=function(){let r;return function(t){return(r||(r=s.\u0275\u0275getInheritedFactory(ee)))(t||ee)}}(),ee.\u0275prov=s.\u0275\u0275defineInjectable({token:ee,factory:ee.\u0275fac,providedIn:"root"});const Ps=new s.InjectionToken("Represents a datetime data formatter",{factory:()=>new Ve((0,s.inject)(jn)),providedIn:"root"}),Un=new s.InjectionToken("Represents a default data formatter",{factory:()=>new ee,providedIn:"root"}),Vs=new s.InjectionToken("Represents a sanitize html formatter",{factory:()=>new yt((0,s.inject)(m.DOM_PURIFIER)),providedIn:"root"}),Ls=new s.InjectionToken("Represents a number data formatter",{factory:()=>(0,s.inject)(Le),providedIn:"root"}),Hn=new s.InjectionToken("Represents a registration map of formatters",{factory:()=>new Map([["string",ee],["number",Le],["datetime",Ve]]),providedIn:"root"});class Et{constructor(e,t,n){this._injector=e,this._defaultFormatter=t,this._formattersMap=n}_getFormatterByType(e){const{type:t}=e;if(this._formattersMap.has(t)){const n=this._formattersMap.get(t);return this._injector.get(n)}}_getFormatterByPredicat(e){for(const[t,n]of this._formattersMap)if(typeof t=="function"&&t(e))return this._injector.get(n)}resolveFormatter(e){return e?this._getFormatterByType(e)??this._getFormatterByPredicat(e)??this._defaultFormatter:this._defaultFormatter}}Et.\u0275fac=function(e){return new(e||Et)(s.\u0275\u0275inject(s.Injector),s.\u0275\u0275inject(Un),s.\u0275\u0275inject(Hn))},Et.\u0275prov=s.\u0275\u0275defineInjectable({token:Et,factory:Et.\u0275fac,providedIn:"root"});class Ur{constructor(e){this._formatter=e}getValue(e){return e.toString()}getFormat(e){if(!e)return this.defaultFormat;const t=this.getFormatByDataType(e.dataType);return t?(0,v.merge)({},t,e):{type:this.defaultFormat?.type,...(0,v.omit)(e,"dataType")}}getFormatByDataType(e){return e&&this.formatsByDataTypeMap.get(e)}isSupportedValue(e){return typeof e=="string"}transform(e,t){if(!this.isSupportedValue(e))return"";const n=this.getValue(e),a=this.getFormat(t);return this._formatter.format(n,a)}}const Ac=new Map([[i.DataValueType.Date,{type:"datetime",date:{display:!0}}],[i.DataValueType.DateTime,{type:"datetime",date:{display:!0},time:{display:!0}}],[i.DataValueType.Time,{type:"datetime",date:{display:!1},time:{display:!0}}]]);class B extends Ur{constructor(e){super(e),this.defaultFormat={type:"datetime",date:{display:!0}},this.formatsByDataTypeMap=Ac}getValue(e){return typeof e=="number"&&(e=new Date(e)),e.toString()}isSupportedValue(e){return super.isSupportedValue(e)||typeof e=="number"||e instanceof Date}transform(e,t){return e===""?"":super.transform(e,t)}}B.\u0275fac=function(e){return new(e||B)(s.\u0275\u0275directiveInject(Ps,16))},B.\u0275pipe=s.\u0275\u0275definePipe({name:"dateTimeFormat",type:B,pure:!0}),B.\u0275prov=s.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"});const Cc=new Map(Dr.map(r=>[r,Dc(r)]));function Dc(r){return{type:"number",decimalPrecision:un.get(r)}}class U extends Ur{constructor(e){super(e),this.defaultFormat={type:"number"},this.formatsByDataTypeMap=Cc}isSupportedValue(e){return super.isSupportedValue(e)||typeof e=="number"}}U.\u0275fac=function(e){return new(e||U)(s.\u0275\u0275directiveInject(Ls,16))},U.\u0275pipe=s.\u0275\u0275definePipe({name:"numberFormat",type:U,pure:!0}),U.\u0275prov=s.\u0275\u0275defineInjectable({token:U,factory:U.\u0275fac,providedIn:"root"});class te{constructor(e){this._injector=e,this._unitNames=["Byte","Kilobyte","Megabyte","Gigabyte"],this._thresh=Tc}_roundNumber(e,t=1){const n=10**t;return Math.round((e+Number.EPSILON)*n)/n}_evalLevel(e){return e<this._thresh?0:Math.floor(Math.log(e)/Math.log(this._thresh))}_getUnits(e,t){const n=t&&e===0&&[2,3,4].includes(t%10)&&![12,13,14].includes(t%100)?"s":"",a=this._unitNames[e]+n,o=this._injector.get(A.TranslateService);return" "+o.instant("FileSizeUnit."+a)}transform(e,t){if(typeof e!="number")return typeof e=="string"?e:"";let n=t?this._unitNames.indexOf(t):-1;if(n===-1&&(n=this._evalLevel(e)),e<=0)return 0+this._getUnits(n);const a=n>0?this._roundNumber(e/Math.pow(this._thresh,n)):e;return this._injector.get(U).transform(a)+this._getUnits(n,a)}}te.\u0275fac=function(e){return new(e||te)(s.\u0275\u0275directiveInject(s.Injector,16))},te.\u0275pipe=s.\u0275\u0275definePipe({name:"memoryFormat",type:te,pure:!0}),te.\u0275prov=s.\u0275\u0275defineInjectable({token:te,factory:te.\u0275fac,providedIn:"root"});class W extends Ur{constructor(e){super(e),this.defaultFormat={type:"sanitizeHtml"},this.formatsByDataTypeMap=new Map([])}isSupportedValue(e){return super.isSupportedValue(e)||typeof e=="number"||typeof e=="boolean"||typeof e=="bigint"||typeof e=="symbol"||e instanceof Date}}W.\u0275fac=function(e){return new(e||W)(s.\u0275\u0275directiveInject(Vs,16))},W.\u0275pipe=s.\u0275\u0275definePipe({name:"sanitizeHtml",type:W,pure:!0}),W.\u0275prov=s.\u0275\u0275defineInjectable({token:W,factory:W.\u0275fac,providedIn:"root"});class Ne{constructor(e){this._injector=e}_sanitizeText(e,t){const n=this._injector.get(In.DecodeHtmlPipe),a=this._injector.get(W);return e=n.transform(e),e=a.transform(e,{mode:"textOnly",dataType:t}),e=n.transform(e),e}transform(e,t){const{dataType:n}=t??{};return Dr.includes(n)?this._injector.get(U).transform(e,t):ln.includes(n)?this._injector.get(B).transform(e,t):n===i.DataValueType.IMAGELOOKUP?"":typeof e=="string"?this._sanitizeText(e,n):e?.toString()}}Ne.\u0275fac=function(e){return new(e||Ne)(s.\u0275\u0275directiveInject(s.Injector,16))},Ne.\u0275pipe=s.\u0275\u0275definePipe({name:"valueFormat",type:Ne,pure:!0}),Ne.\u0275prov=s.\u0275\u0275defineInjectable({token:Ne,factory:Ne.\u0275fac,providedIn:"root"});class re{constructor(e){this._injector=e,this._translationPrefix="SmartDateTimeFormat"}_getTranslationTemplate(e,t){const n=new Date;if(n.setDate(n.getDate()),n.toDateString()===e.toDateString())return t.instant(`${this._translationPrefix}.TodayAt`);const a=new Date;if(a.setDate(a.getDate()-1),a.toDateString()===e.toDateString())return t.instant(`${this._translationPrefix}.YesterdayAt`);const o=new Date;return o.setDate(o.getDate()-2),o.toDateString()===e.toDateString()?t.instant(`${this._translationPrefix}.DayBeforeYesterdayAt`):null}transform(e){if(e){const t=new Date(e),n=this._injector.get(B),a=this._injector.get(A.TranslateService),o=this._getTranslationTemplate(t,a),c={dataType:i.DataValueType.Time};if(o)return nt.String.format(o,n.transform(t,c));{const l=a.instant(`${this._translationPrefix}.At`);return`${n.transform(t)} ${l} ${n.transform(t,c)}`}}return e}}re.\u0275fac=function(e){return new(e||re)(s.\u0275\u0275directiveInject(s.Injector,16))},re.\u0275pipe=s.\u0275\u0275definePipe({name:"smartDateTimeFormat",type:re,pure:!0}),re.\u0275prov=s.\u0275\u0275defineInjectable({token:re,factory:re.\u0275fac,providedIn:"root"});class ne{constructor(e){this._translateService=e,this._minutesInHour=60,this._hoursInDay=24,this._daysInMonth=30,this._milisecondsInMinute=6e4,this._milisecondsInHour=this._milisecondsInMinute*this._minutesInHour,this._milisecondsInDay=this._milisecondsInHour*this._hoursInDay,this._milisecondsInMonth=this._milisecondsInDay*this._daysInMonth,this._translationPrefix="TimerDateTimeFormat",this._monthAbbreviation=this._translateService.instant(`${this._translationPrefix}.MonthAbbreviation`),this._daysAbbreviation=this._translateService.instant(`${this._translationPrefix}.DaysAbbreviation`),this._hoursAbbreviation=this._translateService.instant(`${this._translationPrefix}.HoursAbbreviation`),this._minutesAbbreviation=this._translateService.instant(`${this._translationPrefix}.MinutesAbbreviation`)}_getDisplayValue(e){const t=Math.floor(e/this._milisecondsInMinute),n=Math.floor(e/this._milisecondsInHour),a=Math.floor(e/this._milisecondsInDay),o=Math.floor(e/this._milisecondsInMonth),c="{0}{1} {2}{3}";if(o>0){const h=a%this._daysInMonth;return nt.String.format(c,o,this._monthAbbreviation,h,this._daysAbbreviation)}if(a>0){const h=n%this._hoursInDay;return nt.String.format(c,a,this._daysAbbreviation,h,this._hoursAbbreviation)}const l=t%this._minutesInHour;return nt.String.format(c,n,this._hoursAbbreviation,l,this._minutesAbbreviation)}transform(e){return e?this._getDisplayValue(e):""}}ne.\u0275fac=function(e){return new(e||ne)(s.\u0275\u0275directiveInject(A.TranslateService,16))},ne.\u0275pipe=s.\u0275\u0275definePipe({name:"timerDateTimeFormat",type:ne,pure:!0}),ne.\u0275prov=s.\u0275\u0275defineInjectable({token:ne,factory:ne.\u0275fac,providedIn:"root"});var ul=7,bc=365.2425,Mc=Math.pow(10,8)*24*60*60*1e3,Ns=6e4,dl=36e5,Rc=1e3,pl=-Mc,hl=60,fl=3,ml=12,gl=4,wc=3600,yl=60,xs=wc*24,Tl=xs*7,Fc=xs*bc,Oc=Fc/12,El=Oc*3;class xe{constructor(){this._maxMinutesValue=999,this._maxMinutesTemplate="...",this._maxValueForNormalization=10}_getDisplayValue(e){const t=Math.floor(e/Ns);if(t>this._maxMinutesValue)return this._maxMinutesTemplate;const n=Math.floor((e-t*Ns)/Rc),a=[""];return this._addNormalizedTemplatePart(t,a),this._addTemplatePart(a,"{0}:"),this._addNormalizedTemplatePart(n,a),this._addTemplatePart(a,"{1}"),nt.String.format(a.join(""),t,n)}_addTemplatePart(e,t){e.push(t)}_addNormalizedTemplatePart(e,t){e<this._maxValueForNormalization&&t.push("0")}transform(e){return e<0?"":this._getDisplayValue(e)}}xe.\u0275fac=function(e){return new(e||xe)},xe.\u0275pipe=s.\u0275\u0275definePipe({name:"stopwatchDateTimeFormat",type:xe,pure:!0}),xe.\u0275prov=s.\u0275\u0275defineInjectable({token:xe,factory:xe.\u0275fac,providedIn:"root"});class _t{}_t.\u0275fac=function(e){return new(e||_t)},_t.\u0275mod=s.\u0275\u0275defineNgModule({type:_t}),_t.\u0275inj=s.\u0275\u0275defineInjector({}),function(){(typeof ngJitMode>"u"||ngJitMode)&&s.\u0275\u0275setNgModuleScope(_t,{declarations:[B,re,ne],exports:[B,re,ne]})}();class St{}St.\u0275fac=function(e){return new(e||St)},St.\u0275mod=s.\u0275\u0275defineNgModule({type:St}),St.\u0275inj=s.\u0275\u0275defineInjector({}),function(){(typeof ngJitMode>"u"||ngJitMode)&&s.\u0275\u0275setNgModuleScope(St,{declarations:[te],exports:[te]})}();class It{}It.\u0275fac=function(e){return new(e||It)},It.\u0275mod=s.\u0275\u0275defineNgModule({type:It}),It.\u0275inj=s.\u0275\u0275defineInjector({}),function(){(typeof ngJitMode>"u"||ngJitMode)&&s.\u0275\u0275setNgModuleScope(It,{declarations:[W],exports:[W]})}();class vt{}vt.\u0275fac=function(e){return new(e||vt)},vt.\u0275mod=s.\u0275\u0275defineNgModule({type:vt}),vt.\u0275inj=s.\u0275\u0275defineInjector({}),function(){(typeof ngJitMode>"u"||ngJitMode)&&s.\u0275\u0275setNgModuleScope(vt,{declarations:[U],exports:[U]})}();var $n;(function(r){r.Date="date",r.DateTime="datetime",r.Time="time"})($n||($n={}));class ke{static _createFormattersRegistrationMap(e){const t=new Map;return e=e??[],e.forEach(({predicat:n,formatter:a})=>{t.set(n,a)}),t}static forRoot(e){const t=e?.default??ee,n=this._createFormattersRegistrationMap(e?.customs),a=n.values();return{ngModule:ke,providers:[t,...a,Et,{provide:Un,useClass:t},{provide:Hn,useValue:n}]}}}ke.\u0275fac=function(e){return new(e||ke)},ke.\u0275mod=s.\u0275\u0275defineNgModule({type:ke}),ke.\u0275inj=s.\u0275\u0275defineInjector({});function Pc(r){return{activeFolderIdAttrName:`${r}_active_folder_id`,activeFolderNameAttrName:`${r}_active_folder_name`,activeFolderFilterAttrName:`${r}_active_folder_filter`,activeFolderFavoriteStateAttrName:`${r}_active_folder_favorite_state`,itemsAttrName:`${r}_items`,visibleAttrName:`${r}_visible`,itemsModelName:`${r}_items_DS`,itemsFilterAttrName:`${r}_items_DS_filter`,favoriteItemsAttrName:`${r}_favoriteItems`,expandedItemsAttrName:`${r}_expandedItems`,savedFolderIdAttrName:`${r}_savedFolderId`}}var N;(function(r){r.Auto="auto",r.Transparent="transparent",r.PrimaryContrast500="primary-contrast-500",r.Foreground500="foreground-500",r.Label500="label-500",r.BrandSecondary500="brand-secondary-500",r.Warning500="warn-500",r.Brand500="brand-500",r.NavigationPrimary500="navigation-primary-500",r.Primary500="primary-500"})(N||(N={}));const Vc=new Map([[N.PrimaryContrast500,"var(--crt-palette-background-500)"],[N.Foreground500,"var(--crt-palette-foreground-500)"],[N.Label500,"var(--crt-palette-label-500)"],[N.BrandSecondary500,"var(--crt-palette-secondary-500)"],[N.Warning500,"var(--crt-palette-error-500)"],[N.Brand500,"var(--crt-palette-navigation-primary-500)"],[N.NavigationPrimary500,"var(--crt-palette-navigation-primary-500)"],[N.Primary500,"var(--crt-palette-primary-500)"]]);function Lc(r){return Object.values(N).includes(r)&&r!==N.Transparent?Vc.get(r):r}var Gn;(function(r){r.LightGreen="crt-color-light-green",r.Green="crt-color-green",r.DarkGreen="crt-color-dark-green",r.Orange="crt-color-orange",r.OrangeRed="crt-color-orange-red",r.Coral="crt-color-coral",r.BrightRed="crt-color-bright-red",r.Red="crt-color-red",r.Purple="crt-color-purple",r.Violet="crt-color-violet",r.CelestialBlue="crt-color-celestial-blue",r.Blue="crt-color-blue",r.LightBlue="crt-color-light-blue",r.NavyBlue="crt-color-navy-blue",r.DarkTurquoise="crt-color-dark-turquoise",r.Turquoise="crt-color-turquoise",r.LightGreenPastel="crt-color-light-green-pastel",r.GreenPastel="crt-color-green-pastel",r.DarkGreenPastel="crt-color-dark-green-pastel",r.OrangePastel="crt-color-orange-pastel",r.OrangeRedPastel="crt-color-orange-red-pastel",r.CoralPastel="crt-color-coral-pastel",r.BrightRedPastel="crt-color-bright-red-pastel",r.RedPastel="crt-color-red-pastel",r.PurplePastel="crt-color-purple-pastel",r.VioletPastel="crt-color-violet-pastel",r.CelestialBluePastel="crt-color-celestial-blue-pastel",r.BluePastel="crt-color-blue-pastel",r.LightBluePastel="crt-color-light-blue-pastel",r.NavyBluePastel="crt-color-navy-blue-pastel",r.DarkTurquoisePastel="crt-color-dark-turquoise-pastel",r.TurquoisePastel="crt-color-turquoise-pastel",r.PrimaryBlue="crt-color-primary-blue",r.PrimaryOrange="crt-color-primary-orange",r.PrimaryGreen="crt-color-primary-green",r.PrimaryNavi="crt-color-primary-navi",r.PrimaryGrey="crt-color-primary-grey",r.PrimaryBlack="crt-color-primary-black",r.PrimaryWhite="crt-color-primary-white"})(Gn||(Gn={}));const Nc="client_schema_saved",xc="process-schema-saved",kc="Terrasoft.Core.RelatedPages.RelatedPage",jc="save-entity";class Bc{constructor(e){this.modalSettings=e.modalSettings}}function Uc(r){function e(n){n&&typeof n.unsubscribe=="function"&&n.unsubscribe()}const t=r.prototype.ngOnDestroy;r.prototype.ngOnDestroy=function(...n){for(const a in this)if(Object.prototype.hasOwnProperty.call(this,a)){const o=this[a];e(o),Array.isArray(o)&&o.forEach(c=>{e(c)})}t&&typeof t=="function"&&t.apply(this,n)}}function Hc(r){switch(r){case"asc":return i.OrderDirection.Asc;case"desc":return i.OrderDirection.Desc;default:return i.OrderDirection.None}}const $c=["asc","desc","none"];function Gc(r){return $c.includes(r)}function Wc(r,e,t){const n=r.find(o=>o.key===`${e.uId}.Caption`),a=new Y;if(!n?.value||n.value.every(o=>!o.value)){const o={cultureName:t,value:e.name};a.push(o)}else n?.value.forEach(o=>{const c={cultureName:o.key,value:o.value};a.push(c)});return a}function Zc(r){let e=!1;const t=[];return Object.keys(r).forEach(n=>{ks(n,r)&&(e=!0,t.push(n))}),{hasCycles:e,cycledModelsNames:t}}function ks(r,e,t=[]){if(!e[r])return!1;const n=Object.values(e[r]);return n.some(o=>t.includes(js(o)))?!0:(t.push(r),!n.every(o=>!ks(js(o),e,t)))}function js(r){return r.relationPath.split(".")[0]}function zc(r){return`${r}_List`}function Kc(r){return`${r}_BusinessRule_Filter`}class Bs{}const Us=new s.InjectionToken("Represents a current application theme.",{factory:()=>{const r=(0,s.inject)(se),e=(0,s.inject)(s.Injector);return r.loadCurrentUserInfo().pipe((0,d.map)(()=>e.get(Bs)),(0,u.switchMap)(t=>t.getCurrentTheme()))}}),Yc=new s.InjectionToken("Represents a default application theme.");function Xc(r){return{provide:s.APP_INITIALIZER,useFactory:(e,t,n,a)=>(0,P.Z)(function*(){const o=yield(0,u.firstValueFrom)(a);e.addSvgIconResolver(c=>t.bypassSecurityTrustResourceUrl(b.Location.joinWithSlash(n,`${r}/${o.code}/icons/${c}.svg`)))}),deps:[Aa.MatIconRegistry,Lr.DomSanitizer,b.APP_BASE_HREF,Us],multi:!0}}const Jc={DEFAULT:{id:"60abcb5d-bb5e-4e88-bdfa-79cfb7d17b06",caption:"Default",cssSelector:"default-theme",code:"default"},FREEDOM:{id:"b002bd94-d970-4637-bac2-54252e17a604",caption:"Freedom",cssSelector:"freedom-theme",code:"freedom"}},Hs=[i.DataValueType.Integer,i.DataValueType.Float,i.DataValueType.FLOAT1,i.DataValueType.FLOAT2,i.DataValueType.FLOAT3,i.DataValueType.FLOAT4,i.DataValueType.FLOAT8,i.DataValueType.Money],qc=[...Hs,i.DataValueType.Lookup,i.DataValueType.Text,i.DataValueType.LONG_TEXT,i.DataValueType.MAXSIZE_TEXT,i.DataValueType.MEDIUM_TEXT,i.DataValueType.SHORT_TEXT,i.DataValueType.PHONE_TEXT,i.DataValueType.WEB_TEXT,i.DataValueType.EMAIL_TEXT,i.DataValueType.RICH_TEXT];function Qc(r){return r.attributeType!==i.DataSchemaAttributeType.AggregationAttribute&&r.usageType!==i.DataSchemaAttributeUsageType.None}function el(r){return!!r&&qc.includes(r.dataValueType)&&Qc(r)}function tl(r){return Hs.includes(r)}var Hr;(function(r){r.Root="root",r.Angular="angular",r.ExecutionTracking="executionTracking"})(Hr||(Hr={}));var At;(function(r){r.Root="root",r.Angular="angular"})(At||(At={}));class $s{constructor(e){this.ngZone=e}run(e,t,n){return this.ngZone.runOutsideAngular(e)}}class rl extends $s{constructor(e){super(e)}run(e,t,n){return this.ngZone.run(e,t,n)}}class je{constructor(e){this._ngZone=e}createDefaultZones(){return{root:new $s(this._ngZone),angular:new rl(this._ngZone)}}createZone(e,t){if(t===Hr.ExecutionTracking)return new kn(e);throw new Error(`Zone ${e} with type ${t} is not supported`)}}je.\u0275fac=function(e){return new(e||je)(s.\u0275\u0275inject(s.NgZone))},je.\u0275prov=s.\u0275\u0275defineInjectable({token:je,factory:je.\u0275fac,providedIn:"root"});let Be=class{constructor(e){this._zoneProvider=e,this._zones=e.createDefaultZones()}init(e){var t=this;return(0,P.Z)(function*(){t._disableExecutionTrackingZone=yield(0,u.lastValueFrom)(e("DisableExecutionTrackingZone"))})()}runInZone(e,t,n,a){return this._disableExecutionTrackingZone&&e!==At.Angular&&(e=At.Root),(this._zones[e]??this._zones[At.Root]).run(t,n,a)}register(e,t){if(this._zones[e])throw new Error(`Zone ${e} already registered`);const n=this._zoneProvider.createZone(e,t);return this._zones[e]=n,n}get(e){return this._zones[e]}runOutside(e){return this.runInZone(At.Root,e)}};Be.\u0275fac=function(e){return new(e||Be)(s.\u0275\u0275inject(je))},Be.\u0275prov=s.\u0275\u0275defineInjectable({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be=(0,I.__decorate)([(0,m.CrtHandlerChainAdapter)({requestType:"crt.ZoneService"}),(0,I.__metadata)("design:paramtypes",[je])],Be);class Wn{get permissions(){return this._permissions}constructor(e){this._permissions=e}hasNotConfiguredPermissionsItems(){return this._permissions.byOperations?.length>0||this._permissions.byRecords?.length>0}}class cr{constructor(e){this._httpClient=e,this._serviceUrl="/rest/SectionService/"}getObjectsWithNotConfiguredPermissionsByEntityName(e){const t=this._serviceUrl+"GetNotAdministratedEntitiesByEntity";return this._httpClient.post(t,{entitySchemaName:e}).pipe((0,u.map)(n=>new Wn(n)))}getObjectsWithNotConfiguredPermissionsByPageSchemaUId(e){const t=this._serviceUrl+"GetNotAdministratedEntitiesByPage";return this._httpClient.post(t,{pageSchemaUId:e}).pipe((0,u.map)(n=>new Wn(n)))}setConnectedEntitiesAdministratedByEntity(e){const t=this._serviceUrl+"SetConnectedEntitiesAdministratedByEntity";return this._httpClient.post(t,{entitySchemaName:e})}setConnectedEntitiesRightsByPage(e){const t=this._serviceUrl+"SetConnectedEntitiesRightsByPage";return this._httpClient.post(t,{pageSchemaUId:e})}}cr.\u0275fac=function(e){return new(e||cr)(s.\u0275\u0275inject(T.HttpClient))},cr.\u0275prov=s.\u0275\u0275defineInjectable({token:cr,factory:cr.\u0275fac,providedIn:"root"});const nl={byOperations:["Account","Case"],byRecords:["Contact","Activity","Call","ServiceInServiceItem","Queue"]};class al{}class Gs{handleRequest(e,t={}){let n=e;return n=this.processResponse(t,n),n.pipe((0,d.catchError)(a=>{let o;return a instanceof Error?o=a.message:(typeof a.error?.errorInfo=="object"&&(o=a.error.errorInfo.message),typeof a.error=="string"&&(o=a.error)),o||(o=JSON.stringify(a.message)),this.processErrorMessage(o),(0,u.throwError)(()=>new Error(o))}))}processResponse(e,t){return e.skipUnsuccessfulResponse||(t=t.pipe((0,d.tap)(n=>this.processUnsuccessfulResponse(n)))),t}processUnsuccessfulResponse(e){const{success:t,errorInfo:n}=e||{};!t&&n&&this.processErrorMessage(n.message)}}class sl extends Gs{constructor(){super(...arguments),this._accumulatedErrorResponses=[]}_accumulateError(e){const t=(0,v.cloneDeep)(e);this._accumulatedErrorResponses.push(t)}_stopAccumulatingErrors(){this._accumulatedErrorResponses=[]}get accumulatedErrorResponses(){return this._accumulatedErrorResponses}processUnsuccessfulResponse(e){if(this._accumulateErrors&&this.canAccumulate(e)){this._accumulateError(e),this.processAccumulatedResponse(e);return}this.processSeparatedResponse(e)}handleRequestWithAccumulation(e,t){let n=!1;return this._accumulateErrors||(this._accumulateErrors=!0,n=!0),this.handleRequest(e,t).pipe((0,d.tap)(()=>{n&&(this.showAccumulatedErrors(),this._stopAccumulatingErrors())}),(0,d.catchError)(a=>{throw this._stopAccumulatingErrors(),a}))}}const il={},ol={provide:Nn,useFactory:()=>il};class lr{constructor(e,t){this._window=e,this._windowPayloadValues=t,this._initializeEventType="initializeEvent",this._windowPayloadValuesEventType="windowPayloadValuesEvent"}_dispatchPayloadDataEvent(e,t){const n=new MessageEvent(this._windowPayloadValuesEventType,{data:e});t.dispatchEvent(n)}openWindowWithPayload(e,t,n){const a=this._window.open(e,n);!(a&&t)||a.addEventListener(this._initializeEventType,()=>this._dispatchPayloadDataEvent(t,a))}initializeWindowPayloadValues(){this._window.addEventListener(this._windowPayloadValuesEventType,e=>Object.assign(this._windowPayloadValues,e.data)),this._window.dispatchEvent(new Event(this._initializeEventType))}}lr.\u0275fac=function(e){return new(e||lr)(s.\u0275\u0275inject(m.WINDOW_TOKEN),s.\u0275\u0275inject(Nn))},lr.\u0275prov=s.\u0275\u0275defineInjectable({token:lr,factory:lr.\u0275fac,providedIn:"root"})},50715:f=>{f.exports=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0 1.49845H0.783829V4.00128H2.48383V0.000488281H0V1.49845Z" fill="#FF4013"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M14 1.00089H5.08699V3.00089H14V1.00089ZM14 6.00052H5.08699V8.00052H14V6.00052ZM0 12.7274V13.9998H3.19044V9.99979H0V11.1761H1.5V11.5073H0.75V12.3962H1.5V12.7274H0ZM14 10.9998H5.08699V12.9998H14V10.9998Z" fill="#FF4013"/>
<path d="M2.14577e-05 7.56383V8.99972L3.15902 8.99977V7.56383L2.26167 7.56378L3.15902 6.86625L3.15902 5.00135L2.14577e-05 5.00128L0 6.43327H1.5L2.14577e-05 7.56383Z" fill="#FF4013"/>
</svg>
`},23048:f=>{f.exports=`<svg id="Boolean_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Rectangle_12" transform="translate(1 1)" fill="none" stroke="#ff4013" stroke-width="2"><rect width="14" height="14" stroke="none"/><rect x="1" y="1" width="12" height="12" fill="none"/></g><path id="Path_30" d="M10.5,4.5,5.912,9,4,7.162" transform="translate(1 0.5)" fill="rgba(0,0,0,0)" stroke="#ff4013" stroke-width="2"/></svg>
`},84369:f=>{f.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M8.183.779c2.084.007 2.813.35 4.468 1.861l-1.875 2.424-2.95-1.229Z" fill="#ff1c06"/><path d="M7.643 14.846c-2.083-.006-2.813-.35-4.467-1.861l1.875-2.424L8 11.79Z" fill="#ffc6b8"/><path d="M15.024 8.156c-.064 2.22-.431 3.006-2 4.809l-2.4-1.931 1.322-3.175Z" fill="#ff4013"/><path d="M13.074 3.143c1.5 1.443 1.8 2.195 1.949 4.431l-3.03.46-1.286-2.925Z" fill="#ff320e"/><path d="M3.224 12.86c-1.5-1.443-1.795-2.195-1.948-4.43l3.029-.46 1.287 2.925Z" fill="#ffe8e3"/><path d="M12.999 12.98c-1.578 1.562-2.386 1.878-4.769 2.1l-.4-3.055 3.149-1.384Z" fill="#ff795a"/><g transform="translate(-798.326 92.909)" fill="none"><path d="M798.326-92.909h16v16h-16z"/><circle cx="7" cy="7" r="7" transform="translate(799.326 -91.909)" stroke="#ff4013" stroke-width="2"/><circle cx="3" cy="3" r="3" transform="translate(803.326 -87.909)" stroke="#ff4013" stroke-width="2"/><g stroke="#ff4013" stroke-width="2"><path d="M806.326-81.454v3.686"/><path d="M806.326-88.519v-3.386"/><path d="M803.211-84.909h-3.685"/><path d="M812.826-84.909h-3.387"/><path d="M804.126-87.162c-.8-.8-2.306-2.252-3.1-3.05"/><path d="M811.628-79.605c-.729-.73-2.31-2.2-3.04-2.926"/><path d="m804.02-82.6-3 3"/><path d="m811.629-90.213-3.088 2.978"/></g></g></svg>
`},77054:f=>{f.exports=`<svg id="Date_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Rectangle_6448" transform="translate(1 3)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><rect width="14" height="12" stroke="none"/><rect x="1" y="1" width="12" height="10" fill="none"/></g><line id="Line_764" x2="12" transform="translate(2 7)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_11729" d="M176.171,1073.754v3" transform="translate(-171.171 -1072.754)" fill="none" stroke="#ff4013" stroke-width="2"/><path id="Path_11730" d="M176.171,1073.754v3" transform="translate(-165.171 -1072.754)" fill="none" stroke="#ff4013" stroke-width="2"/></svg>
`},46283:f=>{f.exports=`<svg id="Datetime_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Icon_left_panel_date_time_16x16_heavy" transform="translate(0)"><rect id="Rectangle_6448" width="16" height="16" fill="none"/><path id="Path_6271" d="M1895.033,260.278h-4.149v-9h12v2" transform="translate(-1889.884 -248.278)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7772" d="M0,0H4.5" transform="translate(1 6)" fill="none" stroke="#ff4013" stroke-width="2"/><line id="Line_771" y2="4" transform="translate(4)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_772" y2="4" transform="translate(10)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><g id="Path_6272" transform="translate(-1889.764 -248.582)" fill="none" stroke-miterlimit="10"><path d="M1905.764,258.584a5,5,0,1,1-5-5A5,5,0,0,1,1905.764,258.584Z" stroke="none"/><path d="M 1900.7626953125 261.5840454101562 C 1902.417602539062 261.5840454101562 1903.763916015625 260.23828125 1903.763916015625 258.5840759277344 C 1903.763916015625 256.9292602539062 1902.417602539062 255.5829772949219 1900.7626953125 255.5829772949219 C 1899.109130859375 255.5829772949219 1897.763916015625 256.9292602539062 1897.763916015625 258.5840759277344 C 1897.763916015625 260.23828125 1899.109130859375 261.5840454101562 1900.7626953125 261.5840454101562 M 1900.7626953125 263.5840454101562 C 1898.000244140625 263.5840454101562 1895.763916015625 261.3454284667969 1895.763916015625 258.5840759277344 C 1895.763916015625 255.8215942382812 1898.000244140625 253.5829772949219 1900.7626953125 253.5829772949219 C 1903.524169921875 253.5829772949219 1905.763916015625 255.8215942382812 1905.763916015625 258.5840759277344 C 1905.763916015625 261.3454284667969 1903.524169921875 263.5840454101562 1900.7626953125 263.5840454101562 Z" stroke="none" fill="#ff4013"/></g><path id="Path_6273" d="M1900.1,255.194v4h2.5" transform="translate(-1889.098 -249.194)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></g></svg>
`},55069:f=>{f.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2 3.5H14V12C14 12.1326 13.9473 12.2598 13.8536 12.3536C13.7598 12.4473 13.6326 12.5 13.5 12.5H2.5C2.36739 12.5 2.24021 12.4473 2.14645 12.3536C2.05268 12.2598 2 12.1326 2 12V3.5Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M14 3.5L8 9L2 3.5" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},88745:f=>{f.exports=`<svg id="File_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Group_7055" transform="translate(-733.278 92.545)"><g id="Rectangle_6454" transform="translate(735.278 -91.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><rect width="12" height="14" stroke="none"/><rect x="1" y="1" width="10" height="12" fill="none"/></g><line id="Line_774" x2="6" transform="translate(738.278 -87.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_775" x2="6" transform="translate(738.278 -84.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_777" x2="4" transform="translate(738.278 -81.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></g></svg>
`},72428:f=>{f.exports=`<svg id="Float_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Group_14515" transform="translate(-144 -422)"><rect id="Rectangle_39433" width="16" height="16" transform="translate(144 422)" fill="none"/></g><path id="Path_11302" d="M6.957-4.64a6.469,6.469,0,0,1-.8,3.6A2.764,2.764,0,0,1,3.707.127,2.732,2.732,0,0,1,1.285-1.079,6.377,6.377,0,0,1,.47-4.64a6.53,6.53,0,0,1,.793-3.621A2.752,2.752,0,0,1,3.707-9.426,2.739,2.739,0,0,1,6.135-8.208,6.39,6.39,0,0,1,6.957-4.64Zm-4.539,0a7.22,7.22,0,0,0,.3,2.447,1.022,1.022,0,0,0,.993.74A1.033,1.033,0,0,0,4.7-2.2,7.02,7.02,0,0,0,5-4.64a7,7,0,0,0-.308-2.453,1.034,1.034,0,0,0-.987-.746,1.025,1.025,0,0,0-.99.746A7.208,7.208,0,0,0,2.418-4.64ZM7.759-.908a1.064,1.064,0,0,1,.286-.806,1.158,1.158,0,0,1,.832-.273,1.125,1.125,0,0,1,.816.279,1.061,1.061,0,0,1,.289.8,1.061,1.061,0,0,1-.292.79,1.105,1.105,0,0,1-.812.289,1.138,1.138,0,0,1-.825-.282A1.057,1.057,0,0,1,7.759-.908ZM13.69,0H11.728V-5.37l.019-.882.032-.965q-.489.489-.679.641l-1.066.857L9.088-6.9l2.99-2.38H13.69Z" transform="translate(0.53 12.426)" fill="#ff4013"/></svg>
`},35429:f=>{f.exports=`<svg id="Guid_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_42308" width="16" height="16" fill="none"/><path id="Path_11737" d="M1.162,0H3.43V-9.8H1.162Zm9.926-10.388v3.654a2.894,2.894,0,0,0-2.254-.91A3.661,3.661,0,0,0,5.068-3.766,3.661,3.661,0,0,0,8.834.112a2.9,2.9,0,0,0,2.352-.98V0h2.086V-10.388ZM9.212-1.68A1.911,1.911,0,0,1,7.28-3.766,1.911,1.911,0,0,1,9.212-5.852,1.908,1.908,0,0,1,11.13-3.766,1.908,1.908,0,0,1,9.212-1.68Z" transform="translate(0.838 13)" fill="#ff4013" stroke="rgba(0,0,0,0)" stroke-width="1"/></svg>
`},63322:f=>{f.exports=`<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_1742_819)">
<path d="M10.913 8.99277L7.40833 13.0074H13.0074V11.2395L10.913 8.99277ZM10.8641 6.00745L15.0074 10.4519V15.0074H3.00745L10.8641 6.00745Z" fill="#ff4013"/>
<path d="M3.43597 9.72806C2.87697 10.2871 2.20496 9.92807 1.64496 9.37007C1.08596 8.81107 0.726988 8.13807 1.28699 7.57907L3.07794 5.78806C3.63694 5.22906 4.30898 5.58806 4.86798 6.14606C5.42798 6.70506 5.78595 7.37706 5.22595 7.93706L3.43597 9.72806Z" stroke="#ff4013" stroke-width="2" stroke-miterlimit="10"/>
<path d="M7.93689 5.22705C7.37689 5.78605 6.70591 5.42704 6.14691 4.86804C5.58691 4.30904 5.22894 3.63704 5.78894 3.07804L7.57892 1.28704C8.13892 0.728043 8.80993 1.08704 9.36993 1.64604C9.92993 2.20504 10.2879 2.87704 9.72888 3.43704L7.93689 5.22705Z" stroke="#ff4013" stroke-width="2" stroke-miterlimit="10"/>
<path d="M4.70691 6.51907L6.51791 4.70807" stroke="#ff4013" stroke-width="2"/>
<path d="M11.301 2.00702H14.0079V14.007H2.00793V11.581" stroke="#ff4013" stroke-width="2"/>
</g>
<defs>
<clipPath id="clip0_1742_819">
<rect width="16.007" height="16.007" fill="#ff4013"/>
</clipPath>
</defs>
</svg>
`},10063:f=>{f.exports=`<svg id="Integer_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_39434" width="16" height="16" fill="none"/><path id="Path_11303" d="M5.37,0H3.409V-5.37l.019-.882.032-.965q-.489.489-.679.641l-1.066.857L.768-6.9l2.99-2.38H5.37Zm9.007-4.64a6.469,6.469,0,0,1-.8,3.6A2.764,2.764,0,0,1,11.127.127,2.732,2.732,0,0,1,8.706-1.079,6.377,6.377,0,0,1,7.89-4.64a6.53,6.53,0,0,1,.793-3.621,2.752,2.752,0,0,1,2.444-1.165,2.739,2.739,0,0,1,2.428,1.219A6.39,6.39,0,0,1,14.377-4.64Zm-4.539,0a7.22,7.22,0,0,0,.3,2.447,1.022,1.022,0,0,0,.993.74,1.033,1.033,0,0,0,.99-.749,7.02,7.02,0,0,0,.3-2.437,7,7,0,0,0-.308-2.453,1.034,1.034,0,0,0-.987-.746,1.025,1.025,0,0,0-.99.746A7.208,7.208,0,0,0,9.839-4.64Z" transform="translate(0.428 13)" fill="#ff4013"/></svg>
`},26634:f=>{f.exports=`<svg id="Lookup_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Group_6916" transform="translate(2.277 2)"><g id="Group_6915" transform="translate(-0.277)"><circle id="Ellipse_237" cx="4.5" cy="4.5" r="4.5" fill="none" stroke="#ff4013" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path id="Path_6243" d="M.344.344,4.123,4.123" transform="translate(7.877 7.876)" fill="none" stroke="#ff4013" stroke-width="2"/></g></g><rect id="Rectangle_24756" width="16" height="16" fill="none"/></svg>
`},37786:f=>{f.exports=`<svg id="Money_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><path id="Path_7070" d="M-318.645,863.293h-6v-8h14v4" transform="translate(325.645 -852.293)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7071" d="M-322.646,855.292a2,2,0,0,1-2,2" transform="translate(326.646 -851.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7072" d="M-312.246,857.292a2,2,0,0,1-2-2" transform="translate(326.246 -851.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7073" d="M-324.646,861.692a2,2,0,0,1,2,2" transform="translate(326.646 -853.692)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><g id="Ellipse_1363" transform="translate(6 5)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><circle cx="2" cy="2" r="2" stroke="none"/><circle cx="2" cy="2" r="1" fill="none"/></g><path id="Path_7074" d="M-310.846,861.425c0,.737-1.12,1.333-2.5,1.333s-2.5-.6-2.5-1.333,1.12-1.333,2.5-1.333S-310.846,860.69-310.846,861.425Z" transform="translate(325.846 -851.092)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7075" d="M-310.846,863.292c0,.589-1.12,1.333-2.5,1.333s-2.5-.744-2.5-1.333" transform="translate(325.846 -850.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></svg>
`},6182:f=>{f.exports=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.3353 1.83815L6.26378 1.46676L6.26378 1.46676L5.3353 1.83815ZM6.03813 3.59524L5.10965 3.96663L5.10965 3.96663L6.03813 3.59524ZM5.82454 4.94398L5.05632 4.3038L5.0563 4.30383L5.82454 4.94398ZM5.44629 5.39792L6.21451 6.03811L6.21453 6.03808L5.44629 5.39792ZM5.52758 7.19434L4.82047 7.90144L4.8205 7.90147L5.52758 7.19434ZM6.8057 8.47236L7.5128 7.76526L7.51278 7.76523L6.8057 8.47236ZM8.60205 8.55382L7.96198 7.7855L7.96187 7.78559L8.60205 8.55382ZM9.05613 8.17554L9.69619 8.94386L9.69631 8.94376L9.05613 8.17554ZM10.4048 7.96192L10.7762 7.03345L10.7761 7.03344L10.4048 7.96192ZM12.1617 8.66476L11.7903 9.59322L11.7903 9.59323L12.1617 8.66476ZM12.9999 9.90268H11.9999V9.90272L12.9999 9.90268ZM13 11.7369H14V11.7368L13 11.7369ZM4.09733 2C4.23363 2 4.3562 2.08298 4.40682 2.20954L6.26378 1.46676C5.90943 0.580885 5.05144 0 4.09733 0V2ZM4.40682 2.20953L5.10965 3.96663L6.96661 3.22386L6.26378 1.46676L4.40682 2.20953ZM5.10965 3.96663C5.15517 4.08044 5.13462 4.20985 5.05632 4.3038L6.59277 5.58417C7.14152 4.92566 7.28485 4.01947 6.96661 3.22385L5.10965 3.96663ZM5.0563 4.30383L4.67804 4.75777L6.21453 6.03808L6.59279 5.58414L5.0563 4.30383ZM4.67807 4.75774C3.90567 5.68462 3.96693 7.0479 4.82047 7.90144L6.23468 6.48723C6.11298 6.36552 6.10396 6.17076 6.21451 6.03811L4.67807 4.75774ZM4.8205 7.90147L6.09862 9.17949L7.51278 7.76523L6.23466 6.4872L4.8205 7.90147ZM6.09859 9.17947C6.95196 10.0328 8.31517 10.0946 9.24224 9.32204L7.96187 7.78559C7.82939 7.89599 7.63468 7.88713 7.5128 7.76526L6.09859 9.17947ZM9.24212 9.32213L9.69619 8.94386L8.41606 7.40722L7.96198 7.7855L9.24212 9.32213ZM9.69631 8.94376C9.79033 8.86541 9.91963 8.8449 10.0334 8.8904L10.7761 7.03344C9.98045 6.71516 9.07438 6.85861 8.41594 7.40732L9.69631 8.94376ZM10.0333 8.89039L11.7903 9.59322L12.5331 7.73629L10.7762 7.03345L10.0333 8.89039ZM11.7903 9.59323C11.917 9.64389 11.9999 9.76649 11.9999 9.90268H13.9999C13.9999 8.94847 13.4189 8.09059 12.5331 7.73628L11.7903 9.59323ZM11.9999 9.90272L12 11.7369L14 11.7368L13.9999 9.90264L11.9999 9.90272ZM12 11.7369C12 11.8823 11.8822 12 11.737 12V14C12.987 14 14 12.9867 14 11.7369H12ZM11.737 12C6.35945 12 2 7.64067 2 2.26318H0C0 8.74528 5.25492 14 11.737 14V12ZM2 2.26318C2 2.11782 2.11785 2 2.26316 2V0C1.01322 0 0 1.0133 0 2.26318H2ZM2.26316 2H4.09733V0H2.26316V2Z" fill="#FF4013"/>
</svg>
`},53771:f=>{f.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13 1H3C1.89543 1 1 1.89543 1 3V13C1 14.1046 1.89543 15 3 15H13C14.1046 15 15 14.1046 15 13V3C15 1.89543 14.1046 1 13 1Z" stroke="#FF4013" stroke-width="2" stroke-miterlimit="10"/>
<path d="M9 12H7V6H4V4H12V6H9V12Z" fill="#FF4013"/>
</svg>
`},77732:f=>{f.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.14 6.90901C5.13775 7.50618 5.25259 8.098 5.478 8.65101L1.5 12.629V15.229H4.1V13.669H5.66V12.109H7.22L8.078 11.251C8.631 11.4764 9.22282 11.5912 9.82 11.589C10.7456 11.589 11.6504 11.3145 12.4201 10.8003C13.1897 10.286 13.7895 9.55512 14.1438 8.69996C14.498 7.84481 14.5907 6.90381 14.4101 5.99598C14.2295 5.08815 13.7838 4.25426 13.1293 3.59975C12.4747 2.94524 11.6409 2.49951 10.733 2.31893C9.82519 2.13835 8.8842 2.23103 8.02904 2.58525C7.17388 2.93947 6.44297 3.53932 5.92872 4.30894C5.41448 5.07856 5.14 5.98339 5.14 6.90901ZM12.4832 5.95178C12.4832 6.84671 11.7577 7.57221 10.8628 7.57221C9.96785 7.57221 9.24236 6.84671 9.24236 5.95178C9.24236 5.05684 9.96785 4.33135 10.8628 4.33135C11.7577 4.33135 12.4832 5.05684 12.4832 5.95178Z" fill="#FF4013"/>
</svg>
`},98873:f=>{f.exports=`<svg id="Text_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_39432" width="16" height="16" fill="none"/><path id="Path_11304" d="M5.113,0H2.994V-8.23H.28V-9.994H7.827V-8.23H5.113Z" transform="translate(4 13)" fill="#ff4013"/></svg>
`},99342:f=>{f.exports=`<svg id="Time_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Ellipse_1346" transform="translate(1 1)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><circle cx="7" cy="7" r="7" stroke="none"/><circle cx="7" cy="7" r="6" fill="none"/></g><path id="Path_6908" d="M1824.814,31.345v6h3" transform="translate(-1816.814 -29.345)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></svg>
`},57102:f=>{f.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2 8H14" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M8 13.8375C9.38071 13.8375 10.5 11.2239 10.5 7.99998C10.5 4.77601 9.38071 2.16248 8 2.16248C6.61929 2.16248 5.5 4.77601 5.5 7.99998C5.5 11.2239 6.61929 13.8375 8 13.8375Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},8239:(f,Z,p)=>{p.d(Z,{Z:()=>i});function I(A,m,T,s,d,C,z){try{var _=A[C](z),E=_.value}catch(O){T(O);return}_.done?m(E):Promise.resolve(E).then(s,d)}function i(A){return function(){var m=this,T=arguments;return new Promise(function(s,d){var C=A.apply(m,T);function z(E){I(C,s,d,z,_,"next",E)}function _(E){I(C,s,d,z,_,"throw",E)}z(void 0)})}}}}]);
